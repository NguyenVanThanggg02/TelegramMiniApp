var Ca=Object.defineProperty,ka=Object.defineProperties;var wa=Object.getOwnPropertyDescriptors;var At=Object.getOwnPropertySymbols;var Ma=Object.prototype.hasOwnProperty,Ta=Object.prototype.propertyIsEnumerable;var zt=(t,r,s)=>r in t?Ca(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,C=(t,r)=>{for(var s in r||(r={}))Ma.call(r,s)&&zt(t,s,r[s]);if(At)for(var s of At(r))Ta.call(r,s)&&zt(t,s,r[s]);return t},T=(t,r)=>ka(t,wa(r));var E=(t,r,s)=>new Promise((n,c)=>{var o=p=>{try{u(s.next(p))}catch(g){c(g)}},l=p=>{try{u(s.throw(p))}catch(g){c(g)}},u=p=>p.done?n(p.value):Promise.resolve(p.value).then(o,l);u((s=s.apply(t,r)).next())});import{R as e,u as Ee,P as se,T as h,B as H,S as dt,a as fe,b as pt,p as Pa,i as Da,c as Pe,r as Ft,d as oe,e as Q,f as gt,g as ce,h as i,j as a,A as qe,L as pe,k as ht,l as xe,M as Ae,m as De,n as Bt,o as U,I as de,q as Et,s as $e,t as ft,v as La,w as $t,x as yt,y as le,z as be,C as Ia,D as Oa,E as ge,F as bt,G as Aa,H as za,J as Fa,K as Ba,Q as Vt,N as et,O as Rt,U as Ut,V as qt,W as xt,X as $a,Y as Va,Z as ze,_ as Ht,$ as jt,a0 as Ra,a1 as Ua,a2 as qa,a3 as Ha,a4 as Ge,a5 as vt,a6 as Qt,a7 as Gt,a8 as ja,a9 as Qa,aa as Ga,ab as Wa,ac as St,ad as Ya,ae as Ka,af as Wt,ag as Nt,ah as tt,ai as Yt,aj as Za,ak as Ja,al as Xa,am as en,an as Kt,ao as Zt,ap as tn,aq as an,ar as nn,as as rn,at as Jt,au as sn,av as on,aw as cn,ax as ln,ay as un,az as mn,aA as dn,aB as Xt,aC as J,aD as pn,aE as gn}from"./vendor.ee4a4ac6.module.js";const hn=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerpolicy&&(o.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?o.credentials="include":c.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(c){if(c.ep)return;c.ep=!0;const o=s(c);fetch(c.href,o)}};hn();const En=t=>{const[r,s]=e.useState(!1),n=Ee();return e.createElement(se,null,e.createElement("div",{className:"section-container"},e.createElement(h,null,"This mini app was generated by zmp-cli")),e.createElement("div",null,e.createElement(H,{variant:"secondary",fullWidth:!0,onClick:()=>s(!0)},"Back")),e.createElement(dt.Actions,{visible:r,onClose:()=>s(!1),actions:[[{text:"Go back",onClick:()=>{n(-1)}},{text:"Action 1",close:!0},{text:"Action 2",close:!0}],[{text:"Close",close:!0,danger:!0}]]}))},ie=fe({key:"user",default:{zalo_id:"",avatar:"",name:"",uuid:"",store_uuid:0,company_uuid:0,role:"",login:!1,authToken:"",accessToken:"",has_phone:!1,is_oa_follow:!1}});pt({key:"authTokenSelector",get:({get:t})=>t(ie).authToken});pt({key:"zalo_user",get:r=>E(void 0,[r],function*({get:t}){try{const{userInfo:s}=yield Pa({});return console.log(s),s}catch(s){return console.log(s),null}})});const fn=fe({key:"company",default:{name:"",uuid:""}}),Fe=fe({key:"storeListState",default:{is_update:!1,stores:[]}}),we=fe({key:"store",default:{name:"",uuid:"",created_at:"",store_settings:[]}}),yn=fe({key:"categoryListState",default:{is_update:!1,categories:[]}}),bn=fe({key:"category",default:{name:"",describe:"",store_uuid:"",uuid:""}}),at=fe({key:"product",default:{is_update:!1,products:[]}}),nt=fe({key:"tableList",default:{is_update:!1,tables:[]}}),_t=fe({key:"table",default:{}}),ea=fe({key:"orderList",default:{is_update:!1,orders:[]}}),ta=fe({key:"orderState",default:{}}),xn=fe({key:"currentOrderByStoreClientSide",default:{}}),Ct=fe({key:"orderListByUser",default:{is_update:!1,orders:[]}}),rt=fe({key:"cart",default:[]});fe({key:"requestLocationTries",default:0});fe({key:"authTokenState",default:""});const vn=fe({key:"requestPhoneTries",default:0});pt({key:"phone",get:r=>E(void 0,[r],function*({get:t}){if(t(vn)){const{number:n,token:c}=yield Da({fail:console.warn});return n||(console.warn("S\u1EED d\u1EE5ng token n\xE0y \u0111\u1EC3 truy xu\u1EA5t s\u1ED1 \u0111i\u1EC7n tho\u1EA1i c\u1EE7a ng\u01B0\u1EDDi d\xF9ng",c),console.warn("Chi ti\u1EBFt tham kh\u1EA3o: ","https://mini.zalo.me/blog/thong-bao-thay-doi-luong-truy-xuat-thong-tin-nguoi-dung-tren-zalo-mini-app"),console.warn("Gi\u1EA3 l\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i m\u1EB7c \u0111\u1ECBnh: 0337076898"),"0337076898")}return!1})});const Ne=fe({key:"loading",default:{isLoading:!1,completedText:"Loading...",completedPercent:100}}),We=fe({key:"spinner",default:!1}),Sn={title:"goimonhanh",headerColor:"white",textColor:"black",statusBar:"normal",actionBarHidden:!0,hideAndroidBottomNavigationBar:!1,hideIOSSafeAreaBottom:!1,version:"1.1.21",zalo_app_id:"1139875216161917703"},Nn=!1,_n=[],Cn="1591210455054017920",kn=[],wn=[];var Ve={app:Sn,debug:Nn,listCSS:_n,offical_oa_id:Cn,listSyncJS:kn,listAsyncJS:wn};const Mn="https://hatkeo.com/api",Tn="wss://hatkeo.com/cable",kt="endpoint",Pn=Ve.app.version,Dn=Ve.app.zalo_app_id,st=100,W={PENDING:"pending",CONFIRMED:"confirmed",DELIVERED:"delivered",DONE:"done",WAIT_FOR_PAY:"wait_for_pay",PAYED:"payed",REFUNDED:"refunded",CANCELLED:"cancelled"},Ln=["payed","refunded","cancelled"],ot={PENDING:"pending",PARTIAL_DELIVERY:"partial_delivery",FINISHED:"finished"},aa={"/admin/home":"main.adminDashboard","/admin/profile":"profile.profile","/admin/company/index":"main.companyManagement","/admin/company/form":"main.createCompany","/admin/store/form":"main.regStore","/admin/store/index":"storeManagement.storeManagement","/admin/product/index":"productManagement.productManagement","/admin/product/form":"productManagement.createProduct.createProduct","/admin/product/update":"productManagement.updateProduct","/admin/category/index":"categoryManagement.categoryManagement","/admin/category/form":"categoryManagement.updateCategory","/admin/table/index":"tableManagement.tableManagement","/admin/table/form":"tableManagement.updateTable","/admin/voucher/index":"voucherManagement.voucherManagement","/admin/voucher/form":"voucherManagement.createVoucher.createVoucher","/admin/voucher/update":"voucherManagement.updateVoucher","/admin/order-management/index":"orderManagement.orderManagement","/admin/order-management/details/index":"orderManagement.orderDetail.orderDetail","/admin/order-management/create/index":"orderManagement.createOrder","/order-history":"userOrder.orderHistory","/admin/user/index":"storeManagement.user","/admin/sale-report":"storeManagement.sale_report","/admin/store/edit":"storeManagement.editStore"},In={ORDER:"OrderNotification"},On=[{value:"vi",title:"Ti\u1EBFng Vi\u1EC7t",icon:""},{value:"en",title:"English",icon:""}],Le={BY_VALUE:"decrease_by_value",BY_PERCENT:"decrease_by_percent"},na={ACTIVE:"actived",INACTIVE:"inactive"},An={DISPLAY:"show_now",HIDDEN:"not_show"},Re="https://images.unsplash.com/photo-1602253057119-44d745d9b860?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZGlzaHxlbnwwfHwwfHx8MA%3D%3D",zn="MPlWFIZPTNHMaU4zBzHrSr6Lu3KjopqiN8ci0NVBQWr6yha-ORD32aUMrJPBlaa0NPJSAboq5pD2We4IMx5M626MaXG1eqTP2RhMJ3IkF4OljCnjKwS0Lr61dKz8hbTwPfo0QdokHdbmZxTl59P0OZwti2KMYtS8CeoH9K-mJYerceSE7Q5LGY3fiMuQyYLz8yJAKIx115OI-EnzFlWdJrhvuK5onYKCKzBJ6YtD9rT9olXjCT0xIqdwfr9qfs1q4BECKXsxTcWIWf8xASfZ93FFg3yn_3ekIVhn4M_cE0GBxje8Aka5EL3OmpzLwbyfG-2ZF7taQ2rTsAS0T_nTB5s_kMKvl79mHwU_Es-qTIrggPmCHUb8Fcr9SAL-9CLtUW",Fn=!1,Ye="goimonhanh_keepScreenOn";var Bn="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/usa.7cbcfb02.png",$n="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/vietnam.98e854b0.png";const ra=(t=kt)=>{const r=new URL(Mn);return r.hostname=`${t}.${r.hostname}`,r.toString()},sa=()=>E(void 0,null,function*(){const{subdomain:t}=yield Pe({keys:["subdomain"]});return t}),ct=()=>E(void 0,null,function*(){const{authToken:t}=yield Pe({keys:["authToken"]});return t}),Vn=()=>E(void 0,null,function*(){const{language:t}=yield Pe({keys:["language"]});return t}),Ue=(t=!1)=>E(void 0,null,function*(){try{const r=yield sa();return ra(t?kt:r)}catch(r){console.log("Error when get storage subdomain",r)}}),lt=(...r)=>E(void 0,[...r],function*(t={}){const s=yield Vn();return new URLSearchParams(T(C({},t),{lang:s})).toString()}),he=(t,r,s=!1,n=!0)=>E(void 0,null,function*(){const c=yield Ue(s),o=yield lt(r),l=yield ct();return fetch(`${c}/v1/${t}?${o}`,{method:"GET",headers:C({"Content-Type":"application/json"},n&&{"Auth-Token":`${l}`})}).then(u=>E(void 0,null,function*(){return yield u.json()})).catch(u=>({error:u}))}),_e=(t,r,s,n=!1)=>E(void 0,null,function*(){const c=yield Ue(n),o=yield lt(r),l=yield ct();return fetch(`${c}/v1/${t}?${o}`,{method:"POST",headers:{"Content-Type":"application/json","Auth-Token":`${l}`},body:JSON.stringify(s)}).then(u=>E(void 0,null,function*(){return yield u.json()})).catch(u=>({error:u}))}),Ie=(t,r,s,n=!1)=>E(void 0,null,function*(){const c=yield Ue(n),o=yield lt(r),l=yield ct();return fetch(`${c}/v1/${t}?${o}`,{method:"PUT",headers:{"Content-Type":"application/json","Auth-Token":`${l}`},body:JSON.stringify(s)}).then(u=>E(void 0,null,function*(){return yield u.json()})).catch(u=>({error:u}))}),wt=(t,r,s,n=!1)=>E(void 0,null,function*(){const c=yield Ue(n),o=yield lt(r),l=yield ct();return fetch(`${c}/v1/${t}?${o}`,{method:"DELETE",headers:{"Content-Type":"application/json","Auth-Token":`${l}`},body:JSON.stringify(s)}).then(u=>E(void 0,null,function*(){return u.ok?u:u.json()})).catch(u=>({error:u}))}),Rn=t=>E(void 0,null,function*(){const r=ra(kt);return fetch(`${r}/v1/auth`,{method:"POST",headers:{"Content-Type":"application/json","Access-Token":`${t}`}}).then(s=>E(void 0,null,function*(){return yield s.json()})).catch(s=>({error:s}))}),Un=t=>_e("company",{},t,!0),qn=()=>he("store",{},!0,!0),Mt=t=>he(`store/${t}`,{},!0,!0),Hn=()=>E(void 0,null,function*(){return he("store",{},!1,!0)}),jn=t=>_e("store",{},t,!0),Qn=t=>Ie("store",{},t,!0),Tt=t=>E(void 0,null,function*(){return he("category",{store_uuid:t||""},!1,!1)}),Gn=t=>E(void 0,null,function*(){return Ie("category",{},t,!1)}),Wn=t=>E(void 0,null,function*(){return _e("category",{},t,!1)}),Yn=t=>E(void 0,null,function*(){return he(`category/detail/${t}`,{},!1,!1)}),Kn=t=>E(void 0,null,function*(){return wt("category",{},t,!1)}),Zn=t=>E(void 0,null,function*(){return Ie("category/sort",{},t,!1)}),Jn=t=>E(void 0,null,function*(){return _e("product",{},t,!1)}),Xn=t=>E(void 0,null,function*(){return Ie("product",{},t,!1)}),Ke=(t,r)=>E(void 0,null,function*(){return he("product",{store_uuid:t,all:r},!1,!1)}),er=t=>E(void 0,null,function*(){return he(`product/detail/${t}`,{},!1,!1)}),tr=t=>E(void 0,null,function*(){return wt("product",{},t,!1)}),it=t=>E(void 0,null,function*(){return he("table",{store_uuid:t},!1,!1)}),ar=t=>E(void 0,null,function*(){return _e("table",{},t,!1)}),nr=t=>E(void 0,null,function*(){return Ie("table",{},t,!1)}),rr=t=>E(void 0,null,function*(){return _e("order",{},t,!1)}),oa=t=>E(void 0,null,function*(){return he("order",t,!1,!0)}),sr=t=>E(void 0,null,function*(){return he(`order/curent_order_by_store/${t}`,{},!1,!0)}),ca=()=>E(void 0,null,function*(){return he("order/order_by_user",{},!1,!0)}),la=(t,r)=>E(void 0,null,function*(){return he(`order/${r}`,{store_uuid:t},!1,!1)}),ia=t=>E(void 0,null,function*(){return Ie("order",{},t,!1)}),ua=(t,r)=>E(void 0,null,function*(){return Ie(`order/status/${t}`,{},r,!1)}),ma=(t,r)=>E(void 0,null,function*(){return Ie(`order/delivery/${t}`,{},r,!1)}),or=t=>E(void 0,null,function*(){return he(`voucher/by_store/${t||""}`,{},!1,!0)}),cr=(t,r)=>E(void 0,null,function*(){return he(`voucher/code/${t}/${r}`,{},!1,!1)}),lr=(t,r)=>E(void 0,null,function*(){return Ie(`voucher/${t||""}`,{},r,!1)}),ir=t=>E(void 0,null,function*(){return _e("voucher",{},t,!1)}),ur=t=>E(void 0,null,function*(){return he(`voucher/${t}`,{},!1,!1)}),da=t=>E(void 0,null,function*(){return _e("invoice",{},t,!1)}),mr=t=>E(void 0,null,function*(){return he(`invoice/${t}`,{},!1,!0)}),dr=t=>he("lic",t,!0,!0),pr=t=>E(void 0,null,function*(){return he("store_user",{store_uuid:t},!1,!0)}),gr=t=>E(void 0,null,function*(){return wt("store_user",{},t,!1)}),hr=t=>E(void 0,null,function*(){return _e("store_user",{},t,!1)}),Er=t=>E(void 0,null,function*(){return he("sale_report",t,!1,!0)}),fr=(t,r)=>E(void 0,null,function*(){return he("ai_request",{store_uuid:t},!1,!0)}),yr=t=>E(void 0,null,function*(){return _e("zalo_oa_followers",{},{zalo_oa:t},!1)}),br=()=>E(void 0,null,function*(){return _e("user/login_token",{},{},!1)}),xr=(t,r,s)=>E(void 0,null,function*(){return _e("transaction",{},{payment_method:"BANK_SANBOX",order_id:r,store_uuid:s,invoice_uuid:t},!1)}),pa=()=>{const{version:t,apiVersion:r,zaloVersion:s,platform:n}=Ft(),c=oe(ie),{t:o,i18n:l}=Q("global"),u=gt(),p=ce(),[g,b]=i.exports.useState(!1),[m,f]=i.exports.useState(!1),[x,y]=i.exports.useState(!1),[S,v]=i.exports.useState(""),[_,d]=i.exports.useState(Fn),[D,k]=i.exports.useState(60),$=i.exports.useRef(null);i.exports.useEffect(()=>{x&&($.current=setInterval(()=>{k(V=>V>0?V-1:(clearInterval($.current),V))},1e3))},[x,S]);const A=V=>{l.changeLanguage(V),De({data:{language:V}})},F=()=>{y(!1),clearInterval($.current),k(60)},P=V=>{navigator.clipboard.writeText(V),b(!0),setTimeout(()=>b(!1),2e3)},q=V=>{navigator.clipboard.writeText(V),f(!0),setTimeout(()=>f(!1),2e3)},B=()=>E(void 0,null,function*(){try{const ue=(yield Pe({keys:[Ye]}))[Ye];ue!==void 0&&d(ue)}catch(V){console.log("Error loading keepScreenOn setting:",V)}}),Y=()=>{const V=!_;d(V),z(V),Bt({keepScreenOn:V,success:()=>{console.log(`keepScreenOn to ${V}`)},fail:ue=>{console.log("Error setting keepScreenOn:",ue)}})},z=V=>E(void 0,null,function*(){try{let ue={};ue[Ye]=V,yield De({data:ue})}catch(ue){console.log("Error saving keepScreenOn setting:",ue)}}),ee=()=>E(void 0,null,function*(){const V=yield br();(V==null?void 0:V.error)?p.openSnackbar({duration:3e3,text:V.error,type:"error"}):(v(V.token),y(!0),k(60))});return i.exports.useEffect(()=>{B()},[_]),e.createElement(se,{style:{minHeight:"unset",marginBottom:50}},e.createElement(a,{flex:!0,flexDirection:"column",justifyContent:"center",alignItems:"center",style:{marginTop:20}},e.createElement(a,null,e.createElement(qe,{story:!0,size:96,online:!0,src:c.avatar.startsWith("http")?c.avatar:null},c.avatar)),e.createElement(a,{flex:!0,flexDirection:"row",alignItems:"center",mt:3},e.createElement(a,null,e.createElement(h.Title,null,c.name)))),e.createElement(a,{m:0,p:0,mt:4},e.createElement("div",{className:"section-container"},e.createElement(pe,null,e.createElement(pe.Item,{title:o("profile.username"),subTitle:c.name}),e.createElement(pe.Item,{title:o("profile.userId"),subTitle:e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(h,{flex:1},c.uuid),e.createElement("svg",{"data-v-465340bc":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 15",width:"12",height:"15",onClick:()=>P(c.uuid),style:{cursor:"pointer",marginLeft:"8px",fill:"#666"}},e.createElement("path",{d:"M7.313.188H3.11c-.386 0-.72.134-1.002.404-.28.27-.421.597-.421.984v.299h-.264c-.387 0-.72.135-1.002.404C.14 2.55 0 2.877 0 3.264v10.125c0 .386.14.72.422 1.002.281.28.615.421 1.002.421h7.312c.387 0 .715-.14.985-.421.27-.282.404-.616.404-1.002v-.264h.299c.386 0 .715-.14.984-.422.27-.281.405-.615.405-1.002V4.687l-4.5-4.5Zm0 1.564 2.935 2.936H7.313V1.752ZM9 13.389a.304.304 0 0 1-.08.21.242.242 0 0 1-.184.088H1.424a.288.288 0 0 1-.211-.087.288.288 0 0 1-.088-.211V3.264c0-.07.03-.132.088-.185A.304.304 0 0 1 1.423 3h.264v8.982c0 .387.094.674.282.862.187.187.474.281.861.281H9v.264Zm1.688-1.688a.305.305 0 0 1-.08.211.242.242 0 0 1-.184.088H3.11a.288.288 0 0 1-.21-.088.288.288 0 0 1-.088-.21V1.575c0-.07.029-.132.087-.184a.304.304 0 0 1 .211-.08h3.076v4.5h4.5v5.89Z"})),g&&e.createElement(h,{style:{color:"green",marginLeft:"8px"}},"Copied!"))}),e.createElement(pe.Item,{title:o("profile.role"),subTitle:c.role.replaceAll("_"," ")}),e.createElement(pe.Item,{title:o("profile.app_version"),subTitle:Pn}),e.createElement(pe.Item,{title:o("profile.zalo_version"),subTitle:s}),e.createElement(pe.Item,{title:o("profile.zalo_mini_app_version"),subTitle:t}),e.createElement(pe.Item,{title:o("profile.zalo_mini_app_api_version"),subTitle:r}),e.createElement(pe.Item,{title:"Platform",subTitle:n}),e.createElement(pe.Item,null,e.createElement(ht,{checked:_,label:o("profile.keepScreen"),onChange:Y})),e.createElement(pe.Item,{title:o("profile.language"),style:{marginBottom:"36px"}},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement("img",{src:l.language==="en"?Bn:$n,style:{width:"48px",marginRight:"8px"}}),e.createElement(xe,{id:"langSelect",closeOnSelect:!0,value:l.language,onChange:V=>A(V)},On.map(V=>e.createElement(Option,{title:V.title,key:V.value})))))))),e.createElement(a,{width:"100%",px:3,pb:3},e.createElement(H,{fullWidth:!0,onClick:()=>u("/order-history")},o("userOrder.orderHistory"))),e.createElement(a,{width:"100%",px:3,pb:5},e.createElement(H,{fullWidth:!0,onClick:()=>ee()},o("profile.getLoginToken"))),e.createElement(Ae,{visible:x,mask:!0,onClose:()=>F(),className:"confirm-modal"},e.createElement(h,{style:{fontSize:"26px",fontWeight:500,textAlign:"center"}},o("profile.loginToken")),e.createElement(h,{style:{fontSize:"15px",textAlign:"center",marginTop:"7px",fontStyle:"italic"}},o("profile.valid1Minute")," (",D,"s)"),e.createElement(h,{style:{fontSize:"26px",textAlign:"center",marginTop:"30px",textDecoration:D===0?"line-through":"unset"}},S),e.createElement(a,{width:"100%",mt:9},D===0?e.createElement(H,{fullWidth:!0,onClick:()=>ee()},o("profile.genLoginTokenAgain")):e.createElement(H,{fullWidth:!0,onClick:()=>q(S)},o(m?"button.copied":"button.copy")))))},vr=()=>{const{t}=Q("global"),[r,s]=U(ie),[n,c]=e.useState(C({},r)),o=ce(),l=(p,g)=>{c(T(C({},n),{[p]:g}))},u=()=>{o.openSnackbar({duration:3e3,text:t("snackbarMessage.saved"),type:"success"}),s(n)};return e.createElement(se,null,e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(de,{id:"name",label:"Name",type:"text",placeholder:"Zalo",value:n==null?void 0:n.name,onChange:p=>l("name",p.target.value)}),e.createElement(de,{label:"Avatar",type:"text",placeholder:"zalo@zalo.me",value:n==null?void 0:n.avatar,onChange:p=>l("avatar",p.target.value)}),e.createElement(a,{mt:4},e.createElement(H,{fullWidth:!0,variant:"primary",onClick:u},"Submit")))))},Sr=()=>e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},"CompanyPage")),Nr=()=>{const{t}=Q("global"),[r,s]=U(fn),[n,c]=e.useState(C({},r)),o=ce();oe(ie);const l=Et(ie),u=(g,b)=>{c(T(C({},n),{[g]:b}))},p=()=>E(void 0,null,function*(){const g=yield Un({company:{name:n.name}});(g==null?void 0:g.error)?(console.error("Error:",g.error),o.openSnackbar({duration:3e3,text:t("snackbarMessage.createCompanyFail"),type:"error"})):(s({name:g.name,uuid:g.uuid}),l({company_uuid:g.uuid}),o.openSnackbar({duration:3e3,text:t("snackbarMessage.createCompanySuccess"),type:"success"}))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(de,{id:"name",label:t("main.companyName"),type:"text",placeholder:t("main.enterCompanyName"),value:n==null?void 0:n.name,onChange:g=>u("name",g.target.value)}),e.createElement(a,{mt:4},e.createElement(H,{fullWidth:!0,variant:"primary",onClick:p},t("button.save"))))))};var ga="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/table.1e7cc1cd.png",ha="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/application.c55742c7.png",_r="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/dish.f951211a.png",Cr="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/order-food.a318a399.png",kr="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/users.ff3eeb7d.png",wr="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/report.b2f0120e.png",Mr="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/coupon.c8c99ff8.png",ut="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/store.2c9a96e2.png",Ze="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/app-logo.3714ba45.png";const Pt=({isAmin:t=!1,showOrderHistory:r=!0})=>{const s=gt(),n=oe(ie),[c,o]=i.exports.useState(!1),l=()=>{if(t){const u=new URLSearchParams;r&&u.append("showOrderHistory",!0),s(`/admin/profile?${u.toString()}`)}};return i.exports.useEffect(()=>{n.login&&o(!0)},[n]),e.createElement(a,{flex:!0},c&&e.createElement(e.Fragment,null,e.createElement(qe,{story:"default",online:!0,src:n.avatar.startsWith("http")?n.avatar:null,onClick:l},n.avatar),e.createElement(a,{ml:4},e.createElement(h.Title,null,n.name),e.createElement(h,null,n.role))))},Tr=()=>{const{t}=Q("global"),[r,s]=U(Fe),[n,c]=U(Ne),o=Ee(),[l,u]=U(ie),[p,g]=i.exports.useState(null),b=ce(),[m,f]=U(we),[x,y]=i.exports.useState();i.exports.useEffect(()=>{if(!l.store_uuid){o("/");return}c(T(C({},n),{isLoading:!0})),Y()},[]),i.exports.useEffect(()=>{S()},[r.stores]);const S=()=>E(void 0,null,function*(){const{defaultStore:z}=yield Pe({keys:["defaultStore"]});console.log("defaultStore",z),z&&v(z.uuid,!1)}),v=(z,ee)=>E(void 0,null,function*(){const V=r.stores.find(ue=>ue.uuid===z);!V||(f(V),yield De({data:{defaultStore:V,subdomain:V.subdomain}}),ee&&Y())}),_=(z,ee)=>{o({pathname:`/admin/table/index/${z}`,search:`?tenant_id=${ee}`})},d=z=>{o(`/admin/product/index/${z}`)},D=z=>{o(`/admin/category/index/${z}`)},k=z=>{o(`/admin/voucher/index/${z}`)},$=z=>{o(`/admin/order-management/index/${z}`)},A=z=>{o(`/admin/user/index/${z}`)},F=z=>{o(`/admin/sale-report/${z}`)},P=z=>{o(`/admin/store/edit/${z}`)},q=()=>{y(!0),La({id:Ve.offical_oa_id,success:z=>{yr(Ve.offical_oa_id),u(ee=>T(C({},ee),{is_oa_follow:!0})),y(!1)},fail:z=>{b.openSnackbar({duration:3e3,text:t("snackbarMessage.followedOAFailed"),type:"error"})}})},B=()=>{y(!0),$t({type:"oa",id:Ve.offical_oa_id,message:"T\xF4i c\u1EA7n h\u1ED7 tr\u1EE3",success:()=>{console.log("done openChat"),y(!1)},fail:z=>{console.log("failed to followed OA"),b.openSnackbar({duration:3e3,text:t("snackbarMessage.followedOAFailed"),type:"error"})}})};i.exports.useEffect(()=>{p&&b.openSnackbar({duration:1e4,text:t("snackbarMessage.getStoreFail"),type:"countdown"})},[p,b]);const Y=()=>E(void 0,null,function*(){c(T(C({},n),{isLoading:!0}));const z=yield Hn();z.error?(console.error("Error:",z.error),g(!0),c(T(C({},n),{isLoading:!1}))):(s({is_update:!0,stores:z}),console.log(`get stores.length: ${z.length}`),c(T(C({},n),{isLoading:!1})))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(Pt,{isAmin:!0})),e.createElement(a,{className:"section-container store-container"},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(xe,{id:"store",value:m==null?void 0:m.uuid,onChange:z=>v(z,!0),closeOnSelect:!0},r.stores.map(z=>e.createElement(Option,{key:z.uuid,value:z.uuid,title:z.name}))),e.createElement(H,{className:"fw-500",style:{marginLeft:"14px"},onClick:()=>o("/admin/store/form"),prefixIcon:e.createElement($e,null)},t("storeManagement.regStore"))),e.createElement(a,{className:"store_list-item_main",flex:!0},(m==null?void 0:m.turn_on_table)&&e.createElement(a,{onClick:()=>_(m.uuid,m.subdomain),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:ga}),e.createElement("span",{className:"count-badge status-finished"},m==null?void 0:m.tables_count),e.createElement("span",null,t("storeManagement.tables"))),(m==null?void 0:m.turn_on_category)&&e.createElement(a,{onClick:()=>D(m.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:ha}),e.createElement("span",{className:"count-badge status-finished"},m==null?void 0:m.categories_count),e.createElement("span",null,t("storeManagement.categories"))),(m==null?void 0:m.turn_on_product)&&e.createElement(a,{onClick:()=>d(m.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:_r}),e.createElement("span",{className:"count-badge status-finished"},m==null?void 0:m.products_count),e.createElement("span",null,t("storeManagement.products"))),(m==null?void 0:m.turn_on_voucher)&&e.createElement(a,{onClick:()=>k(m.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:Mr}),e.createElement("span",{className:"count-badge status-finished"},m==null?void 0:m.vouchers_count),e.createElement("span",null,t("storeManagement.voucher"))),(m==null?void 0:m.turn_on_order)&&e.createElement(a,{onClick:()=>$(m.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:Cr}),e.createElement("span",{className:"count-badge status-finished"},m==null?void 0:m.orders_count),e.createElement("span",null,t("storeManagement.order"))),(m==null?void 0:m.turn_on_staff)&&e.createElement(a,{onClick:()=>A(m.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:kr}),e.createElement("span",{className:"count-badge status-finished"},m==null?void 0:m.staff_count),e.createElement("span",null,t("storeManagement.user"))),(m==null?void 0:m.turn_on_sale_report)&&e.createElement(a,{onClick:()=>F(m.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:wr}),e.createElement("span",null,t("storeManagement.sale_report"))),(m==null?void 0:m.turn_on_staff)&&e.createElement(a,{onClick:()=>P(m.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:ut}),e.createElement("span",null,t("storeManagement.editStore"))),e.createElement(a,{onClick:(l==null?void 0:l.is_oa_follow)?()=>B():()=>q(),className:"store_list-item_main_item"},x?e.createElement("div",{className:"spinner-container"},e.createElement(ft,{visible:x,logo:Ze})):e.createElement("img",{className:"icon-img",src:Ze,alt:"App Logo"}),e.createElement("span",null,(l==null?void 0:l.is_oa_follow)?t("storeManagement.send_message"):t("storeManagement.follow_oa"))))))},Pr=t=>{const r=/[^a-zA-Z0-9_]/g;return t.toLowerCase().replaceAll(" ","_").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(r,"")},Dr=()=>{const{t}=Q("global"),r=oe(ie),s=Et(ie),n=Et(we),[c,o]=i.exports.useState(""),[l,u]=i.exports.useState(""),[p,g]=i.exports.useState(""),[b,m]=i.exports.useState(null),[f,x]=U(Fe),y=ce(),S=Ee();i.exports.useState(!0),i.exports.useEffect(()=>{if(l||g(null),l&&l!=p){m(null);const _=new AbortController,{signal:d}=_,D=setTimeout(()=>E(void 0,null,function*(){const k=yield dr({code:l});if(!k.error)g(l),k.status==="actived"&&new Date(k.expired_at)>new Date?(m(k),y.openSnackbar({text:t("snackbarMessage.codeValid"),type:"success"})):(m(null),y.openSnackbar({text:t("snackbarMessage.codeInvalid"),type:"error"}));else return m(null),y.openSnackbar({text:t("snackbarMessage.codeNotFound"),type:"error"}),g(l),d.aborted||console.error("Error validating code:",k.error),Promise.reject(new Error(t("snackbarMessage.codeNotFound")))}),1e3);return()=>{clearTimeout(D),_.abort()}}},[l]);const v=()=>E(void 0,null,function*(){const _=yield jn({store:{name:c,subdomain:Pr(c)},code:l});(_==null?void 0:_.error)?(console.error("Error:",_.error),y.openSnackbar({duration:3e3,text:_.error,type:"error"})):(console.log(`store_uuid: ${_.uuid}`),n(C({},_)),s(T(C({},r),{store_uuid:_.uuid,login:!0})),x({is_update:!1,stores:[]}),yield De({data:{defaultStore:_,subdomain:_.subdomain}}),y.openSnackbar({duration:3e3,text:t("snackbarMessage.createStoreSuccess"),type:"success"}),S(-1))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(a,{mb:2},e.createElement(de,{id:"name",label:t("storeManagement.storeName"),type:"text",placeholder:t("storeManagement.enterStoreName"),value:c,onChange:_=>o(_.target.value),showCount:!0,maxLength:20})),e.createElement(a,{mb:2},e.createElement(de,{type:"text",label:t("storeManagement.activationCode"),value:l,onChange:_=>u(_.target.value.toUpperCase()),placeholder:t("storeManagement.enterActivationCode"),style:{marginBottom:"10px"}})),b&&l===(b==null?void 0:b.code)&&e.createElement(a,{className:"active-code-container",flex:!0,alignItems:"center"},e.createElement(a,{className:"active-code-date-container",flex:!0,alignItems:"center",justifyContent:"center",flexDirection:"column"},e.createElement(h,{className:"active-code-date-number"},b.value_in_days),e.createElement(h,{className:"active-code-date-text"},t("storeManagement.days"))),e.createElement(a,{flex:!0,justifyContent:"center",flexDirection:"column",style:{padding:"14px",flex:1}},e.createElement(h,{size:"xLarge",bold:!0,style:{marginBottom:"8px"}},b.code),e.createElement(h,{size:"small",className:"text-code-content"},b.content),e.createElement(h,{size:"xxSmall",className:"text-experied"},t("voucherManagement.experiedAt")," ",new Date(b.expired_at).toLocaleDateString("en-GB")))),e.createElement(a,{mt:2},e.createElement(H,{fullWidth:!0,variant:"primary",onClick:v,disabled:!b||!c},t("button.register"))),e.createElement(a,{mt:"2"},e.createElement("img",{src:"https://stg-smart-order.sgp1.digitaloceanspaces.com/store_ad.png"})))))};const ne=(t=0)=>t.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}),He=t=>{const r=String(t),s=parseInt(r.replace(/\D/g,""),10);return isNaN(s)?"":ne(s)},Lr=({product:t,onDetails:r,setIsShowConfirm:s,setSelectedProduct:n})=>{const{t:c}=Q("global");return e.createElement(a,{flex:!0,className:"product-card-container",onClick:()=>{r(t)}},e.createElement(a,{className:"product-card-left"},t.images.length>0&&e.createElement("img",{className:"product-img",src:t.images[0].url,alt:t.name})),e.createElement(a,{className:"product-card-right"},e.createElement(h,{size:"xLarge",bold:!0,className:"product-name"},t.name),t.status===An.DISPLAY?e.createElement(a,{className:"product-status status-finished"},c("productManagement.status.display")):e.createElement(a,{className:"product-status status-expired"},c("productManagement.status.hidden")),e.createElement(h,{size:"normal"},"\u20AB",ne(t.price)),e.createElement(h,{size:"xxSmall",className:"text-category"},c("storeManagement.categories"),":",t.categories.map((o,l)=>l==0?" "+o.name:", "+o.name))),e.createElement(H,{icon:e.createElement(yt,null),className:"delete-icon",onClick:o=>{o.stopPropagation(),s(!0),n(t)}}))};function Je({isShowModal:t,setIsShowModal:r,onConfirm:s,itemDelete:n,content:c=""}){const{t:o}=Q("global");return e.createElement(Ae,{visible:t,mask:!0,onClose:()=>r(!1),className:"confirm-modal"},e.createElement(a,{className:"confirm-modal_icon"},e.createElement(le,{icon:"zi-exclamation"})),e.createElement(a,{className:"confirm-modal_text"},c||e.createElement(e.Fragment,null,o("main.confirmDelete"),":",e.createElement(h,{className:"item-delete"},n))),e.createElement(a,{flex:!0,justifyContent:"space-between",className:"confirm-modal_button"},e.createElement(H,{onClick:()=>s()},o("button.confirm")),e.createElement(H,{variant:"secondary",onClick:()=>r(!1)},o("button.cancel"))))}const Ir=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=i.exports.useState([]);oe(ie);const c=Ee(),[o,l]=U(Ne),[u,p]=i.exports.useState(!1),[g,b]=i.exports.useState(null),m=ce();i.exports.useEffect(()=>{l(T(C({},o),{isLoading:!0})),y()},[r]);const f=v=>{console.log(`productUUID: ${v}`),c(`/admin/product/update/${r}/${v}`)},x=v=>{console.log(`productUUID: ${v}`),c(`/admin/product/form/${r}/${v}`)},y=()=>E(void 0,null,function*(){const v=yield Ke(r,!0);(v==null?void 0:v.error)?(l(T(C({},o),{isLoading:!1})),console.error("Error fetching products:",v.error)):(l(T(C({},o),{isLoading:!1})),n(v))}),S=()=>E(void 0,null,function*(){p(!1);const v=yield tr({product:{store_uuid:r,uuid:g==null?void 0:g.uuid}});(v==null?void 0:v.error)?m.openSnackbar({duration:3e3,text:typeof v.error=="string"?v.error:t("snackbarMessage.deleteFail"),type:"error"}):(y(),m.openSnackbar({duration:3e3,text:t("snackbarMessage.deleteSuccess"),type:"success"}))});return e.createElement(se,{className:"section-container",style:{backgroundColor:"#f3f3f3"}},e.createElement(Je,{isShowModal:u,setIsShowModal:p,itemDelete:g==null?void 0:g.name,onConfirm:()=>S()}),e.createElement(a,{className:"toolbar_add-btn"},e.createElement(H,{className:"fw-500",style:{width:"50%"},onClick:()=>x(null),prefixIcon:e.createElement($e,null)},t("productManagement.createProduct.createProduct")),e.createElement(H,{className:"fw-500",style:{width:"49%",marginLeft:"1%"},onClick:()=>c(`/admin/product/scanmenu/${r}`),prefixIcon:e.createElement(Ia,null)},t("productManagement.scanMenu.button"))),e.createElement(pe,{style:{marginTop:"10px"}},s.map(v=>e.createElement(Lr,{key:v.uuid,product:v,onDetails:()=>f(v.uuid),setIsShowConfirm:p,setSelectedProduct:b}))))},{Option:Or}=xe,Ea=()=>{const{t}=Q("global"),{store_uuid:r,product_uuid:s}=be(),[n,c]=i.exports.useState({name:"",describe:"",price:"",selectedStore:"",selectedCategories:[]}),[o,l]=i.exports.useState({}),u=ce(),[p,g]=U(ie),b=oe(we),[m,f]=i.exports.useState([]),x=Ee(),[y,S]=i.exports.useState(!1),[v,_]=i.exports.useState([]),[d,D]=i.exports.useState([]),[k,$]=i.exports.useState(!1),[A,F]=i.exports.useState(0);i.exports.useEffect(()=>{ye()},[]);const P=(N,w)=>{const L=ge.exports.clone(o);if(delete L[N],l(L),N=="store_uuid"){c(T(C({},n),{[N]:w,cat_uuids:[]}));return}if(N==="price"){const Z=He(w);c(T(C({},n),{[N]:Z}));return}c(T(C({},n),{[N]:w}))};i.exports.useEffect(()=>{s&&s!=="null"?z(s):console.log("create new product")},[]);const q=()=>{S(N=>!N)},B=N=>{const w=[...v],L=[...d];w.splice(N,1),L.splice(N,1),_(w),D(L)},Y=()=>E(void 0,null,function*(){if(p.login&&p.authToken){const N=yield Ue();bt({type:"photo",serverUploadUrl:`${N}/v1/attachment/${b.uuid}/${p.uuid}`,success:w=>{const Z=JSON.parse(w.data).data;console.log("-----------------"),console.log(`data.urls: ${Z.urls}`);const X=Z.urls&&Array.isArray(Z.urls)?Z.urls.map((ke,Me)=>({src:ke,alt:`img ${v.length+Me+1}`,key:`${v.length+Me+1}`})):[{src:Z.urls||"",alt:`img ${v.length+1}`,key:`${v.length+1}`}],me=Z.uuids&&Array.isArray(Z.uuids)?Z.uuids:[];_([...v,...X]),D([...d,...me]);const te=ge.exports.clone(o);delete te.image,l(te),u.openSnackbar({duration:3e3,text:t("snackbarMessage.uploadImageSuccess"),type:"success"})},fail:w=>{console.log(w),u.openSnackbar({duration:3e3,text:t("snackbarMessage.uploadImageFail"),type:"error"})}})}}),z=N=>E(void 0,null,function*(){const w=yield er(N);if(w==null?void 0:w.error)console.error("Error fetching product details:",w.error),u.openSnackbar({duration:3e3,text:t("snackbarMessage.fetchProductDetailFail"),type:"error"});else{console.log("Product details:",w),c({name:w.name,describe:w.describe,price:He(w.price),selectedStore:w.store_uuid,selectedCategories:w.categories.map(X=>X.uuid)||[]}),w.status=="not_show"?S(!1):S(!0);const L=w.images.map((X,me)=>({src:X.url,alt:`img ${w.images.length+me+1}`,key:`${w.images.length+me+1}`})),Z=w.images.map(X=>X.uuid);_([...v,...L]),D([...d,...Z])}}),ee=()=>{let N=!0;const w={};return n.name||(N=!1,w.name=t("productManagement.createProduct.messageErrorProductName")),n.describe||(N=!1,w.describe=t("productManagement.createProduct.messageErrorProductDescription")),n.price||(N=!1,w.price=t("productManagement.createProduct.messageErrorProductPrice")),v.length||(N=!1,w.image=t("productManagement.createProduct.messageErrorProductImage")),n.selectedCategories.length||(N=!1,w.selectedCategories=t("productManagement.createProduct.messageErrorProductCategory")),l(w),N},V=()=>{!ee()||(s&&s!=="null"?Se():ue())},ue=()=>E(void 0,null,function*(){const N=ve(),w=yield Jn(N);(w==null?void 0:w.error)?(console.error("Error:",w.error),u.openSnackbar({duration:3e3,text:typeof w.error=="string"?w.error:t("snackbarMessage.productCreateFail"),type:"error"})):(console.log("Product created:",w),u.openSnackbar({duration:3e3,text:t("snackbarMessage.productCreateSuccess"),type:"success"}),x(-1))}),Se=()=>E(void 0,null,function*(){let N=ve();N.product.uuid=s;const w=yield Xn(N);(w==null?void 0:w.error)?(console.error("Error:",w.error),u.openSnackbar({duration:3e3,text:typeof w.error=="string"?w.error:t("snackbarMessage.productUpdateFail"),type:"error"})):(console.log("updated:",w),u.openSnackbar({duration:3e3,text:t("snackbarMessage.productUpdateSuccess"),type:"success"}),x(-1))}),ve=()=>({product:{cat_uuids:n.selectedCategories,store_uuid:r,name:n.name,describe:n.describe,status:y?"show_now":"not_show",price:parseInt(n.price.replace(/\D/g,""),10),image_uuids:d}}),ye=()=>E(void 0,null,function*(){const N=yield Tt(r);(N==null?void 0:N.error)?(console.error("Error:",N.error),u.openSnackbar({duration:3e3,text:t("snackbarMessage.getCatFail"),type:"countdown"})):f(N)});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(a,null,e.createElement(de,{id:"name",label:t("productManagement.createProduct.productName"),type:"text",placeholder:t("productManagement.createProduct.productNameEnter"),value:n==null?void 0:n.name,onChange:N=>P("name",N.target.value),errorText:(o==null?void 0:o.name)||"",status:(o==null?void 0:o.name)?"error":"",showCount:!0,maxLength:20}),e.createElement(de.TextArea,{id:"describe",label:t("productManagement.createProduct.productDescription"),type:"textarea",placeholder:t("productManagement.createProduct.productDescriptionEnter"),value:n==null?void 0:n.describe,onChange:N=>P("describe",N.target.value),showCount:!0,errorText:(o==null?void 0:o.describe)||"",status:(o==null?void 0:o.describe)?"error":"",maxLength:250}),e.createElement(de,{id:"price",label:t("productManagement.createProduct.productPrice"),type:"text",placeholder:t("productManagement.createProduct.productPriceEnter"),value:n==null?void 0:n.price,onChange:N=>P("price",N.target.value),errorText:(o==null?void 0:o.price)||"",status:(o==null?void 0:o.price)?"error":""}),e.createElement(a,{mt:6},e.createElement(xe,{id:"category",label:t("productManagement.createProduct.category"),helperText:t("productManagement.createProduct.categoryInfo"),placeholder:t("productManagement.createProduct.categorySelect"),multiple:!0,value:n.selectedCategories,onChange:N=>P("selectedCategories",N),errorText:(o==null?void 0:o.selectedCategories)||"",status:(o==null?void 0:o.selectedCategories)?"error":""},m.map(N=>e.createElement(Or,{key:N.uuid,value:N.uuid,title:N.name}))))),e.createElement(a,{mt:2},e.createElement(a,{flex:!0,flexDirection:"row",flexWrap:"nowrap"},v.map((N,w)=>e.createElement(a,{mr:1,key:w,style:{position:"relative",width:"68px",height:"69px",borderRadius:"8px",overflow:"hidden"}},e.createElement("img",{style:{width:"100%",height:"100%",objectFit:"cover"},role:"presentation",onClick:()=>{F(w),$(!0)},src:N.src,alt:N.alt}),e.createElement("div",{style:{position:"absolute",top:"3px",right:"3px",background:"red",cursor:"pointer",borderRadius:"15px",color:"beige",width:"22px",height:"22px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>B(w)},"X")))),e.createElement(Oa,{onClose:()=>$(!1),activeIndex:A,images:v,visible:k})),e.createElement(a,{mt:6},e.createElement(H,{fullWidth:!0,variant:"primary",onClick:Y},e.createElement(le,{icon:"zi-camera"})," ",t("productManagement.createProduct.uploadImage")),o.image&&e.createElement(a,{flex:!0,alignItems:"center",className:"zaui-input-helper-text zaui-input-helper-text-has-error",mt:1},e.createElement(le,{icon:"zi-warning-solid",size:16,className:"zaui-input-helper-text-icon"})," ",o.image)),e.createElement(a,{mt:6},e.createElement(a,null,e.createElement(ht,{checked:y,label:t("productManagement.createProduct.display"),onChange:q}))),e.createElement(a,{mt:4},e.createElement(H,{fullWidth:!0,variant:"primary",onClick:V},t("productManagement.createProduct.submit"))))))},mt=(t,r)=>{const s=new Date,n=new Date(t),c=s-n,o=Math.floor(c/1e3),l=Math.floor(o/60),u=Math.floor(l/60),p=Math.floor(u/24);return p>0?`${p}d ${r("orderManagement.ago")}`:u>0?`${u}h ${r("orderManagement.ago")}`:l>0?`${l}m ${r("orderManagement.ago")}`:`${o}s ${r("orderManagement.ago")}`},Ar=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=i.exports.useState([]),c=ce(),[o,l]=U(ie),[u,p]=U(we),[g,b]=U(Ne);Ee(),i.exports.useEffect(()=>{b(T(C({},g),{isLoading:!0})),m()},[r]);const m=()=>E(void 0,null,function*(){const x=yield fr(r);(x==null?void 0:x.error)?(b(T(C({},g),{isLoading:!1})),console.error("Error fetching ai requests:",x.error)):(b(T(C({},g),{isLoading:!1})),n(x))}),f=()=>E(void 0,null,function*(){if(o.login&&o.authToken){const x=yield Ue();p({ai_requests_count:u.ai_requests_count+1}),bt({type:"photo",serverUploadUrl:`${x}/v1/product/automenu/${u.uuid}/${o.uuid}`,success:y=>{const S=JSON.parse(y.data);console.log(S),c.openSnackbar({duration:3e3,text:S.message,type:"success"}),m()},fail:y=>{console.log(y),c.openSnackbar({duration:3e3,text:y.message,type:"error"}),m()}})}});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container",style:{backgroundColor:"#f3f3f3"}},e.createElement(a,null,e.createElement(a,{textAlign:"center"},e.createElement(h,{size:"xLarge"},t("productManagement.scanMenu.title")),e.createElement(h,null,t("productManagement.scanMenu.description")),e.createElement(h,null,t("productManagement.scanMenu.current_count"),":"," ",u.ai_requests_count,"/5")),e.createElement(a,{mt:6},u.ai_requests_count>4?e.createElement(a,{textAlign:"center"},e.createElement(h,{className:"red-color",size:"xLarge"},t("productManagement.scanMenu.over_limit"))):e.createElement(H,{fullWidth:!0,variant:"primary",onClick:f},e.createElement(le,{icon:"zi-camera"})," ",t("productManagement.createProduct.uploadImage")),e.createElement(pe,{style:{marginTop:"10px"}},e.createElement(a,{flex:!0,textAlign:"center"},e.createElement(h,{size:"xLarge",style:{flex:1}},t("productManagement.scanMenu.status")),e.createElement(h,{size:"xLarge",style:{flex:1}},t("productManagement.scanMenu.request_date"))),s.map(x=>e.createElement(a,{flex:!0,textAlign:"center",style:{backgroundColor:"#fff",margin:"10px"},key:x.created_at},e.createElement(h,{size:"xLarge",style:{flex:1}},x.status),e.createElement(h,{size:"xLarge",style:{flex:1}},mt(x.created_at,t)))))))))},{OtpGroup:Eo,Option:zr}=xe,Fr=()=>{const{t}=Q("global"),[r,s]=U(bn),{store_uuid:n,category_uuid:c}=be(),[o,l]=e.useState(C({},r));oe(ie);const u=oe(Fe),p=ce(),g=Ee(),b=(y,S)=>{l(T(C({},o),{[y]:S}))};i.exports.useEffect(()=>{c&&f(c)},[]);const m=()=>{console.log(`form.store_uuid: ${o.store_uuid} | form.name: ${o.name}`),o.uuid&&x(o.uuid,o.name)},f=y=>E(void 0,null,function*(){const S=yield Yn(y);(S==null?void 0:S.error)?(console.error("Error fetching category details:",S.error),p.openSnackbar({duration:3e3,text:t("snackbarMessage.fetchProductDetailFail"),type:"error"})):l({name:S.name,describe:S.describe,store_uuid:S.store_uuid,uuid:S.uuid})}),x=()=>E(void 0,null,function*(){let y={category:{name:o.name,store_uuid:o.store_uuid,uuid:c}};const S=yield Gn(y);(S==null?void 0:S.error)?(console.error("Error update category",S.error),p.openSnackbar({duration:3e3,text:typeof S.error=="string"?S.error:t("snackbarMessage.updateCatFail"),type:"error"})):(l(v=>T(C({},v),{name:S.name,describe:S.describe,store_uuid:S.store_uuid,uuid:S.uuid})),p.openSnackbar({duration:3e3,text:t("snackbarMessage.updateCatSuccess"),type:"success"}),g(-1))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(de,{id:"name",label:t("categoryManagement.categoryName"),type:"text",placeholder:t("categoryManagement.categoryName"),value:o==null?void 0:o.name,onChange:y=>b("name",y.target.value),showCount:!0,maxLength:20}),e.createElement(xe,{id:"store_uuid",label:t("categoryManagement.store"),closeOnSelect:!0,value:n,disabled:!0},u.stores.map(y=>e.createElement(zr,{title:y.name,key:y.uuid,value:y.uuid}))),e.createElement(a,{mt:4},e.createElement(H,{fullWidth:!0,variant:"primary",onClick:m},t("categoryManagement.update"))))))},Br=({store_uuid:t,onCategoryAdded:r})=>{const{t:s}=Q("global"),[n,c]=i.exports.useState(""),o=ce(),l=()=>E(void 0,null,function*(){if(n){const p=yield Wn({category:{store_uuid:t,name:n}});console.log("Data",p),(p==null?void 0:p.error)?(console.error("Error adding table:",p.error),o.openSnackbar({duration:3e3,text:typeof p.error=="string"?p.error:s("snackbarMessage.addCatFail"),type:"error"})):(r(),c(""),o.openSnackbar({duration:3e3,text:s("snackbarMessage.addCatSuccess"),type:"success"}))}else o.openSnackbar({duration:1e4,text:s("snackbarMessage.catNameEmpty"),type:"countdown"})});return e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement(de,{type:"text",value:n,onChange:u=>c(u.target.value),placeholder:s("categoryManagement.categoryNameEnter"),style:{marginRight:"10px"},showCount:!0,maxLength:20}),e.createElement(H,{onClick:l,prefixIcon:e.createElement($e,null)},s("categoryManagement.category")))};const $r=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=i.exports.useState([]);oe(ie);const c=ce(),o=Ee(),[l,u]=U(Ne),[p,g]=U(Fe),[b,m]=i.exports.useState(!1),[f,x]=i.exports.useState(null),y=()=>{S(),g({is_update:!1,stores:[...p.stores]})};i.exports.useEffect(()=>{u(T(C({},l),{isLoading:!0})),S()},[r]);const S=()=>E(void 0,null,function*(){const k=yield Tt(r);(k==null?void 0:k.error)?(console.error("Error:",k.error),u(T(C({},l),{isLoading:!1})),c.openSnackbar({duration:1e4,text:t("snackbarMessage.getCatFail"),type:"countdown"})):(n(k.sort(($,A)=>$.index-A.index)),u(T(C({},l),{isLoading:!1})))}),v=k=>{console.log(`catUUID: ${k}`),o(`/admin/category/form/${r}/${k}`)},_=()=>E(void 0,null,function*(){m(!1);const k=yield Kn({category:{store_uuid:r,uuid:f==null?void 0:f.uuid}});(k==null?void 0:k.error)?c.openSnackbar({duration:3e3,text:typeof k.error=="string"?k.error:t("snackbarMessage.deleteFail"),type:"error"}):(S(),c.openSnackbar({duration:3e3,text:t("snackbarMessage.deleteSuccess"),type:"success"}))}),d=(k,$,A)=>{const F=Array.from(k),[P]=F.splice($,1);return F.splice(A,0,P),F},D=k=>E(void 0,null,function*(){const $=d(s,k.source.index,k.destination.index);n([...$]);const A=yield Zn({store_uuid:r,cat_uuids:[...$.map(F=>F.uuid)]});if(!(A==null?void 0:A.error))c.openSnackbar({duration:3e3,text:t("snackbarMessage.updateCatSuccess"),type:"success"});else{const F=d(s,k.destination.index,k.source.index);n([...F]),c.openSnackbar({duration:3e3,text:A.error,type:"error"})}});return e.createElement(se,{className:"section-container"},e.createElement(Br,{store_uuid:r,onCategoryAdded:y}),e.createElement(Je,{isShowModal:b,setIsShowModal:m,itemDelete:f==null?void 0:f.name,onConfirm:()=>_()}),e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"center",mt:2},e.createElement(Aa,{style:{fontSize:"20px"}}),e.createElement(h,{className:"txtDragDrop"},t("categoryManagement.dragDrop"))),e.createElement(za,{onDragEnd:D},e.createElement(Fa,{droppableId:"droppable"},(k,$)=>e.createElement("div",T(C({},k.droppableProps),{ref:k.innerRef}),s.map((A,F)=>e.createElement(Ba,{draggableId:A.uuid,index:F,key:A.uuid},(P,q)=>e.createElement("div",T(C(C({key:F,ref:P.innerRef},P.draggableProps),P.dragHandleProps),{className:"category-card-container",onClick:()=>v(A.uuid)}),e.createElement("img",{className:"category-img",src:ha}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(h,{size:"xLarge",bold:!0,style:{marginLeft:"10px"}},A.name))),e.createElement(H,{icon:e.createElement(yt,null),className:"delete-icon",onClick:B=>{B.stopPropagation(),x(A),m(!0)}})))),k.placeholder))))},Vr=({store_uuid:t,onTableAdded:r})=>{const{t:s}=Q("global"),[n,c]=i.exports.useState(""),o=ce(),l=()=>E(void 0,null,function*(){const p=yield ar({store_uuid:t,tables:[{name:n}]});(p==null?void 0:p.error)?(console.error("Error adding table:",p.error),o.openSnackbar({duration:3e3,text:typeof p.error=="string"?p.error:s("snackbarMessage.addTableFail"),type:"error"})):(r(),c(""),o.openSnackbar({duration:3e3,text:s("snackbarMessage.addTableSuccess"),type:"success"}))});return e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement(de,{type:"text",value:n,onChange:u=>c(u.target.value),placeholder:s("tableManagement.enterTableName"),style:{marginRight:"10px"},showCount:!0,maxLength:10}),e.createElement(H,{onClick:l,prefixIcon:e.createElement($e,null)},s("tableManagement.table")))};var fa="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/web-icon-full.a936eddd.png";const Rr=({value:t,title:r,handleSave:s})=>{const{t:n}=Q("global"),c=i.exports.useRef();return e.createElement(a,{className:"qr-code-container"},e.createElement(a,{className:"qr-code-content",mb:3,ref:c},e.createElement(a,{className:"top-qr-container"},e.createElement(a,{style:{padding:"14px 38px",paddingBottom:"8px",height:"223px"}},e.createElement(a,{style:{marginBottom:"4px"}},e.createElement(h,{className:"scan-qr-title"},n("tableManagement.scanQrTable")),e.createElement(h,{className:"qr-code-menu"},n("tableManagement.menu"))),e.createElement(a,{className:"qr-container"},e.createElement(Vt,{value:t,renderAs:"svg",imageSettings:{src:Ze,height:24,width:24,excavate:!0}}))),e.createElement(a,{className:"list-sub-item-container"},e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(et,{style:{fontSize:"20px"}})),n("tableManagement.scanQr")),e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(Rt,{style:{fontSize:"20px"}})),n("tableManagement.viewMenu")),e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(Ut,{style:{fontSize:"20px"}})),n("tableManagement.order")))),e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"flex-end",className:"bottom-qr-container",style:{paddingRight:"5px"}},e.createElement(a,{className:"txt-table-name"},e.createElement(a,{className:"table-name-container"},e.createElement("span",{style:{whiteSpace:"nowrap"}},r))),e.createElement(a,{className:"img-app-icon-container"},e.createElement("img",{src:fa,className:"img-app-icon"})))),e.createElement(H,{onClick:()=>s(c)},n("button.save")))};const Ur=({handleSave:t,listItems:r})=>{const{t:s}=Q("global"),n=i.exports.useRef();return e.createElement(e.Fragment,null,e.createElement(a,{className:"qr-code-container",style:{position:"fixed",right:"-999px"}},e.createElement(a,{ref:n,mb:3,className:"multi-qr-container"},r.map(c=>e.createElement(a,{className:"qr-code-content"},e.createElement(a,{className:"top-qr-container"},e.createElement(a,{style:{padding:"14px 38px",paddingBottom:"8px",height:"223px"}},e.createElement(a,{style:{marginBottom:"4px"}},e.createElement(h,{className:"scan-qr-title"},s("tableManagement.scanQrTable")),e.createElement(h,{className:"qr-code-menu"},s("tableManagement.menu"))),e.createElement(a,{className:"qr-container"},e.createElement(Vt,{value:c.link,renderAs:"svg",imageSettings:{src:Ze,height:24,width:24,excavate:!0}}))),e.createElement(a,{className:"list-sub-item-container"},e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(et,{style:{fontSize:"20px"}})),s("tableManagement.scanQr")),e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(Rt,{style:{fontSize:"20px"}})),s("tableManagement.viewMenu")),e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(Ut,{style:{fontSize:"20px"}})),s("tableManagement.order")))),e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"flex-end",className:"bottom-qr-container",style:{paddingRight:"5px"}},e.createElement(a,{className:"txt-table-name"},e.createElement(a,{className:"table-name-container"},e.createElement("span",{style:{whiteSpace:"nowrap"}},c.name.toUpperCase()))),e.createElement(a,{className:"img-app-icon-container"},e.createElement("img",{src:fa,className:"img-app-icon"}))))))),e.createElement(a,{className:"btn-save"},e.createElement(H,{prefixIcon:e.createElement(qt,null),style:{margin:"8px 0",width:"100%"},onClick:()=>t(n)},s("tableManagement.saveAllQr"))))},qr=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=xt(),c=s.get("tenant_id"),o=Ee(),[l,u]=i.exports.useState([]);oe(ie);const[p,g]=i.exports.useState(null),[b,m]=U(Ne),[f,x]=U(Fe),y=ce(),[S,v]=U(We),_=()=>{d(),x({is_update:!1,stores:[...f.stores]})};i.exports.useEffect(()=>{m(T(C({},b),{isLoading:!0})),d()},[r]);const d=()=>E(void 0,null,function*(){const F=yield it(r);if(F==null?void 0:F.error)m(T(C({},b),{isLoading:!1})),console.error("Error fetching tables:",F.error);else{const P=F.map(q=>T(C({},q),{link:D(q.uuid)}));u(P),m(T(C({},b),{isLoading:!1}))}}),D=F=>`https://zalo.me/s/${Dn}/menu/${r}/${F}?tenant_id=${c}&tableId=${F}&storeId=${r}`,k=(F,P)=>{o({pathname:`/admin/table/form/${r}/${F}`,search:`?table_name=${P}`})},$=F=>E(void 0,null,function*(){v(!0),F.current.style.fontFamily="Montserrat";const P=yield $a(F.current,{scale:3});A(P)}),A=F=>E(void 0,null,function*(){try{yield Va({imageBase64Data:F}),v(!1),y.openSnackbar({duration:3e3,text:t("tableManagement.saveQrNoti"),type:"success"})}catch(P){v(!1),console.log(P),y.openSnackbar({duration:3e3,text:t("tableManagement.saveQrFail"),type:"error"})}});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(Vr,{store_uuid:r,onTableAdded:_}),e.createElement(pe,{style:{marginBottom:"60px"}},l.map((F,P)=>e.createElement(a,{key:P},e.createElement(a,{className:"table-card-container",onClick:()=>k(F.uuid,F.name)},e.createElement("img",{className:"table-img",src:ga}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(h,{size:"xLarge",bold:!0,style:{marginLeft:"10px"}},F.name))),e.createElement(H,{icon:e.createElement(qt,null),className:"qr-icon",onClick:q=>{q.stopPropagation(),g(p===F.uuid?"":F.uuid)}})),e.createElement(a,null,p===F.uuid&&e.createElement(Rr,{value:F.link,title:F.name.toUpperCase(),handleSave:$}))))),(l==null?void 0:l.length)>0&&e.createElement(Ur,{listItems:l,handleSave:$})))},Hr=({isAdmin:t=!1,dishItem:r,onDetails:s,onOrder:n})=>{var p,g;const[c,o]=U(rt),l=c.find(b=>b.uuid===r.uuid),u=b=>{switch(b){case"increase":o(c.map(m=>m.uuid===l.uuid?T(C({},m),{quantity:m.quantity+1}):m));break;case"decrease":o(c.map(m=>m.uuid===l.uuid?m.quantity<=1?void 0:T(C({},m),{quantity:m.quantity-1}):m).filter(Boolean));break}};return e.createElement(a,{flex:!0,style:{padding:"15px 0",justifyContent:"space-between",alignItems:"center",borderRadius:"8px",position:"relative"},onClick:()=>{s(r)}},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(a,{mr:5,flex:!0,alignItems:"center"},e.createElement("img",{src:((g=(p=r.images)==null?void 0:p[0])==null?void 0:g.url)||Re,alt:"dish item",style:{borderRadius:"12px",width:"80px",height:"80px"}})),e.createElement(a,null,e.createElement(h,{size:"large",bold:!0},r.name),e.createElement(h,{className:"red-color caption-text",bold:!0},"\u20AB",ne(r.price)))),e.createElement(a,{flex:!0,onClick:b=>{b.stopPropagation()},style:{position:"absolute",right:0,bottom:"5px"}},t||l?e.createElement(a,{flex:!0,style:{gap:"6px"}},e.createElement(le,{icon:"zi-minus-circle",className:"red-color",style:{fontSize:"32px"},onClick:()=>{u("decrease")}}),e.createElement(h,{size:"xLarge",style:{marginTop:"3px"}},l.quantity),e.createElement(le,{icon:"zi-plus-circle-solid",className:"red-color",style:{fontSize:"32px"},onClick:()=>{u("increase")}})):e.createElement(le,{icon:"zi-plus-circle-solid",className:"red-color",style:{fontSize:"32px"},onClick:b=>{n(r)}})))},jr=({dishMenu:t,onDetails:r,onOrder:s})=>e.createElement(a,null,t.map((n,c)=>e.createElement(a,{key:n.uuid},e.createElement(Hr,{dishItem:n,onDetails:r,onOrder:s}),t.length>c+1?e.createElement(a,{style:{width:"100%",height:"0.5px",backgroundColor:"#e9ebed"}}):e.createElement(a,{style:{width:"100%",height:"15px"}}))));Dt.propTypes={isShow:ze.bool,isAdmin:ze.bool,product:ze.object,onClose:ze.func,onSubmit:ze.func,onPayment:ze.func};function Dt({isShow:t,isAdmin:r=!1,product:s,onClose:n,onSubmit:c,onPayment:o}){var b,m,f,x;const{t:l}=Q("global"),[u,p]=i.exports.useState(1),g=()=>{p(1)};return i.exports.useEffect(()=>{if(!t){g();return}p((s==null?void 0:s.quantity)||1)},[t]),e.createElement(dt,{visible:t,onClose:n,mask:!0,swipeToClose:!0,handler:!0,autoHeight:!0,className:"dish-order"},e.createElement(h.Title,{size:"xLarge",className:"header-title"},l(r?"orderManagement.updateDish":"menu.addNewDish")),e.createElement(a,{flex:!0,p:7},e.createElement(a,{width:"25%",mr:7},e.createElement("img",{src:r?(m=(b=s.product_images)==null?void 0:b[0])==null?void 0:m.url:(x=(f=s.images)==null?void 0:f[0])==null?void 0:x.url,alt:"product img",style:{borderRadius:"12px",width:"100px",height:"100px"}})),e.createElement(a,{flex:!0,flexDirection:"column",justifyContent:"center"},e.createElement(a,{mb:1},e.createElement(h,{size:"xLarge",bold:!0},s.name)),e.createElement(h,{size:"large",bold:!0,className:"red-color"},"\u20AB",ne(r?s.unit_price:s.price)))),e.createElement("hr",null),e.createElement(a,null,e.createElement(h,{className:"title bg-gray"},l("menu.quantity")),e.createElement(a,{flex:!0,justifyContent:"center",textAlign:"center",py:5},e.createElement(a,{className:"fs-24",pr:6},e.createElement(le,{icon:"zi-minus-circle",style:{pointerEvents:u?"visible":"none",color:u?"#141415":"grey",fontSize:"32px"},onClick:()=>{p(u-1)}})),e.createElement(a,{className:"fs-24",style:{marginTop:"6px"}},u),e.createElement(a,{className:"fs-24",pl:6},e.createElement(le,{icon:"zi-plus-circle",style:{fontSize:"32px"},onClick:()=>{p(u+1)}})))),e.createElement(a,null,e.createElement(a,{className:"box-summary"}),e.createElement(a,{flex:!0,justifyContent:"space-between",px:6,py:4},e.createElement(h,{className:"title",style:{padding:0}},l("menu.total")),e.createElement(h,{size:"xLarge",bold:!0,className:"red-color"},ne(r?s.unit_price*u:s.price*u)," ","VN\u0110"))),e.createElement(a,{flex:!0,justifyContent:"space-around",p:4,className:"submit-section"},r?e.createElement(H,{onClick:()=>{c(T(C({},s),{quantity:u})),n()},style:{width:"100%"}},l("orderManagement.updateDish")):e.createElement(e.Fragment,null,e.createElement(H,{onClick:()=>{c(T(C({},s),{quantity:u})),n()},style:{width:"100%"}},l("menu.addToOrder")))))}const Qr=({isShow:t,onClose:r})=>{const{t:s}=Q("global"),n=ce(),c=Ee(),{Option:o}=xe;oe(ie);const l=oe(_t),[u,p]=U(nt),[g,b]=U(rt),[m,f]=U(Ct),[x,y]=i.exports.useState(""),[S,v]=i.exports.useState(""),[_,d]=i.exports.useState(""),[D,k]=U(We),$=i.exports.useMemo(()=>ge.exports.sum(g.map(P=>P.price*P.quantity)),[g]),A=()=>{d("")},F=()=>E(void 0,null,function*(){k(!0);const P={products:g.map(({uuid:B,quantity:Y})=>({uuid:B,quantity:Y})),table_uuid:l.uuid||x,notes:_},q=yield rr(P);(q==null?void 0:q.error)?n.openSnackbar({duration:3e3,text:q.error,type:"error"}):(r(),b([]),m.is_update&&f({is_update:!0,orders:[...m.orders,q]}),n.openSnackbar({duration:3e3,text:s("snackbarMessage.createOrderSuccess"),type:"success"}),x&&c(-1)),k(!1)});return i.exports.useEffect(()=>{t||A()},[t]),e.createElement(Ae,{visible:t,onClose:r,className:"order-submit-modal"},e.createElement(a,{className:"header",flex:!0,justifyContent:"space-between",alignItems:"center"},e.createElement(a,{onClick:r,className:"back-icon"},e.createElement(le,{style:{fontSize:"36px"},icon:"zi-chevron-left",className:"grey-color"})),e.createElement(h,{className:"fs-22"},s("menu.order")),e.createElement(a,{mr:6})),e.createElement(a,{className:"main"},e.createElement(a,{className:"order-list"},g.map(P=>{var q,B;return e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",mb:3,key:P.uuid},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(a,{mr:3,flex:!0,alignItems:"center"},e.createElement("img",{src:((B=(q=P.images)==null?void 0:q[0])==null?void 0:B.url)||Re,alt:"dish img",style:{width:"80px",height:"80px"}})),e.createElement(a,null,e.createElement(h,{size:"large"},P.quantity,"x ",e.createElement("span",{className:"fw-500"},P.name)))),e.createElement(a,{flex:!0,justifyContent:"flex-end",width:"80px"},ne(P.price),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB")))})),e.createElement(a,{className:"total-bill",flex:!0,justifyContent:"flex-end"},e.createElement(h,{size:"xLarge",bold:!0},ne($),e.createElement("span",{style:{paddingLeft:"3px"}},"\u20AB"))),!l.uuid&&e.createElement(a,{p:3,mt:3},e.createElement(xe,{id:"table-select",placeholder:s("orderManagement.selectTable"),errorText:s("orderManagement.tableMustSelect"),onChange:P=>{y(P),v("")},status:S,closeOnSelect:!0},u.tables.map((P,q)=>e.createElement(o,{key:P.uuid,value:P.uuid,title:P.name})))),e.createElement(a,{p:3,style:{paddingTop:0}},e.createElement(de,{placeholder:s("orderManagement.orderDetail.notePlaceholder"),value:_,onChange:P=>d(P.target.value)}))),e.createElement(a,{className:"footer shadow-bottom"},e.createElement(H,{onClick:F,disabled:!l.uuid&&!x},s("menu.submitOrder"),": ",ne($),"\u20AB")))};function Gr({isShow:t,onClose:r,onSubmit:s,dish:n}){var p;const{t:c}=Q("global"),[o,l]=i.exports.useState(1);i.exports.useEffect(()=>{!t||l((n==null?void 0:n.quantity)||1)},[t]);const u=()=>{l(1)};return e.createElement(Ae,{visible:t,onClose:r,className:"dish-details-modal"},e.createElement(a,{className:"container"},e.createElement(a,{className:"header",flex:!0,justifyContent:"center"},e.createElement(a,{width:"100%",height:"100%",style:{overflow:"hidden"}},(n==null?void 0:n.images)&&e.createElement(Ht,{style:{height:"100%"}},(p=n==null?void 0:n.images)==null?void 0:p.map(g=>e.createElement(Ht.Slide,{key:g.uuid,style:{height:"100%"}},e.createElement("img",{style:{verticalAlign:"center"},src:g==null?void 0:g.url,alt:"dish img"}))))),e.createElement(a,{onClick:r,className:"close-btn"},e.createElement(le,{icon:"zi-chevron-left",className:"close-icon"}))),e.createElement(a,{className:"dish-info",mt:3},e.createElement(a,{mb:3},e.createElement(h,{style:{fontSize:"23px"},bold:!0},n.name)),e.createElement(h,{style:{fontSize:"15px",padding:"10px 0"}},n.describe),e.createElement(h,{size:"xLarge",bold:!0,className:"txt-price"},ne(n.price)," \u20AB")),e.createElement(a,{className:"divider"}),e.createElement(a,{flex:!0,className:"footer shadow-bottom"},e.createElement(a,{className:"num-order",flex:!0},e.createElement(a,{className:"fs-24",pr:3},e.createElement(le,{icon:"zi-minus-circle",style:{pointerEvents:o?"visible":"none",color:o?"#141415":"grey"},onClick:()=>{l(o-1)}})),e.createElement(a,{className:"fs-24",style:{marginTop:"2px"}},o),e.createElement(a,{className:"fs-24",px:3},e.createElement(le,{icon:"zi-plus-circle",onClick:()=>{l(o+1)}}))),e.createElement(H,{onClick:()=>{s(T(C({},n),{quantity:o})),r(),u()}},c("menu.addToOrder")," - ",ne(n.price*o),"\u20AB"))))}var Lt="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/store-background.6cbe2900.png";const Wr=({storeData:t,onDetail:r})=>{var c,o;const[s,n]=i.exports.useState();return i.exports.useEffect(()=>{try{n(JSON.parse(t==null?void 0:t.metadata))}catch(l){}},[t]),e.createElement(a,{flex:!0,justifyContent:"flex-start",alignItems:"center",style:{margin:"10px",boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.2)",width:"fit-content",padding:"5px 10px",borderRadius:"8px",maxWidth:"70%"},onClick:r},e.createElement(a,{flex:!0,justifyContent:"center",alignItems:"center",style:{borderRadius:"8px",marginRight:"10px"}},e.createElement("img",{style:((c=s==null?void 0:s.avatar)==null?void 0:c.url)?{}:{filter:"grayscale(1) opacity(0.5)"},className:"img-avatar-store",src:((o=s==null?void 0:s.avatar)==null?void 0:o.url)||Lt,alt:"dish item"})),e.createElement(a,null,e.createElement(h,{size:"large",bold:!0},t.name)))};function Yr({storeData:t,isShow:r,onClose:s}){var g,b,m;const[n,c]=i.exports.useState({}),[o,l]=i.exports.useState(!1);i.exports.useEffect(()=>{if(!!t)try{c(JSON.parse(t==null?void 0:t.metadata))}catch(f){}},[t]);const u=f=>{navigator.clipboard.writeText(f),l(!0),setTimeout(()=>l(!1),2e3)},{t:p}=Q("global");return e.createElement(Ae,{visible:r,onClose:s,className:"dish-details-modal"},e.createElement(a,{className:"container"},e.createElement(a,{onClick:s,className:"close-btn"},e.createElement(le,{icon:"zi-chevron-left",className:"close-icon"})),e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"center",flexDirection:"column",style:{padding:"30px 0",backgroundColor:"#f1f1f1"}},e.createElement(a,null,e.createElement("img",{className:"img-store",style:((g=n==null?void 0:n.avatar)==null?void 0:g.url)?{}:{filter:"grayscale(1) opacity(0.5)"},src:((b=n==null?void 0:n.avatar)==null?void 0:b.url)?(m=n==null?void 0:n.avatar)==null?void 0:m.url:Lt})),e.createElement(a,{flex:!0,flexDirection:"row",alignItems:"center",mt:3},e.createElement(a,null,e.createElement(h,{style:{fontSize:"21px"},bold:!0},t==null?void 0:t.name))),e.createElement(a,{mt:6,style:{padding:"0 20px"}},e.createElement(h,null,n==null?void 0:n.description))),e.createElement(a,null,e.createElement(pe,null,(n==null?void 0:n.address)&&e.createElement(pe.Item,{style:{marginBottom:"0"},title:p("menu.address"),subTitle:n==null?void 0:n.address}),(n==null?void 0:n.phoneNumber)&&e.createElement(pe.Item,{style:{marginBottom:"0"},title:p("menu.phoneNumber"),subTitle:e.createElement(a,{flex:!0,alignItems:"center"},e.createElement("a",{style:{color:"#767a7f"},href:`tel:${n==null?void 0:n.phoneNumber}`},e.createElement(h,{flex:1},n==null?void 0:n.phoneNumber)))}),(n==null?void 0:n.bankName)&&e.createElement(pe.Item,{style:{marginBottom:"0"},title:p("menu.bankName"),subTitle:e.createElement(a,{flex:!0,alignItems:"center"},e.createElement("a",{style:{color:"#767a7f"},href:`tel:${n==null?void 0:n.bankName}`},e.createElement(h,{flex:1},n==null?void 0:n.bankName)))}),(n==null?void 0:n.bankAccount)&&e.createElement(pe.Item,{title:p("menu.bankAccount"),subTitle:e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(h,{flex:1},n==null?void 0:n.bankAccount),e.createElement("svg",{"data-v-465340bc":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 15",width:"12",height:"15",onClick:()=>u(n==null?void 0:n.bankAccount.split(" - ")[1]),style:{cursor:"pointer",marginLeft:"8px",fill:"#666"}},e.createElement("path",{d:"M7.313.188H3.11c-.386 0-.72.134-1.002.404-.28.27-.421.597-.421.984v.299h-.264c-.387 0-.72.135-1.002.404C.14 2.55 0 2.877 0 3.264v10.125c0 .386.14.72.422 1.002.281.28.615.421 1.002.421h7.312c.387 0 .715-.14.985-.421.27-.282.404-.616.404-1.002v-.264h.299c.386 0 .715-.14.984-.422.27-.281.405-.615.405-1.002V4.687l-4.5-4.5Zm0 1.564 2.935 2.936H7.313V1.752ZM9 13.389a.304.304 0 0 1-.08.21.242.242 0 0 1-.184.088H1.424a.288.288 0 0 1-.211-.087.288.288 0 0 1-.088-.211V3.264c0-.07.03-.132.088-.185A.304.304 0 0 1 1.423 3h.264v8.982c0 .387.094.674.282.862.187.187.474.281.861.281H9v.264Zm1.688-1.688a.305.305 0 0 1-.08.211.242.242 0 0 1-.184.088H3.11a.288.288 0 0 1-.21-.088.288.288 0 0 1-.088-.21V1.575c0-.07.029-.132.087-.184a.304.304 0 0 1 .211-.08h3.076v4.5h4.5v5.89Z"})),o&&e.createElement(h,{style:{color:"green",marginLeft:"8px"}},"Copied!"))})))))}const ya=t=>{const{t:r}=Q("global"),{store_uuid:s,table_uuid:n}=be(),[c,o]=xt(),l=c.get("tenant_id"),[u,p]=U(we),[g,b]=U(_t),[m,f]=U(nt),[x,y]=U(yn),[S,v]=U(at),[_,d]=i.exports.useState(!1),[D,k]=i.exports.useState(!1),[$,A]=i.exports.useState(!1),[F,P]=i.exports.useState({}),[q,B]=i.exports.useState([]),[Y,z]=U(rt),[ee,V]=i.exports.useState(null),[ue,Se]=i.exports.useState(!1),[ve,ye]=i.exports.useState({}),[N,w]=i.exports.useState(),[L,Z]=i.exports.useState(0),X=i.exports.useRef([]),me=i.exports.useRef(null);i.exports.useEffect(()=>{if(!me)return;const O=()=>{const M=me.current;if(M){const j=new Event("scroll");M.dispatchEvent(j)}},R=()=>{const M=me.current;if(M){const{scrollTop:j}=M;if(j===0)return;Object.keys(X).forEach(K=>{X[K].length!==0&&X[K].getBoundingClientRect().top<=500&&w(q[K].uuid)})}},ae=me.current;return ae.addEventListener("touchmove",O),ae.addEventListener("scroll",R),()=>{ae.removeEventListener("touchmove",O),ae.removeEventListener("scroll",R)}},[S]);const te=O=>{const R=Y.find(ae=>ae.uuid===O.uuid);if(!R){P(T(C({},O),{quantity:0}));return}P(R)},ke=()=>E(void 0,null,function*(){const O=yield Mt(s);V(O)}),Me=i.exports.useMemo(()=>ge.exports.sum(Y.map(({price:O,quantity:R})=>O*R)),[Y]),Be=O=>{const R=Y.find(ae=>ae.uuid===O.uuid);if(!(!O.quantity&&!R)){if(R){const ae=O.quantity?O:"";z([...Y.filter(M=>M.uuid!==O.uuid),ae]);return}z([...Y,O])}};i.exports.useEffect(()=>{var O;B([...x.categories.map(R=>C({},R))]),w((O=x.categories[0])==null?void 0:O.uuid)},[x]);const je=(O,R)=>{let ae={};return O.forEach(M=>{ae[M.name]=R.filter(j=>j.categories.find(K=>K.uuid===M.uuid))}),ae};i.exports.useEffect(()=>{const O=je(x.categories,S.products);ye(O)},[S,x]);const Qe=O=>{const R=q.map(ae=>ae.uuid).indexOf(O);n||Z(40),X[R].scrollIntoView({behavior:"smooth",block:"start"})},I=O=>E(void 0,null,function*(){const R=yield Tt(O);(R==null?void 0:R.error)?console.error("Error:",R.error):y({is_updated:!0,categories:R.sort((ae,M)=>ae.index-M.index)})}),G=O=>E(void 0,null,function*(){const R=yield Ke(O,!1);(R==null?void 0:R.error)?console.error("Error fetching products:",R.error):v({is_update:!0,products:[...R]})}),re=O=>E(void 0,null,function*(){const R=yield it(O);if(R==null?void 0:R.error)console.error("Error fetching products:",R.error);else if(f({is_update:!0,tables:R}),n){const ae=R.find(M=>M.uuid===n);ae&&b(ae)}});return i.exports.useEffect(()=>{!s||(ke(),l?De({data:{subdomain:l}}):(I(s),G(s),re(s)),p({uuid:s,subdomain:l}),x.categories.length||I(s),S.products.length||G(s),m.tables.length||re(s))},[s]),e.createElement(se,{className:"menu-page",ref:me},e.createElement(a,{className:"top-menu-container"},n&&ee&&e.createElement(a,null,e.createElement(Wr,{storeData:ee,onDetail:()=>Se(!0)}),e.createElement(a,{flex:!0,flexDirection:"center",alignItems:"center",style:{paddingLeft:"10px",paddingBottom:"10px"}},e.createElement(jt,null),e.createElement(h,{size:"xLarge",bold:!0,style:{paddingLeft:"5px"}},g.name)))),e.createElement(a,{className:"section-container",style:{marginBottom:ge.exports.isEmpty(Y)?0:110,paddingTop:n?0:16}},e.createElement(a,{className:"menu-tabs-container"},e.createElement(Ra,{id:"menu-tabs",value:N,orientation:"vertical",variant:"scrollable",onChange:(O,R)=>Qe(R),sx:{width:"65px"}},!ge.exports.isEmpty(q)&&q.map(O=>e.createElement(Ua,{value:O.uuid,label:O.name,sx:{paddingLeft:"0px",alignItems:"flex-start",textAlign:"left",textTransform:"none",fontSize:"14px",minWidth:"60px"}})))),e.createElement(a,{style:{marginLeft:"80px",marginTop:n?100:L}},Object.keys(ve).map((O,R)=>e.createElement(a,null,e.createElement(a,{flex:!0,justifyContent:"space-between",mt:4,ref:ae=>{X[R]=ae},style:{scrollMargin:"100px"}},e.createElement(h,{size:"xLarge",bold:!0,className:"grey-color"},O)),e.createElement(jr,{dishMenu:ve[O],onDetails:ae=>{d(!0),te(ae)},onOrder:ae=>{k(!0),te(ae)}})))),!ge.exports.isEmpty(Y)&&e.createElement(a,{className:"sticky-payment-container",style:{bottom:"48px"}},e.createElement(a,{className:"sticky-payment",flex:!0,justifyContent:"space-between"},e.createElement(h,{size:"Large",bold:!0},r("menu.order")),e.createElement(h,{size:"large"},Y.length," ",r("menu.dish"),"\u30FB",ne(Me))),e.createElement(a,{className:"sticky-payment-btn"},e.createElement(H,{onClick:()=>{A(!0)}},r("menu.finishOrder")))),e.createElement(Dt,{isShow:D,product:F,onClose:()=>{k(!1),P({})},onSubmit:Be,onPayment:O=>{Be(O),A(!0)}}),e.createElement(Gr,{isShow:_,dish:F,onClose:()=>{d(!1),P({})},onSubmit:Be}),e.createElement(Qr,{isShow:$,onClose:()=>{A(!1)}}),e.createElement(Yr,{storeData:ee,isShow:ue,onClose:()=>{Se(!1)}})))};It.propTypes={status:ze.string,onChange:ze.func};function It({status:t,onChange:r}){const{t:s}=Q("global"),[n,c]=i.exports.useState(t),[o,l]=i.exports.useState(!1);return e.createElement(a,{className:"order-status-container"},e.createElement(xe,{value:t,className:`status-${t}`,closeOnSelect:!0,mask:!0,onChange:u=>{c(u),l(!0)}},Object.keys(W).map((u,p)=>e.createElement(Option,{key:p,value:W[u],title:s("orderManagement.statusSelect."+W[u])}))),e.createElement(Ae,{visible:o,mask:!0,onClose:()=>l(!1),className:"order-status-modal"},e.createElement(a,{className:"order-status-modal_icon"},e.createElement(le,{icon:"zi-exclamation"})),e.createElement(a,{className:"order-status-modal_text"},s("orderManagement.confirmChangeStatus"),":",e.createElement(h,{className:`status-${n} new-status`},s("orderManagement.statusSelect."+n))),e.createElement(a,{flex:!0,justifyContent:"space-between",className:"order-status-modal_button"},e.createElement(H,{onClick:()=>{r(n),l(!1)}},s("button.confirm")),e.createElement(H,{variant:"secondary",onClick:()=>l(!1)},s("button.cancel")))))}const ba=()=>{const[t,r]=i.exports.useState(!1),[s,n]=i.exports.useState(!1),c=()=>{if(window.matchMedia("(max-width: 480px)").matches){r(!0),n(!1);return}r(!1),n(!0)};return i.exports.useEffect(()=>(c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}),[]),{isMobile:t,isTablet:s}},Kr=(t,r,s)=>{const n=new URL(Tn),{protocol:c,hostname:o,pathname:l}=n,u=c+s+"."+o+l;return qa(`${u}?auth_token=${t}&store_uuid=${r}`)},xa=({authToken:t,store_uuid:r})=>{const s=ce(),n=oe(we),{t:c}=Q("global"),[o,l]=U(ea),[u,p]=U(ta),[g,b]=i.exports.useState(),m=Ee(),f=_=>E(void 0,null,function*(){const d=yield la(n.uuid,_);return(d==null?void 0:d.error)?(console.log("Error:",d==null?void 0:d.error),[]):d}),x=()=>E(void 0,null,function*(){yield Ha({milliseconds:5e3,success:_=>{},fail:_=>{console.log(_)}})}),y=(_,d)=>{m({pathname:`/admin/order-management/details/index/${_}/${d}`})},S=(_,d)=>E(void 0,null,function*(){const D=yield f(_.uuid);let k=ge.exports.clone(o.orders);switch(d){case"create":k.unshift(D);break;case"update":k=ge.exports.clone(o.orders).map($=>$.uuid===D.uuid?D:$),p(D);break}l({is_update:!0,orders:k})}),v=()=>E(void 0,null,function*(){const _=yield sa();!_||b(_)});return i.exports.useEffect(()=>{v()},[]),i.exports.useEffect(()=>{if(t&&r&&g&&o.is_update){console.log("ws connecting...");const _=Kr(t,r,g);console.log("ws connected to...");const d=_.subscriptions.create({channel:"UserNotificationChannel"},{received(D){console.log("Data received from ws:",D);let k="";const{type:$,message:A}=D;if($===In.ORDER)switch(A.notification_type){case"create":k=`${c("websocket.new_order")}`,S(A,"create"),x();break;case"update":A.status==W.WAIT_FOR_PAY?(k=`${c("websocket.wait_for_pay")} | ${c("websocket.value")}: ${ne(A.value)}\u20AB`,x()):k=`${c("websocket.update_order")}`,S(A,"update");break}s.openSnackbar({duration:3e4,text:e.createElement(a,null,e.createElement(a,null,"[",A.table.name,"]"),k),prefixIcon:e.createElement(le,{icon:"zi-notif-ring",style:{color:"yellow"}}),type:"countdown",action:{text:c("websocket.view_detail"),close:!0,onClick:()=>y(A.uuid,A.store_uuid)},zIndex:7e3})}});return()=>{d.unsubscribe(),_.subscriptions.remove(d)}}},[t,r,g,o]),e.createElement("div",null)};function Zr(){const{t}=Q("global"),r=Ee(),s=ce(),{store_uuid:n}=be(),{isMobile:c}=ba(),o={0:t("orderManagement.statusSelect."+W.PENDING),50:t("orderManagement.statusSelect."+W.WAIT_FOR_PAY),100:t("orderManagement.statusSelect."+W.DONE)},l=oe(Fe),[u,p]=U(we),[g,b]=U(ea),[m,f]=U(nt),[x,y]=U(rt),[S,v]=U(Ne),[_,d]=U(at),D=oe(ie),[k,$]=i.exports.useState(!0),[A,F]=i.exports.useState(!1),[P,q]=i.exports.useState({}),[B,Y]=i.exports.useState({status:"all",date:null,search:""}),[z,ee]=i.exports.useState(!1),[V,ue]=i.exports.useState(1),[Se,ve]=i.exports.useState(!1),ye=i.exports.useRef(null),[N,w]=i.exports.useState(!1),L=(I,G)=>{Y(re=>T(C({},re),{[I]:G}))},Z=()=>E(this,null,function*(){try{const G=(yield Pe({keys:[Ye]}))[Ye];G!==void 0&&$(G)}catch(I){console.log("Error loading keepScreenOn setting:",I)}}),X=()=>E(this,null,function*(){try{yield Bt({keepScreenOn:k})}catch(I){console.log(I)}}),me=i.exports.useMemo(()=>g.orders.length?g.orders.filter(I=>!m.tables.length||m.tables.find(G=>G.uuid===I.table_uuid).name.toLowerCase().includes(B.search.toLowerCase()))||[]:[],[g,B,m]),te=(I,G)=>E(this,null,function*(){const re={status:G},O=yield ua(I.uuid,re);(O==null?void 0:O.error)&&(console.error("Error:",O.error),s.openSnackbar({duration:3e3,text:O.error,type:"error"}))}),ke=I=>{r(`/admin/order-management/details/index/${I.uuid}/${I.store_uuid}`)},Me=()=>E(this,null,function*(){const I={store_uuid:n,page:V,perPage:st};B.date&&!z&&(I.date=Qt(B.date).format("YYYY-MM-DD")),B.status&&B.status!=="all"&&(I.status=B.status);const G=yield oa(I);(G==null?void 0:G.error)?(v(T(C({},S),{isLoading:!1})),console.error("Error fetching orders:",G.error)):(b({is_update:!0,orders:G.sort((re,O)=>new Date(O.created_at)-new Date(re.created_at))}),G.length<st&&ve(!0),v(T(C({},S),{isLoading:!1})))}),Be=I=>E(this,null,function*(){const G=yield it(I);(G==null?void 0:G.error)?console.error("Error:",G.error):f({is_update:!0,tables:G})}),je=I=>E(this,null,function*(){const G=yield Ke(I,!0);(G==null?void 0:G.error)?console.error("Error:",G.error):d({is_update:!0,products:G})});i.exports.useEffect(()=>{Z()},[]),i.exports.useEffect(()=>{Me()},[B.status,B.date,z]),i.exports.useEffect(()=>{v(T(C({},S),{isLoading:!0})),y([]),!!n&&(p(l.stores.find(I=>I.uuid===n)),X(),Me(),Be(n),je(n))},[n,l]),i.exports.useEffect(()=>{g.orders.length&&m.tables.length&&v(T(C({},S),{isLoading:!1}))},[g,m]);const Qe=()=>E(this,null,function*(){console.log("load more orders...");const I=V+1;ue(I);const G={store_uuid:n,page:I,perPage:st};B.date&&!z&&(G.date=Qt(B.date).format("YYYY-MM-DD")),B.status&&B.status!=="all"&&(G.status=B.status);const re=yield oa(G);(re==null?void 0:re.error)?(w(!1),ve(!0),console.error("Error fetching orders:",re.error)):(w(!1),(re==null?void 0:re.length)<st&&(ve(!0),console.log("No more orders")),b({is_update:!0,orders:[...re,...g.orders].sort((O,R)=>new Date(R.created_at)-new Date(O.created_at))}))});return i.exports.useEffect(()=>{if(Se)return;const I=()=>{const R=ye.current;if(R){const{scrollTop:ae,scrollHeight:M,clientHeight:j}=R;if(ae+j>=M){const K=new Event("scroll");R.dispatchEvent(K)}}},G=()=>{ye.current.removeEventListener("touchmove",I)},re=()=>{const R=ye.current;if(R){const{scrollTop:ae,scrollHeight:M,clientHeight:j}=R;ae+j>=M&&!N&&(console.log("Scrolled to the bottom!"),w(!0),Qe())}},O=ye.current;return O.addEventListener("touchmove",I),O.addEventListener("touchend",G),O.addEventListener("scroll",re),()=>{O.removeEventListener("touchmove",I),O.removeEventListener("touchend",G),O.removeEventListener("scroll",re)}},[N,Se,g]),e.createElement(se,{className:"section-container order-management-container",ref:c?ye:null,style:{height:"100px"}},e.createElement(xa,{authToken:D.authToken,store_uuid:n}),e.createElement(a,{className:"toolbar",flex:!0,justifyContent:"space-between",alignItems:"center"},e.createElement(a,{flex:!0,alignItems:"center",className:"toolbar_filter"},e.createElement(a,{className:"toolbar_filter_search"},e.createElement(h,null,t("orderManagement.status")),e.createElement(xe,{closeOnSelect:!0,mask:!0,value:B.status,onChange:I=>{L("status",I)}},Object.values(C({ALL:"all"},W)).map((I,G)=>e.createElement(Option,{value:I,title:t("orderManagement.statusSelect."+I),key:G})))),e.createElement(a,{className:"toolbar_filter_search"},e.createElement(h,null,t("orderManagement.date")),z?e.createElement(Ge,{key:"datePicker-hideDatePicker",mask:!0,maskClosable:!0,value:null,onChange:I=>{L("date",I)},onVisibilityChange:I=>{I||ee(!1)}}):e.createElement(a,{width:"100%",style:{position:"relative"}},e.createElement(Ge,{key:"datePicker-visible",mask:!0,maskClosable:!0,value:B==null?void 0:B.date,onChange:I=>{L("date",I)}}),(B==null?void 0:B.date)&&e.createElement(le,{icon:"zi-close",style:{position:"absolute",right:12,top:12,backgroundColor:"white"},onClick:()=>ee(!0)}))),e.createElement(a,{className:"toolbar_filter_search"},e.createElement(h,null,t("orderManagement.search")),e.createElement(de.Search,{className:"search-input",onChange:I=>L("search",I.target.value)}))),e.createElement(a,{className:"toolbar_add-btn"},e.createElement(H,{className:"fw-500",onClick:()=>r(`/admin/order-management/create/index/${n}`),prefixIcon:e.createElement($e,null)},t("orderManagement.createOrder")))),e.createElement(a,{style:{marginBottom:"50px"}},c?e.createElement(a,null,me.map((I,G)=>{var O;let re=0;return I.status===W.WAIT_FOR_PAY?re=50:I.status===W.DONE&&(re=100),e.createElement(a,{className:"order-table order-table-mobile",key:G,onClick:()=>ke(I),style:{opacity:I.status===W.CANCELLED?.5:1}},e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",className:"order-table-mobile_box"},e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"center"},e.createElement(qe,{src:I.user.avatar,style:{marginRight:"10px"}}),e.createElement(h,{size:"xLarge",bold:!0},(O=m.tables.find(R=>R.uuid===I.table_uuid))==null?void 0:O.name))),e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",className:"order-table-mobile_box"},e.createElement(h,{bold:!0},t("orderManagement.orderTime")),e.createElement(h,null,mt(I.created_at,t))),e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",className:"order-table-mobile_box"},e.createElement(h,{bold:!0},t("orderManagement.notes")),e.createElement(h,null,I.notes)),I.status===W.CANCELLED?e.createElement(a,{className:"order-cancelled red-color"},e.createElement(h,null,t("orderManagement.orderCancelled"))):e.createElement(a,{className:"slider-status-order",onClick:R=>R.stopPropagation()},e.createElement(vt,{min:0,value:re,marks:o,step:50,onChange:R=>{switch(R){case 0:te(I,W.PENDING);break;case 50:te(I,W.WAIT_FOR_PAY);break;case 100:te(I,W.DONE);break}},className:I.status===W.DONE?"slider-green-theme":"slider-yellow-theme"})))})):e.createElement(a,{className:"order-table"},e.createElement(a,{className:"order-table_head"},e.createElement("table",null,e.createElement("thead",{style:{height:"90px"}},e.createElement("tr",null,e.createElement("th",{className:"col"},t("orderManagement.orderTable.user")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.tableName")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.time")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.status")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.notes")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.details")))))),e.createElement(a,{className:"order-table_body",ref:c?null:ye},e.createElement("table",null,e.createElement("tbody",null,me.map((I,G)=>{var re;return e.createElement("tr",{key:G},e.createElement("td",{className:"col"},e.createElement(qe,{src:I.user.avatar})),e.createElement("td",{className:"col"},(re=m.tables.find(O=>O.uuid===I.table_uuid))==null?void 0:re.name),e.createElement("td",{className:"col"},mt(I.created_at,t)),e.createElement("td",{className:"col"},e.createElement(It,{status:I.status,onChange:O=>te(I,O)})),e.createElement("td",{className:"col"},I.notes),e.createElement("td",{className:"col"},e.createElement(a,{className:"button-actions",onClick:()=>ke(I)},e.createElement(le,{icon:"zi-play-solid"}))))}))))),N&&e.createElement(a,null,e.createElement(h,{size:"large"},"Loading..."))),e.createElement(a,{mb:5}),e.createElement(Je,{isShowModal:A,onConfirm:()=>{te(P,W.CANCELLED),F(!1),q({})},setIsShowModal:F,content:t("main.confirmCancel")}))}const Xe=(t=0)=>(t>=1e6?t=t/1e6+"M":t>=1e3&&(t=t/1e3+"K"),t);function va({isShow:t,onClose:r,onSubmit:s,data:n}){const{t:c}=Q("global"),[o,l]=i.exports.useState([]),u=i.exports.useMemo(()=>o.some(g=>g.quantity),[o]),p=(g,b)=>{const m=o.map(f=>f.uuid===b.uuid?T(C({},f),{quantity:g==="increase"?b.quantity+1:b.quantity-1}):f);l(m)};return i.exports.useEffect(()=>{l(n||[])},[n]),e.createElement(dt,{visible:t,onClose:r,title:c("orderManagement.addDishes"),mask:!0,swipeToClose:!0,autoHeight:!0},e.createElement(a,{className:"add-products-container"},e.createElement(a,{className:"product-list"},!ge.exports.isEmpty(o)&&o.map(g=>{var b,m;return e.createElement(a,{key:g.uuid,flex:!0,justifyContent:"space-between",className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(a,{mr:5,flex:!0,alignItems:"center"},e.createElement("img",{src:((m=(b=g.images)==null?void 0:b[0])==null?void 0:m.url)||Re,alt:"dish item",style:{borderRadius:"4px",width:"80px",height:"80px"}})),e.createElement(a,null,e.createElement(h,{size:"large",bold:!0},g.name),e.createElement(h,{className:"red-color caption-text"},"\u20AB",ne(g.price)))),e.createElement(a,{flex:!0,alignItems:"center",style:{gap:"12px"}},e.createElement(le,{icon:"zi-minus-circle",onClick:()=>p("decrease",g),style:{pointerEvents:g.quantity?"visible":"none",color:g.quantity?"#141415":"grey"}}),e.createElement(h,{className:"fs-22",style:{width:"20px"}},g.quantity),e.createElement(le,{icon:"zi-plus-circle-solid",className:"red-color",onClick:()=>p("increase",g)})))})),e.createElement(a,{className:"actions"},e.createElement(H,{variant:"secondary",onClick:r},c("button.cancel")),e.createElement(H,{disabled:!u,onClick:()=>{s(o.filter(g=>g.quantity)),r()}},c("button.confirm")))))}var Jr="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/dm.998ce863.png";function Xr(){var re,O,R,ae;const{t}=Q("global"),{order_uuid:r,store_uuid:s}=be(),{isMobile:n}=ba(),c=ce(),[o,l]=U(at),u=oe(nt),p=oe(ie),g=oe(ta),[b,m]=U(Ne),[f,x]=U(We),y={0:t("orderManagement.statusSelect."+W.PENDING),50:t("orderManagement.statusSelect."+W.WAIT_FOR_PAY),100:t("orderManagement.statusSelect."+W.DONE)},S={0:t("orderManagement.statusItemSelect."+ot.PENDING),100:t("orderManagement.statusItemSelect."+ot.FINISHED)},[v,_]=i.exports.useState(!1),[d,D]=i.exports.useState({}),[k,$]=i.exports.useState(0),[A,F]=i.exports.useState(null),[P,q]=i.exports.useState(""),[B,Y]=i.exports.useState(!1),[z,ee]=i.exports.useState({}),[V,ue]=i.exports.useState(!1),[Se,ve]=i.exports.useState(!1),ye=i.exports.useMemo(()=>d.status===W.PENDING,[d]),N=M=>{Y(!0),ee(M)},w=M=>E(this,null,function*(){const j={order_item_uuid:M.order_item_uuid,delivered_quantity:M.delivered_quantity};x(!0);const K=yield ma(d.uuid,j);(K==null?void 0:K.error)?(console.error("Error:",K.error),c.openSnackbar({duration:3e3,text:K.error,type:"error"})):(D(K),q(K.notes),c.openSnackbar({duration:3e3,text:t("snackbarMessage.deliveredSuccess"),type:"success"})),x(!1)}),L=M=>E(this,null,function*(){const j={store_uuid:s,order:T(C({},M.order),{products:M.order.products.map(({uuid:Oe,product_uuid:Ce,quantity:Te})=>({uuid:Ce||Oe,quantity:Te}))})};x(!0);const K=yield ia(j);(K==null?void 0:K.error)?(console.error("Error:",K.error),c.openSnackbar({duration:3e3,text:K.error,type:"error"}),x(!1)):(D(K),q(K.notes),x(!1))}),Z=M=>{const j=[...d.products.filter(Oe=>Oe.product_uuid!==M.product_uuid),M],K={store_uuid:s,order:T(C({},d),{products:j})};L(K)},X=()=>{const M={store_uuid:s,order:T(C({},d),{notes:P})};ue(!1),L(M)},me=M=>{const j={store_uuid:s,order:T(C({},d),{products:[...d.products,...M]})};L(j)},te=M=>E(this,null,function*(){x(!0);const j={status:M};if(M===W.DONE){const Oe=d.products.filter(Ce=>Ce.delivery_status!==ot.FINISHED).map(Ce=>({order_item_uuid:Ce.order_item_uuid,delivered_quantity:Ce.quantity}));Promise.all(Oe.forEach(Ce=>{ma(d.uuid,Ce)}))}const K=yield ua(d.uuid,j);(K==null?void 0:K.error)&&(console.error("Error:",K.error),c.openSnackbar({duration:3e3,text:K.error,type:"error"})),x(!1)}),ke=M=>E(this,null,function*(){m(T(C({},b),{isLoading:!0}));const j=yield Ke(M,!1);(j==null?void 0:j.error)?(m(T(C({},b),{isLoading:!1})),console.error("Error fetching products:",j.error)):(l({is_update:!0,products:j}),m(T(C({},b),{isLoading:!1})))}),Me=i.exports.useMemo(()=>{var M;return((M=d.products)==null?void 0:M.length)&&ge.exports.sum(d.products.map(j=>j.unit_price*j.quantity))},[d]),Be=i.exports.useMemo(()=>{if(!(A==null?void 0:A.voucher))return;const{voucher_type:M,voucher_value:j,voucher_min_order_value:K}=A.voucher;switch(M){case Le.BY_PERCENT:return t("userOrder.voucherInformation",{voucherValue:`${j}%`,bill:`${Xe(K)}`});case Le.BY_VALUE:return t("userOrder.voucherInformation",{voucherValue:`${Xe(j)}`,bill:`${Xe(K)}`});default:return""}},[A]),je=i.exports.useMemo(()=>!ge.exports.isEmpty(d)&&!ge.exports.isEmpty(u.tables)&&u.tables.find(M=>M.uuid===d.table_uuid),[d,u]),Qe=M=>E(this,null,function*(){console.log(`...getInvoiceData..invoice_uuid: ${M}`);const j=yield mr(M);(j==null?void 0:j.error)?console.error("Error fetching invoice:",j.error):(console.log(`..data.voucher: ${JSON.stringify(j.voucher)}`),F(j))}),I=()=>E(this,null,function*(){x(!0);const M=yield la(s,r);if(M==null?void 0:M.error)console.error("Error fetching products:",M.error);else{D(M);let j=0;M.status===W.WAIT_FOR_PAY&&(j=50),M.status===W.DONE&&(j=100),$(j),q(M==null?void 0:M.notes)}x(!1)});i.exports.useEffect(()=>{!r||!s||I()},[r,s]),i.exports.useEffect(()=>{if(!d||!(d==null?void 0:d.invoice_uuid)){F(null);return}Qe(d.invoice_uuid)},[d]),i.exports.useEffect(()=>{o.products.length||ke(s)},[o]),i.exports.useEffect(()=>{if((g==null?void 0:g.uuid)===d.uuid){D(g);let M=0;g.status===W.WAIT_FOR_PAY&&(M=50),g.status===W.DONE&&(M=100),$(M)}},[g]);const G=()=>E(this,null,function*(){var M;try{yield $t({type:"user",id:(M=d==null?void 0:d.user)==null?void 0:M.zalo_id,message:"Xin Ch\xE0o"})}catch(j){console.log(j)}});return e.createElement(e.Fragment,null,e.createElement(xa,{store_uuid:s,authToken:p.authToken}),e.createElement(se,{className:"section-container order-details-container"},e.createElement(a,{mb:3,mr:6,flex:!0,flexDirection:"row",alignItems:"center",className:"avatar-order-container"},e.createElement(qe,{size:55,src:(re=d==null?void 0:d.user)==null?void 0:re.avatar,style:{marginRight:"10px"}}),e.createElement(h,{size:"xLarge",bold:!0},(O=d==null?void 0:d.user)==null?void 0:O.name),e.createElement(a,{style:{position:"absolute",right:"10px"}},e.createElement(h,{className:"fs-17",style:{fontStyle:"italic"}},mt(d.created_at,t)))),e.createElement(a,{className:"header"},e.createElement(a,null,e.createElement(h,{className:"fs-20 header__table-name"},je.name)),d.status===W.CANCELLED?e.createElement(a,{className:"order-cancelled red-color"},e.createElement(h,null,t("orderManagement.orderCancelled"))):e.createElement(a,{className:"slider-status-order"},e.createElement(vt,{min:0,value:k,marks:y,step:50,vertical:!1,onChange:M=>{switch($(M),M){case 0:te(W.PENDING);break;case 50:te(W.WAIT_FOR_PAY);break;case 100:te(W.DONE);break}},className:d.status===W.DONE?"slider-green-theme":"slider-yellow-theme"}))),e.createElement(a,{className:"main"},e.createElement(a,{className:"order-list"},((R=d.products)==null?void 0:R.length)&&d.products.map((M,j)=>{var Oe,Ce;const K=M.delivery_status===ot.FINISHED?100:0;return e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",mb:3,key:j,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,{mr:6,flex:!0,alignItems:"center"},e.createElement("img",{src:((Ce=(Oe=M.product_images)==null?void 0:Oe[0])==null?void 0:Ce.url)||Re,alt:"dish img",className:"product-image"})),e.createElement(a,null,e.createElement(h,{size:"large"},e.createElement("span",{className:"fw-500"},M.product_name)," (",M.quantity,"x)"," ",ye&&e.createElement(le,{icon:"zi-post",style:{color:"blue",verticalAlign:"top"},onClick:()=>N(M)})),e.createElement(a,{flex:!0,style:{gap:"8px"}},e.createElement(h,{size:"normal"},ne(M.unit_price),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB"))))),d.status!==W.CANCELLED&&e.createElement(e.Fragment,null,e.createElement(a,{className:"quantity"},e.createElement(h,null,t("orderManagement.orderDetail.delivered"),":"),e.createElement(xe,{value:M.delivered_quantity.toString(),onChange:Te=>w(T(C({},M),{delivered_quantity:+Te})),mask:!0,closeOnSelect:!0},[...Array(M.quantity+1).keys()].map(Te=>e.createElement(Option,{key:Te.toString(),title:Te.toString(),value:Te.toString(),disabled:Te<M.delivered_quantity}))),e.createElement(h,null," ","/ ",M.quantity," ",t("orderManagement.orderDetail.dish"))),e.createElement(a,{className:"slider-status-order slider-order-item"},e.createElement(vt,{min:0,value:K,marks:S,step:100,onChange:Te=>{K===0&&w(T(C({},M),{delivered_quantity:M.quantity}))},className:K===0?"slider-yellow-theme":"slider-green-theme"}))))})),ye&&e.createElement(a,{flex:!0,alignItems:"center",style:{gap:"4px"},ml:!n&&3,mb:2},e.createElement(le,{icon:"zi-plus-circle-solid",size:40,style:{color:"red",height:"40px"},onClick:()=>ve(!0)})," ",e.createElement(h,{size:"large"},t("orderManagement.orderDetail.addDish"))),e.createElement(a,null,e.createElement(a,{className:"total-bill",flex:!0,justifyContent:"space-between",alignItems:"center",mb:2},e.createElement(h,{size:"large",bold:!0},t("orderManagement.orderDetail.total"),":"),e.createElement(h,{size:"large"},ne(Me),"\u20AB")),console.log(`order.status: ${d.status}`),console.log(`order?.actual_payment_amount: ${d==null?void 0:d.actual_payment_amount}`),(A==null?void 0:A.voucher)&&e.createElement(e.Fragment,null,e.createElement(a,{flex:!0,justifyContent:"space-between",className:"red-color"},e.createElement(h,null,Be),e.createElement(h,null,"-",ne(d.value-(d==null?void 0:d.actual_payment_amount)),"\u20AB")),e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",className:"red-color",mb:2},e.createElement(h,{size:"xLarge",bold:!0},t("orderManagement.orderDetail.totalPayment"),":"),e.createElement(h,{size:"xLarge",bold:!0},ne(Math.max(0,d==null?void 0:d.actual_payment_amount)),"\u20AB")))),e.createElement(a,{flex:!0,alignContent:"center",style:{paddingTop:0,gap:"8px"}},e.createElement(de,{placeholder:t("orderManagement.orderDetail.notePlaceholder"),value:P,onChangeCapture:M=>q(M.target.value),disabled:!V}),ye&&e.createElement(e.Fragment,null,V?e.createElement(le,{icon:"zi-check",size:30,style:{color:"green"},onClick:X}):e.createElement(le,{icon:"zi-post",size:30,style:{color:"red"},onClick:()=>{ue(!0)}})))),d.status!==W.DONE&&d.status!==W.CANCELLED&&e.createElement(a,null,e.createElement(H,{style:{width:"100%"},onClick:()=>_(!0)},t("orderManagement.cancelOrder"))),e.createElement(Dt,{isShow:B,isAdmin:!0,product:z,onClose:()=>Y(!1),onSubmit:Z}),e.createElement(va,{isShow:Se,data:o.products.filter(M=>{var j;return!((j=d.products)==null?void 0:j.find(K=>K.product_uuid===M.uuid))}).map(M=>T(C({},M),{quantity:0})),onClose:()=>ve(!1),onSubmit:me}),e.createElement(a,{flex:!0,flexDirection:"column",justifyContent:"center",alignItems:"center",onClick:()=>G()},e.createElement(qe,{size:55,src:Jr,style:{marginRight:"10px"}}),e.createElement(h,null,t("main.chat_with_user")," ",(ae=d==null?void 0:d.user)==null?void 0:ae.name))),e.createElement(Je,{isShowModal:v,onConfirm:()=>{te(W.CANCELLED),_(!1)},setIsShowModal:_,content:t("main.confirmCancel")}))}const es=()=>{const t=Ee(),[r,s]=U(Fe),n=oe(ie),{t:c}=Q("global"),[o,l]=i.exports.useState(""),[u,p]=i.exports.useState(!1),g=ce(),b=window.location.hostname,m=i.exports.useRef(null),f=i.exports.useRef(null),x=100,y=()=>E(void 0,null,function*(){const P=yield qn();(P==null?void 0:P.error)?console.error("Error:",P.error):s({is_update:!0,stores:P}),console.log(b)});i.exports.useEffect(()=>{r.stores.length>0&&S()},[r.stores]);const S=()=>E(void 0,null,function*(){var Y;const{defaultStore:P,subdomain:q}=yield Pe({keys:["defaultStore","subdomain"]}),B=r.stores.find(z=>z.subdomain===q);!P||!B?De({data:{defaultStore:r.stores[0],subdomain:(Y=r.stores[0])==null?void 0:Y.subdomain}}):B&&De({data:{defaultStore:B,subdomain:B.subdomain}})});i.exports.useEffect(()=>{console.log(b);const P=b==="localhost";console.log(P?"Running on localhost":"Not localhost"),P||y()},[b]),i.exports.useEffect(()=>{let P;if(u&&m.current)return P=new Gt(m.current,q=>{setTimeout(()=>{console.log(q),l(q.data),p(!1);const B=new URL(q.data),Y=B.searchParams.get("storeId"),z=B.searchParams.get("tableId"),ee=B.searchParams.get("tenant_id");Y&&z&&ee?$(q.data,Y,z,ee):_()},1e3)},{returnDetailedScanResult:!0,highlightScanRegion:!0,highlightCodeOutline:!0}),P.start(),()=>{P.stop(),P.destroy()}},[u]);const v=(P,q)=>E(void 0,null,function*(){try{const Y=(yield it(P)).find(ue=>ue.uuid===q),z=Y?Y.name:null;console.log(z);const ee=yield Mt(P),V=ee?ee.name:null;return console.log(V),{storeName:V,tableName:z}}catch(B){return console.error("Error fetching store or table name:",B),{storeName:null,tableName:null}}}),_=()=>{g.openSnackbar({text:c("main.not_found"),type:"error"})},d=(P,q,B)=>{t({pathname:`/menu/${P}/${q}`,search:`?tenant_id=${B}`})},D=P=>{g.openSnackbar({text:P,type:"error"})},k=()=>{if(b==="localhost"){console.log("Cannot scan QR code on localhost.");return}p(!u)},$=(P,q,B,Y)=>E(void 0,null,function*(){let z=parseInt(localStorage.getItem("scanCount"))||0,ee=JSON.parse(localStorage.getItem("scanList"))||[];z>=x?ee.shift():z++;const{storeName:V,tableName:ue}=yield v(q,B);V&&ue&&(ee.push({qrData:P,storeName:V,tableName:ue}),localStorage.setItem("scanList",JSON.stringify(ee)),localStorage.setItem("scanCount",z),console.log(localStorage.getItem("scanCount")),console.log(localStorage.getItem("scanList"))),d(q,B,Y)}),A=()=>{t("/recent-scan")},F=P=>E(void 0,null,function*(){const q=P.target.files[0];if(q)try{const B=yield Gt.scanImage(q,{returnDetailedScanResult:!0}),Y=new URL(B.data),z=Y.searchParams.get("storeId"),ee=Y.searchParams.get("tableId"),V=Y.searchParams.get("tenant_id");z&&ee&&V?d(z,ee,V):_()}catch(B){console.error("Error during QR code scan:",B),D("L\u1ED7i qu\xE9t m\xE3 qr")}});return e.createElement(se,{className:"page"},e.createElement(a,{className:"section-container",height:"80px"},e.createElement(Pt,{isAmin:!0,true:!0})),e.createElement(a,{flex:!0,flexDirection:"column",className:"section-container"},e.createElement(a,{style:{textAlign:"center"}},e.createElement(h,{size:"xLarge",bold:!0},c("main.scanQrDes")),u?e.createElement("div",{style:{position:"relative",display:"inline-block"}},e.createElement("video",{ref:m,style:{width:"100%",maxWidth:"550px"},onError:D}),e.createElement(h,{size:"medium",bold:!0,style:{position:"absolute",top:"45px",left:"45%",transform:"translateX(-45%)",color:"white",textShadow:"0px 0px 5px rgba(0, 0, 0, 0.5)"}},"H\u01B0\u1EDBng camera v\xE0o m\xE3 QR"),e.createElement("div",{className:"recent-icon-container",style:{position:"absolute",bottom:"10px",left:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"70px",height:"70px"},onClick:()=>f.current.click()},e.createElement("div",{className:"icon",style:{color:"white",width:"45px",height:"50px",backgroundColor:"#333",borderRadius:"50%",display:"flex",opacity:.5,alignItems:"center",justifyContent:"center",marginBottom:"5px"}},e.createElement(ja,null)),e.createElement("div",{className:"label",style:{color:"white",fontSize:"12px"}},c("main.choosePicture"))),e.createElement("div",{className:"recent-icon-container",style:{position:"absolute",bottom:"10px",right:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"70px",height:"70px"},onClick:A},e.createElement("div",{className:"icon",style:{color:"white",width:"45px",height:"50px",backgroundColor:"#333",borderRadius:"50%",display:"flex",opacity:.5,alignItems:"center",justifyContent:"center",marginBottom:"5px"}},e.createElement(et,null)),e.createElement("div",{className:"label",style:{color:"white",fontSize:"12px"}},c("main.reScanQr"))),e.createElement("input",{ref:f,type:"file",accept:"image/*",style:{display:"none"},onChange:F})):e.createElement(a,{mt:6,flex:!0,flexDirection:"column",justifyContent:"center",alignItems:"center"},e.createElement(h,{size:"xLarge",bold:!0},"..."))),e.createElement(a,{mt:1},e.createElement(H,{fullWidth:!0,style:{margin:"10px 0",background:"var(--blue-color)"},onClick:k,prefixIcon:e.createElement(et,null),size:"large"},c(u?"main.stopScan":"main.scanQr"))),e.createElement(a,{mt:1},e.createElement(H,{fullWidth:!0,style:{margin:"10px 0",background:"var(--blue-color)"},onClick:()=>t("/order-history"),prefixIcon:e.createElement(Qa,null),size:"large"},c("userOrder.orderHistory"))),n.store_uuid?e.createElement(a,{mt:1},e.createElement(H,{fullWidth:!0,style:{margin:"10px 0"},onClick:()=>t("/admin/store/index"),prefixIcon:e.createElement(Ga,null),size:"large"},c("main.adminDashboard"))):e.createElement(a,{mt:1},e.createElement(H,{fullWidth:!0,style:{margin:"10px 0"},onClick:()=>t("/admin/store/form"),prefixIcon:e.createElement(Wa,null),size:"large"},c("main.regStore")))))};var ts="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/user.ed187194.png";const as=()=>{const t=Ee(),r=oe(ie),{t:s}=Q("global");return i.exports.useEffect(()=>{r.store_uuid&&t("/admin/store/index")},[]),e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(Pt,{isAmin:!0})),e.createElement("div",{className:"section-container"},r.store_uuid?e.createElement(a,{className:"item-card-container",onClick:()=>t("/admin/store/index")},e.createElement("img",{className:"item-img",src:ut}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(h,{size:"large",bold:!0,style:{marginLeft:"10px"}},s("main.storeManage")))),e.createElement(St,{className:"arrow-icon"})):e.createElement(a,{className:"item-card-container",onClick:()=>t("/admin/store/form")},e.createElement("img",{className:"item-img",src:ut}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(h,{size:"large",bold:!0,style:{marginLeft:"10px"}},s("main.regStore")))),e.createElement(St,{className:"arrow-icon"})),e.createElement(a,{className:"item-card-container",onClick:()=>t("/admin/profile")},e.createElement("img",{className:"item-img",src:ts}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(h,{size:"large",bold:!0,style:{marginLeft:"10px"}},s("main.user")))),e.createElement(St,{className:"arrow-icon"}))))},Ot=()=>{const t=oe(Ne);return t.isLoading?e.createElement(se,{className:"section-container",style:{position:"fixed",zIndex:1e4}},e.createElement(a,{flex:!0,flexDirection:"column",justifyContent:"center",alignItems:"center",style:{marginTop:"70px"}},e.createElement(ft,{visible:!0,logo:Ze}),e.createElement(a,{mt:6},e.createElement(h.Title,null,t.completedText),e.createElement(Ya,{completed:t.completedPercent,maxCompleted:100,showLabel:!0})))):null};function ns({isShow:t,onClose:r,onUse:s,voucher:n}){const{t:c}=Q("global");return e.createElement(Ae,{visible:t,onClose:r,className:"voucher-details-modal"},e.createElement(a,{className:"container"},e.createElement(a,{className:"header",flex:!0,justifyContent:"center"},e.createElement(a,{width:"100%"},e.createElement("img",{src:Re,alt:"voucher img",style:{verticalAlign:"center"}})),e.createElement(a,{onClick:r,className:"close-btn"},e.createElement(le,{icon:"zi-close-circle-solid",className:"grey-color"}))),e.createElement(a,{className:"voucher-info"},e.createElement(a,{mb:1},e.createElement(h,{size:"Large",bold:!0},n.name)),e.createElement(h,{size:"large"}," \u20AB")),e.createElement(a,{className:"divider"}),e.createElement(a,{flex:!0,className:"footer shadow-bottom"},e.createElement(H,{onClick:()=>{s(C({},n)),r()}},c("menu.addToOrder")))))}const Sa=({isAdmin:t=!1,voucher:r,hasUseButton:s=!1,onDetails:n,onUse:c,displayStatus:o=!0})=>{const{t:l}=Q("global"),u=()=>{if(new Date(r.expired_at).getTime()<new Date().getTime())return e.createElement(a,{className:"voucher-status status-expired"},l("voucherManagement.experied"));if(r.status===na.ACTIVE)return e.createElement(a,{className:"voucher-status status-finished"},l("voucherManagement.active"));if(r.status===na.INACTIVE)return e.createElement(a,{className:"voucher-status status-cancelled"},l("voucherManagement.inactive"))};return e.createElement(a,{flex:!0,className:"voucher-card-container",onClick:()=>{n(r)}},e.createElement(a,{className:"voucher-background"}),o&&u(),e.createElement(a,{className:"voucher-card-left"},"-",r.voucher_type===Le.BY_VALUE?Xe(r.voucher_value):r.voucher_value+"%"),e.createElement(a,{className:"voucher-card-right"},e.createElement(h,{size:"xLarge",bold:!0,style:{marginBottom:"8px"}},r.voucher_code),e.createElement(h,{size:"small"},l("voucherManagement.minValue")," \u20AB",Xe(r.voucher_min_order_value)),e.createElement(h,{size:"xxSmall",className:"text-experied"},l("voucherManagement.experiedAt")," ",new Date(r.expired_at).toLocaleDateString("en-GB"))),s&&e.createElement(H,{className:"button-use"},l("button.use")))};const rs=()=>(i.exports.useState(!1),i.exports.useState(!1),i.exports.useState({}),be(),oe(ie),ce(),e.createElement(e.Fragment,null));const Na=t=>{const r=new Date(t),s=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),c=String(r.getDate()).padStart(2,"0");return`${s}/${n}/${c}`};function ss({show:t,order:r,onClose:s,onPayment:n}){const{t:c}=Q("global"),o=oe(we),[l,u]=i.exports.useState(null),[p,g]=i.exports.useState(""),[b,m]=i.exports.useState(""),f=i.exports.useMemo(()=>r&&r.products.reduce((_,d)=>_+d.unit_price*d.quantity,0),[r]),x=i.exports.useMemo(()=>{if(!l||!f)return;const{voucher_type:_,voucher_value:d,voucher_min_order_value:D}=l;if(D>f)return{reduce:0,price:f};let k,$;switch(_){case Le.BY_PERCENT:$=f*(d/100),k=f-$;break;case Le.BY_VALUE:$=d,k=f-$;break;default:return""}return{reduce:$,price:k<0?0:k}},[l,f]),y=_=>E(this,null,function*(){const d=yield cr(_,o.uuid);(d==null?void 0:d.error)?(console.error("Error:",d.error),m(d.error)):(d==null?void 0:d.status)==="actived"&&new Date(d==null?void 0:d.expired_at).getTime()>new Date().getTime()?u(d):(u(null),m(c("userOrder.voucherInvalid")))}),S=_=>{u(null),g(_.target.value.toUpperCase()),m("")};i.exports.useEffect(()=>{if(!p)return;const _=setTimeout(()=>{y(p)},2e3);return()=>clearTimeout(_)},[p]);const v=()=>{g(""),u(null)};return i.exports.useEffect(()=>{t||v()},[t]),e.createElement(Ae,{visible:t,mask:!0,onClose:s,className:"payment-modal"},e.createElement(a,{className:"close-btn",style:{opacity:.3},mb:4,flex:!0,alignItems:"center",onClick:s},e.createElement(le,{style:{fontSize:"36px"},icon:"zi-chevron-left",className:"grey-color"})),e.createElement(a,{className:"main",mt:8},e.createElement(a,{mb:2},e.createElement(h.Title,{size:"xLarge"},c("menu.payment"))),e.createElement(a,{className:"products"},r.products.length&&r.products.map((_,d)=>{var D,k;return e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",key:d,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,{mr:3,flex:!0,alignItems:"center"},e.createElement("img",{src:((k=(D=_.product_images)==null?void 0:D[0])==null?void 0:k.url)||Re,alt:"dish img",className:"product-image",style:{width:"70px",height:"70px",borderRadius:"8px"}})),e.createElement(a,null,e.createElement(h,{size:"large"},e.createElement("span",{className:"fw-500"},_.product_name," ",e.createElement("span",null,"(x",_.quantity,")"))),e.createElement(a,{flex:!0,style:{gap:"8px"}},e.createElement(h,{size:"normal"},ne(_.unit_price),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB"))))),e.createElement(a,null,e.createElement(h,{size:"xLarge"},ne(_.unit_price*_.quantity))))})),e.createElement(a,{className:"total-bill",flex:!0,justifyContent:"space-between",my:2},e.createElement(h,{bold:!0},c("orderManagement.orderDetail.total"),":"),e.createElement(h,null,e.createElement("span",{style:{paddingLeft:"6px"}},ne(f),"\u20AB"))),x&&e.createElement(e.Fragment,null,e.createElement(a,{flex:!0,justifyContent:"space-between",mb:2},e.createElement("span",null,c("orderManagement.orderDetail.reduce"),":"),e.createElement(h,{className:"red-color"},e.createElement("span",{style:{paddingLeft:"6px"}},"-",ne(x.reduce),"\u20AB"))),e.createElement(a,{flex:!0,justifyContent:"space-between",mb:4},e.createElement("span",null,c("orderManagement.orderDetail.totalPayment"),":"),e.createElement(h,{className:"red-color"},e.createElement("span",{style:{paddingLeft:"6px"}},ne(x.price),"\u20AB")))),e.createElement(a,null,e.createElement(h,null,c("userOrder.voucherIfHave")),e.createElement(de,{type:"text",value:p,onChange:S,placeholder:c("voucherManagement.createVoucher.enterVoucherCode")}),b&&e.createElement("i",{className:"red-color"},b),l&&e.createElement(a,{className:"voucher-view-container"},e.createElement(Sa,{voucher:l,displayStatus:!1})))),e.createElement(a,{className:"action"},e.createElement(H,{fullWidth:!0,disabled:b,onClick:()=>n(p)},c("menu.payment"))))}const os=()=>{const{t}=Q("global"),r=ce(),{store_uuid:s}=be(),[n,c]=U(at),[o,l]=U(we),[u,p]=U(Fe),g=oe(ie),[b,m]=U(Ct),[f,x]=U(xn),[y,S]=U(Ne),[v,_]=U(We),[d,D]=i.exports.useState(!1),[k,$]=i.exports.useState(!1),[A,F]=i.exports.useState(!1),P=i.exports.useMemo(()=>{var N;return((N=f.products)==null?void 0:N.length)&&ge.exports.sum(f.products.map(w=>w.unit_price*w.quantity))},[f]),q=i.exports.useMemo(()=>{var L,Z;const N=u.stores.find(X=>X.uuid===o.uuid),w=(Z=(L=N==null?void 0:N.store_settings)==null?void 0:L.find(X=>X.name==="zalo_pay"))==null?void 0:Z.value;return console.log(`zaloPaySetting: ${w}`),(w==null?void 0:w.trim().toLowerCase())==="true"},[u]);console.log(q);const B=i.exports.useMemo(()=>{var L;if(!((L=b.orders)==null?void 0:L.length))return null;const w=ge.exports.clone(b.orders).sort((Z,X)=>new Date(X.created_at).getTime()-new Date(Z.created_at).getTime()).map(Z=>T(C({},Z),{created_at:Na(Z.created_at)}));return ge.exports.groupBy(w,Z=>Z.created_at)},[b]),Y=N=>E(void 0,null,function*(){const w=[...N,...f.products.map(te=>T(C({},te),{uuid:te.product_uuid}))],L={};w.forEach(te=>{if(L[te.uuid]){L[te.uuid]+=te.quantity;return}L[te.uuid]=te.quantity});const Z=Object.keys(L).map(te=>({uuid:te,quantity:L[te]})),X={store_uuid:s,order:T(C({},f),{products:Z})};_(!0);const me=yield ia(X);(me==null?void 0:me.error)?(console.error("Error:",me.error),r.openSnackbar({duration:3e3,text:me.error,type:"error"}),_(!1)):(x(me),_(!1))}),z=N=>E(void 0,null,function*(){const{subdomain:w}=yield Pe({keys:["subdomain"]});try{const L=f.products.map(te=>({id:te.product_uuid,amount:te.unit_price*te.quantity})),Z=L.reduce((te,ke)=>te+ke.amount,0),X=yield Wt.createOrder({desc:`Thanh to\xE1n \u0111\u01A1n h\xE0ng ${f.uuid}`,item:L,amount:Z,extradata:JSON.stringify({invoice_uuid:N,tenant_id:w}),mac:f.mac}),{orderId:me}=X;yield xr(N,me,s)}catch(L){console.log(L)}}),ee=(N="")=>E(void 0,null,function*(){const w={order_uuid:f.uuid};N&&(w.voucher_code=N);const L=yield da(w);(L==null?void 0:L.error)?(console.error("Error:",L.error),r.openSnackbar({duration:3e3,text:L.error,type:"error"})):(r.openSnackbar({duration:3e3,text:t("snackbarMessage.paymentOrderSuccess"),type:"success"}),yield z(L.uuid),Se()),D(!1)}),V=(N="")=>E(void 0,null,function*(){const w={order_uuid:f.uuid};N&&(w.voucher_code=N);const L=yield da(w);(L==null?void 0:L.error)?(console.error("Error:",L.error),r.openSnackbar({duration:3e3,text:L.error,type:"error"})):(r.openSnackbar({duration:3e3,text:t("snackbarMessage.paymentOrderSuccess"),type:"success"}),Se()),D(!1)}),ue=()=>E(void 0,null,function*(){const N=yield ca();(N==null?void 0:N.error)?console.error("Error:",N.error):m({is_update:!0,orders:N.filter(w=>w.store_uuid===s)}),S(T(C({},y),{isLoading:!1}))}),Se=()=>E(void 0,null,function*(){const N=yield sr(s);if(N.products[0].delivery_status,N==null?void 0:N.error)console.error("Error:",N.error);else{if(Ln.includes(N.status)){x({});return}if(N.status===W.DONE||N.status===W.WAIT_FOR_PAY||N.status===W.PAYED)F(!0);else{const w=N.products.some(L=>L.delivered_quantity>0);F(!w)}x(N)}S(T(C({},y),{isLoading:!1}))}),ve=()=>E(void 0,null,function*(){const N=yield Ke(s,!1);(N==null?void 0:N.error)?(S(T(C({},y),{isLoading:!1})),console.error("Error fetching products:",N.error)):(c({is_update:!0,products:N}),S(T(C({},y),{isLoading:!1})))}),ye=()=>{ue(),Se(),n.products.length||ve()};return i.exports.useEffect(()=>{if(S(T(C({},y),{isLoading:!0})),!g.authToken||!s){S(T(C({},y),{isLoading:!1}));return}o.uuid||l({uuid:s}),ye()},[g.authToken,s]),e.createElement(e.Fragment,null,e.createElement(Ot,null),e.createElement(se,{className:"section-container order-history-container"},e.createElement(a,{className:"header"},t("menu.order")),e.createElement(a,{className:"current-order"},e.createElement(a,null,e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center"},e.createElement(h,{size:"xLarge",bold:!0,className:"current-order__title"},t("userOrder.currentOrder")),e.createElement(a,{mb:2},e.createElement(H,{prefixIcon:e.createElement(Ka,null),onClick:ye,className:"refresh-btn"},t("userOrder.refreshOrder")))),ge.exports.isEmpty(f)?e.createElement(a,null,t("userOrder.noHaveOrdersYet")):e.createElement(a,{className:"current-order__main",mt:3},e.createElement(a,{className:`current-order__status status-${f.status}`},t("orderManagement.statusSelect."+f.status)),e.createElement(a,{className:"products-and-note"},e.createElement(a,{className:"products"},f.products.length&&f.products.map((N,w)=>{var L,Z;return e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",key:w,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,{mr:3,flex:!0,alignItems:"center"},e.createElement("img",{src:((Z=(L=N.product_images)==null?void 0:L[0])==null?void 0:Z.url)||Re,alt:"dish img",className:"product-image",style:{width:"50px",height:"50px",borderRadius:"8px"}})),e.createElement(a,null,e.createElement(h,{size:"large"},e.createElement("span",{className:"fw-500"},N.product_name)),e.createElement(a,{flex:!0,style:{gap:"8px"}},e.createElement(h,{size:"normal"},ne(N.unit_price),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB"))))),e.createElement(a,null,e.createElement(h,{size:"xLarge"},"x",N.quantity)))})),e.createElement(a,{flex:!0,justifyContent:"space-between"},f.notes?e.createElement(a,{className:"note"},e.createElement(h,{size:"large"},e.createElement("b",null,t("orderManagement.notes")),":"," ",e.createElement("i",null,'"',f.notes,'"'))):e.createElement(a,null),P?e.createElement(a,{className:"total-bill",flex:!0,alignItems:"center",style:{gap:"4px"}},e.createElement(h,{size:"large",bold:!0},t("orderManagement.orderDetail.total"),":"),e.createElement(h,{size:"large"},ne(P),"\u20AB")):e.createElement(a,null))),e.createElement(a,{className:"actions"},f.status===W.PENDING&&e.createElement(H,{variant:"secondary",onClick:()=>$(!0)},t("userOrder.orderMore")),e.createElement(H,{onClick:()=>{f.status===W.PENDING?D(!0):f.status===W.WAIT_FOR_PAY&&(F(!0),D(!1))},disabled:A},t("menu.payment")))))),e.createElement(a,{className:"order-history"},e.createElement(a,null,e.createElement(h,{size:"xLarge",bold:!0,className:"current-order__title"},t("userOrder.orderHistory")),ge.exports.isEmpty(B)?e.createElement(a,null,t("userOrder.noHaveOrdersYet")):Object.keys(B).map((N,w)=>e.createElement(a,{key:w},e.createElement(a,{pt:4},e.createElement(h,null,N)),B[N].map((L,Z)=>e.createElement(a,{className:"current-order__main",mt:3,key:Z},e.createElement(a,{className:`current-order__status status-${L.status}`},L.status),e.createElement(a,{className:"products-and-note"},e.createElement(a,{className:"products"},L.products.length&&L.products.map((X,me)=>e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",key:me,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,null,e.createElement(h,{size:"large"},e.createElement("span",{className:"fw-500"},X.product_name," (x",X.quantity,")")))),e.createElement(a,null,e.createElement(h,{size:"normal"},ne(X.unit_price*X.quantity),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB")))))),e.createElement(a,{pt:3,pb:2},L.notes&&e.createElement(a,{className:"note"},e.createElement(h,{size:"large"},t("orderManagement.notes"),":"," ",e.createElement("i",null,'"',L.notes,'"'))),L.status===W.PAYED&&e.createElement(a,{flex:!0,mt:1},e.createElement(h,{size:"large"},t("orderManagement.orderDetail.totalPayment"),":"),e.createElement(h,{size:"large"},e.createElement("span",{style:{paddingLeft:"6px"}},ne(L.actual_payment_amount),"\u20AB"," ",(()=>{if(!(L==null?void 0:L.actual_payment_amount))return"";const X=(L==null?void 0:L.value)-(L==null?void 0:L.actual_payment_amount);return X===0?"":e.createElement("span",{className:"red-color",style:{marginLeft:"3px",fontWeight:500}},"(-",ne(X),"\u20AB)")})()))))))))))),!ge.exports.isEmpty(f)&&e.createElement(ss,{show:d,order:f,onClose:()=>D(!1),onPayment:q?ee:V}),e.createElement(va,{isShow:k,data:n.products.map(N=>T(C({},N),{quantity:0})),onClose:()=>$(!1),onSubmit:Y})))},cs=t=>{const{t:r}=Q("global"),{pathname:s}=Nt(),n=Ee(),[c,o]=i.exports.useState("menu"),l=oe(we),u=oe(_t);return i.exports.useEffect(()=>{if(!!s){if(s.includes("/menu")){o("menu");return}if(s.includes("/order")){o("order");return}if(s.includes("/profile")){o("me");return}}},[s]),e.createElement(tt,{fixed:!0,activeKey:c,onChange:p=>o(p)},e.createElement(tt.Item,{label:r("navbar.menu"),key:"menu",icon:e.createElement(Yt,null),activeIcon:e.createElement(Yt,null),onClick:()=>n({pathname:`/menu/${l.uuid}/${u.uuid}`,search:`?tenant_id=${l.subdomain}`})}),e.createElement(tt.Item,{key:"order",label:r("navbar.order"),icon:e.createElement(Za,null),activeIcon:e.createElement(Ja,null),linkTo:`/user/order/${l.uuid}`}),e.createElement(tt.Item,{key:"me",label:r("navbar.user"),icon:e.createElement(Xa,null),activeIcon:e.createElement(en,null),linkTo:"/user/profile"}))};function ls(){return e.createElement(e.Fragment,null,e.createElement(Kt,null),e.createElement(cs,null))}function is(){const t=Nt(),{t:r}=Q("global"),s=aa[Object.keys(aa).find(n=>t==null?void 0:t.pathname.includes(n))];return e.createElement(e.Fragment,null,e.createElement(Zt,{title:r(s)}),e.createElement(a,{style:{marginTop:"45px"}},e.createElement(Kt,null)))}const us={storeManage:"Store management",regStore:"Register store",user:"User profile",companyName:"Company name",enterCompanyName:"Enter company name",createCompany:"Create company",companyManagement:"Company management",scanQr:"Scan QR code",reScanQr:"Rescan QR",choosePicture:"Select image",textWhenNothing:"The QR code you scan will be here",adminDashboard:"Admin dashboard",scanQrDes:"Scan QR code to view menu",stopScan:"Stop Scan",confirmDelete:"Are you sure to delete",confirmCancel:"Are you sure to cancel?",no_permission:"Please allow Zalo access camera",switch_camera:"Switch Camera",not_found:"Menu was not found, please try again",chat_with_user:"Send zalo message to"},ms={storeManagement:"Store management",regStore:"Register",storeName:"Store name",enterStoreName:"Enter store name",storeDescription:"Store description",helperStoreCode:"Only allows letters, numbers, and underscores",suggestStoreCode:"Suggest store code",store:"Store",tables:"Tables",products:"Products",categories:"Categories",voucher:"Vouchers",order:"Orders",storeDetail:"Store details",activationCode:"Activation Code",enterActivationCode:"Enter Activation Code",enterMetadata:"Enter store info",days:"Days",getPhoneSupport:"Link your phone number to get advice on how to use.",user:"User management",sale_report:"Simple sale report",editStore:"Update store information",follow_oa:"Follow OA",send_message:"Send message"},ds={tableManagement:"Table management",enterTableName:"Enter table name",table:"Table",print:"Print",tableName:"Table name",updateTable:"Update table",scanQrTable:"Scan code to view",menu:"MENU",saveAllQr:"Save all QR code",saveQrFail:"Failed to save QR code",saveQrNoti:"Save QR code successfully!",qrPowerBy:"Powered by",scanQr:"Scan QR",viewMenu:"View menu",order:"Order",pay:"Payment"},ps={productManagement:"Product management",price:"Price",updateProduct:"Update product",createProduct:{createProduct:"Create product",productName:"Product name",productNameEnter:"Enter product name",productDescription:"Product description",productDescriptionEnter:"Enter product description",productPrice:"Product price",productPriceEnter:"Enter product price",store:"Store",storeSelect:"Select store",storeInfo:"Can select a store",category:"Category",categorySelect:"Select category",categoryInfo:"Can select multiple categories",uploadImage:"Upload image",display:"Display",submit:"Submit",messageErrorProductName:"Please enter a product name",messageErrorProductDescription:"Please enter a product description",messageErrorProductPrice:"Please enter a product price",messageErrorProductImage:"Please select at least a product image",messageErrorProductCategory:"Please select at least a product category"},scanMenu:{button:"Scan Menu",title:"Upload Menu Image to auto import products",description:"Please click the button below to select image of your menu. Once selected, the image will be uploaded and analyzed to auto import your products. Please note that your store can upload maximum 5 menu images for scan.",over_limit:"You have used all your limit for Scan Menu feature",current_count:"You have used",status:"Status",request_date:"Request Date"},status:{display:"Display",hidden:"Hidden"}},gs={categoryManagement:"Category management",categoryNameEnter:"Enter category name",category:"Category",categoryName:"Category name",update:"Update",store:"Store",updateCategory:"Update category",position:"Position",dragDrop:"Drag and drop to change position"},hs={voucherManagement:"Voucher management",createVoucher:{createVoucher:"Create voucher",voucherCode:"Voucher code",enterVoucherCode:"Enter voucher code",description:"Description",enterDescription:"Enter description",voucherType:"Voucher type",typeSelect:{decrease_by_value:"Decrease by value",decrease_by_percent:"Decrease by percent"},voucherValue:"Voucher value",enterVoucherValue:"Enter voucher value",voucherMinOrderValue:"Min order value require",enterVoucherMinOrderValue:"Enter min order value require",experiedAt:"Experied at",active:"Active"},updateVoucher:"Update voucher",minValue:"Minimum order value from",experiedAt:"Experied at",active:"Active",inactive:"Inactive",experied:"Experied"},Es={orderManagement:"Order management",status:"Status",statusSelect:{all:"All",pending:"Pending",confirmed:"Confirmed",delivered:"Delivered",done:"Done",wait_for_pay:"Wait for payment",payed:"Payed",refunded:"Refunded",cancelled:"Cancelled"},statusItemSelect:{pending:"Pending",finished:"Finished"},confirmChangeStatus:"Confirm status change to",date:"Date",search:"Search",createOrder:"Create order",orderTime:"Order time",notes:"Note",viewOrder:"View order details",ago:"ago",orderDetail:{orderDetail:"Order detail",delivered:"Delivered",dish:"Dish(es)",addDish:"Add dishes",total:"Total",reduce:"Reduce",totalPayment:"Total payment",notePlaceholder:"Note: Less spicy, less ice, more sugar,..."},updateDish:"Update dish",addDishes:"Add dishes to order",selectTable:"Select table",tableMustSelect:"You must select table",orderTable:{user:"User",tableName:"Table name",time:"Time order",status:"Status",notes:"Notes",details:"Details"},cancelOrder:"Cancel Order",orderCancelled:"Order cancelled"},fs={dishes:"Dishes",allDishes:"All dishes",addNewDish:"Add new dish",quantity:"Quantity",total:"Total",payment:"Payment",addToOrder:"Add to order",order:"Order",dish:"Dish(es)",finishOrder:"Finish order",submitOrder:"Submit order",filter:{textAsc:"From A to Z",textDesc:"From Z to A",priceAsc:"Price Low to High",priceDesc:"Price High to Low"},address:"Address",phoneNumber:"Phone number",bankName:"Bank",bankAccount:"Bank account"},ys={profile:"Profile",username:"Username",userId:"User ID",storeId:"Store ID",companyId:"Company ID",role:"Role",zalo_version:"Zalo Version",language:"Language",app_version:"App version",zalo_mini_app_api_version:"Zalo Mini App API Version",keepScreen:"Keep the screen always on at the Order Management page",getLoginToken:"Get login token",loginToken:"Login token",valid1Minute:"Valid in 1 minute",genLoginTokenAgain:"Gen again"},bs={cancel:"Cancel",confirm:"Confirm",save:"Save",use:"Use",delete:"Delete",register:"Register",copy:"Copy",copied:"Copied"},xs={loginFail:"Failed to login",getStoreFail:"Failed get store",getCategoryFail:"Failed get Category list",getProductFail:"Failed get Product list",getTableFail:"Failed get Table list",getOrderFail:"Failed get Order list",catNameEmpty:"catName is empty",userUUIDEmpty:"User UUID is empty",storeNameEmpty:"storeName is empty",updateCatSuccess:"Update category success",updateCatFail:"Failed to update category",addCatSuccess:"Add category success",addCatFail:"Failed to add category",fetchProductDetailFail:"Failed to fetch product details",getCatFail:"Failed send request to get category data",downCatFail:"Failed download category data",statusOrderSuccess:"Status order successfully updated!!!",statusOrderFail:"Failed to update status order",deliveredSuccess:"Delivered quantity successfully updated",deliveredFail:"Failed to update delivered quantity",orderSuccess:"Order successfully updated",orderFail:"Failed to update order",uploadImageSuccess:"Upload images success",uploadImageFail:"Failed to upload images",productCreateSuccess:"Product created successfully!",productCreateFail:"Failed to create product",productUpdateSuccess:"Product updated successfully!",productUpdateFail:"Failed to update product",requestDownStoreListFail:"Failed to send request download StoreList",downStoreListFail:"Failed download StoreList",createStoreSuccess:"Create store successful",createStoreFail:"Failed to create store",createStoreFailExisted:"Store name has already been taken",createCompanySuccess:"Create company successful",createCompanyFail:"Failed to create company",createOrderSuccess:"Create order successfully",createOrderFail:"Error to create order",saved:"Saved",fillRequireInput:"Please enter all required field",getVoucherFail:"Failed to get voucher data",voucherCreateSuccess:"Voucher created successfully!",voucherCreateFail:"Failed to create voucher",voucherUpdateSuccess:"Voucher updated successfully!",voucherUpdateFail:"Failed to update voucher",fetchVoucherDetailFail:"Failed to fetch voucher details",paymentOrderSuccess:"Payment order successfully",paymentOrderFail:"Failed to payment order",deleteFail:"Failed to delete item",deleteSuccess:"Item deleted successfully",addTableSuccess:"Add table successfully",addTableFail:"Failed to add table",updateTableSuccess:"Update table successfully",updateTableFail:"Failed to update table",codeValid:"Activation code can be use",codeInvalid:"Invalid activation code",codeNotFound:"Activation code not found!",codeUseOne:"Activation code has been used!",getUserFail:"Failed to get users",userIDIncorrect:"User ID is incorrect",addUserSuccess:"Add user successfully",fetchOrderHistoryFailed:"Fetch order history failed",updateStoreSuccess:"Update store successfully",pleaseLinkPhoneNumber:"Please link your phone number to register store",followedOASuccess:"Followed successfully",followedOAFailed:"Follow OA failed"},vs={menu:"Menu",promotion:{promotion:"Promotion",add:"Add",addVoucherPlaceholder:"Enter voucher code"},order:"Order",user:"User"},Ss={refreshOrder:"Refresh data",currentOrder:"Current Order",orderHistory:"Order History",orderMore:"Order More",voucherEnter:"Voucher Enter",back:"Back",voucherIfHave:"Voucher (if have)",noHaveOrdersYet:"No have orders yet",voucherInvalid:"Voucher invalid",voucherInformation:"Reduce {{voucherValue}} (from {{bill}})"},Ns={view_detail:"View Detail",new_order:"New Order",update_order:"Update Order",value:"value",wait_for_pay:"Wait for pay"},_s={userUUIDEnter:"Enter user UUID",add_user:"Add User",staff:"Staff",admin:"Admin"},Cs={allStore:"All store",filterByStore:"Filter by store"},ks={fromDate:"Start Date",toDate:"End Date",from_date_can_not_greater_to_date:"Start date cannot be greater than end date",from_date_can_not_greater_today:"Start date cannot be greater than today"},ws={description:"Description",enterDescription:"Enter description",address:"Address",enterAddress:"Enter address",phoneNumber:"Phone number",enterPhoneNumber:"Enter phone number",bankName:"Bank",selectBank:"choose bank",bankAccount:"Bank account",enterBankAccount:"Enter bank account",bankExample:"88888888"},Ms={title:"Payment result",successTitle:"Payment success",successSub:"Thank you for your order!",pendingTitle:"Payment is being processed",pendingSub:"The seller has received your payment request and is processing it. Trading code:",failTitle:"Payment failed",failSub:"An error occurred during payment, please try again later! Error code:"};var Ts={main:us,storeManagement:ms,tableManagement:ds,productManagement:ps,categoryManagement:gs,voucherManagement:hs,orderManagement:Es,menu:fs,profile:ys,button:bs,snackbarMessage:xs,navbar:vs,userOrder:Ss,websocket:Ns,userManagement:_s,orderHistory:Cs,saleReport:ks,editStore:ws,payment:Ms};const Ps={storeManage:"Qu\u1EA3n l\xFD c\u1EEDa h\xE0ng",regStore:"\u0110\u0103ng k\xFD c\u1EEDa h\xE0ng",user:"Th\xF4ng tin ng\u01B0\u1EDDi d\xF9ng",companyName:"T\xEAn doanh nghi\u1EC7p",enterCompanyName:"Nh\u1EADp t\xEAn doanh nghi\u1EC7p",createCompany:"T\u1EA1o doanh nghi\u1EC7p",companyManagement:"Qu\u1EA3n l\xFD doanh nghi\u1EC7p",scanQr:"Qu\xE9t m\xE3 QR",reScanQr:"G\u1EA7n \u0111\xE2y",choosePicture:"\u1EA2nh c\xF3 s\u1EB5n",textWhenNothing:"M\xE3 QR b\u1EA1n qu\xE9t s\u1EBD \u1EDF \u0111\xE2y",adminDashboard:"Trang qu\u1EA3n tr\u1ECB vi\xEAn",scanQrDes:"Qu\xE9t m\xE3 QR \u0111\u1EC3 xem th\u1EF1c \u0111\u01A1n",stopScan:"D\u1EEBng qu\xE9t m\xE3 QR",confirmDelete:"B\u1EA1n c\xF3 mu\u1ED1n x\xF3a",confirmCancel:"B\u1EA1n c\xF3 mu\u1ED1n hu\u1EF7?",no_permission:"Vui l\xF2ng c\u1EA5p quy\u1EC1n truy c\u1EADp camera cho Zalo",switch_camera:"Chuy\u1EC3n camera",not_found:"M\xE3 QR code kh\xF4ng \u0111\xFAng, vui l\xF2ng ki\u1EC3m tra l\u1EA1i",chat_with_user:"Nh\u1EAFn tin Zalo cho"},Ds={storeManagement:"Qu\u1EA3n l\xFD c\u1EEDa h\xE0ng",regStore:"\u0110\u0103ng k\xFD",storeName:"T\xEAn c\u1EEDa h\xE0ng",enterStoreName:"Nh\u1EADp t\xEAn c\u1EEDa h\xE0ng",storeDescription:"Th\xF4ng tin c\u1EEDa h\xE0ng",helperStoreCode:"Ch\u1EC9 g\u1ED3m ch\u1EEF, s\u1ED1 v\xE0 d\u1EA5u g\u1EA1ch d\u01B0\u1EDBi",suggestStoreCode:"M\xE3 c\u1EEDa h\xE0ng \u0111\u1EC1 xu\u1EA5t",store:"C\u1EEDa h\xE0ng",tables:"B\xE0n",products:"S\u1EA3n ph\u1EA9m",categories:"Danh m\u1EE5c",voucher:"M\xE3 gi\u1EA3m gi\xE1",order:"\u0110\u01A1n h\xE0ng",storeDetail:"Chi ti\u1EBFt c\u1EEDa h\xE0ng",activationCode:"M\xE3 k\xEDch ho\u1EA1t",enterActivationCode:"M\xE3 k\xEDch ho\u1EA1t",enterMetadata:"Th\xF4ng tin v\u1EC1 c\u1EEDa h\xE0ng",days:"Ng\xE0y",getPhoneSupport:"Li\xEAn k\u1EBFt s\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 \u0111\u01B0\u1EE3c t\u01B0 v\u1EA5n",user:"Qu\u1EA3n l\xFD nh\xE2n vi\xEAn",sale_report:"B\xE1o c\xE1o \u0111\u01A1n gi\u1EA3n",editStore:"C\u1EADp nh\u1EADt c\u1EEDa h\xE0ng",follow_oa:"Theo d\xF5i OA",send_message:"Chat v\u1EDBi V\xE0ng Xanh"},Ls={tableManagement:"Qu\u1EA3n l\xFD b\xE0n",enterTableName:"Nh\u1EADp t\xEAn b\xE0n",table:"B\xE0n",print:"In",tableName:"T\xEAn b\xE0n",updateTable:"C\u1EADp nh\u1EADt b\xE0n",scanQrTable:"Qu\xE9t m\xE3 \u0111\u1EC3 xem",menu:"MENU",saveAllQr:"L\u01B0u t\u1EA5t c\u1EA3 m\xE3 QR",saveQrFail:"L\u01B0u m\xE3 QR th\u1EA5t b\u1EA1i",saveQrNoti:"L\u01B0u m\xE3 QR th\xE0nh c\xF4ng!",qrPowerBy:"Cung c\u1EA5p b\u1EDFi",scanQr:"Qu\xE9t QR",viewMenu:"Xem menu",order:"\u0110\u1EB7t m\xF3n",pay:"Thanh to\xE1n"},Is={productManagement:"Qu\u1EA3n l\xFD s\u1EA3n ph\u1EA9m",price:"Gi\xE1",updateProduct:"C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m",createProduct:{createProduct:"T\u1EA1o s\u1EA3n ph\u1EA9m",productName:"T\xEAn s\u1EA3n ph\u1EA9m",productNameEnter:"Nh\u1EADp t\xEAn s\u1EA3n ph\u1EA9m",productDescription:"M\xF4 t\u1EA3 s\u1EA3n ph\u1EA9m",productDescriptionEnter:"Nh\u1EADp m\xF4 t\u1EA3 s\u1EA3n ph\u1EA9m",productPrice:"Gi\xE1 s\u1EA3n ph\u1EA9m",productPriceEnter:"Nh\u1EADp gi\xE1 s\u1EA3n ph\u1EA9m",store:"C\u1EEDa h\xE0ng",storeSelect:"Ch\u1ECDn c\u1EEDa h\xE0ng",storeInfo:"C\xF3 th\u1EC3 ch\u1ECDn m\u1ED9t c\u1EEDa h\xE0ng",category:"Danh m\u1EE5c",categorySelect:"Ch\u1ECDn danh m\u1EE5c",categoryInfo:"C\xF3 th\u1EC3 ch\u1ECDn nhi\u1EC1u danh m\u1EE5c",uploadImage:"T\u1EA3i l\xEAn h\xECnh \u1EA3nh",display:"Hi\u1EC3n th\u1ECB",submit:"X\xE1c nh\u1EADn",messageErrorProductName:"Vui l\xF2ng nh\u1EADp t\xEAn s\u1EA3n ph\u1EA9m",messageErrorProductDescription:"Vui l\xF2ng nh\u1EADp m\xF4 t\u1EA3 s\u1EA3n ph\u1EA9m",messageErrorProductPrice:"Vui l\xF2ng nh\u1EADp gi\xE1 s\u1EA3n ph\u1EA9m",messageErrorProductImage:"Vui l\xF2ng ch\u1ECDn \xEDt nh\u1EA5t m\u1ED9t \u1EA3nh s\u1EA3n ph\u1EA9m",messageErrorProductCategory:"Vui l\xF2ng ch\u1ECDn \xEDt nh\u1EA5t m\u1ED9t danh m\u1EE5c s\u1EA3n ph\u1EA9m"},scanMenu:{button:"Scan Menu",title:"Upload \u1EA3nh menu c\u1EE7a c\u1EEDa h\xE0ng b\u1EA1n \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng nh\u1EADp s\u1EA3n ph\u1EA9m",description:"Click n\xFAt upload \u0111\u1EC3 ch\u1ECDn \u1EA3nh menu v\xE0 t\u1EF1 \u0111\u1ED9ng nh\u1EADp s\u1EA3n ph\u1EA9m trong menu. Ch\xFA \xFD l\xE0 c\u1EEDa h\xE0ng c\u1EE7a b\u1EA1n ch\u1EC9 c\xF3 th\u1EC3 upload t\u1ED1i \u0111a 5 \u1EA3nh menu.",over_limit:"B\u1EA1n \u0111\xE3 s\u1EED d\u1EE5ng h\u1EBFt gi\u1EDBi h\u1EA1n c\u1EE7a t\xEDnh n\u0103ng t\u1EF1 \u0111\u1ED9ng nh\u1EADp s\u1EA3n ph\u1EA9m",current_count:"B\u1EA1n \u0111\xE3 d\xF9ng",status:"Tr\u1EA1ng th\xE1i y\xEAu c\u1EA7u",request_date:"Th\u1EDDi gian y\xEAu c\u1EA7u"},status:{display:"Hi\u1EC3n th\u1ECB",hidden:"\u1EA8n"}},Os={categoryManagement:"Qu\u1EA3n l\xFD danh m\u1EE5c",categoryNameEnter:"Nh\u1EADp t\xEAn danh m\u1EE5c",category:"Danh m\u1EE5c",categoryName:"T\xEAn danh m\u1EE5c",update:"C\u1EADp nh\u1EADt",store:"C\u1EEDa h\xE0ng",updateCategory:"C\u1EADp nh\u1EADt danh m\u1EE5c",position:"Th\u1EE9 t\u1EF1",dragDrop:"K\xE9o th\u1EA3 \u0111\u1EC3 thay \u0111\u1ED5i th\u1EE9 t\u1EF1"},As={voucherManagement:"Qu\u1EA3n l\xFD m\xE3 gi\u1EA3m gi\xE1",createVoucher:{createVoucher:"T\u1EA1o m\xE3 gi\u1EA3m gi\xE1",voucherCode:"M\xE3",enterVoucherCode:"Nh\u1EADp m\xE3",description:"M\xF4 t\u1EA3",enterDescription:"Nh\u1EADp m\xF4 t\u1EA3",voucherType:"Lo\u1EA1i m\xE3",typeSelect:{decrease_by_value:"Gi\u1EA3m theo gi\xE1 tr\u1ECB",decrease_by_percent:"Gi\u1EA3m theo ph\u1EA7n tr\u0103m"},voucherValue:"Gi\xE1 tr\u1ECB gi\u1EA3m",enterVoucherValue:"Nh\u1EADp gi\xE1 tr\u1ECB",voucherMinOrderValue:"Gi\xE1 tr\u1ECB \u0111\u01A1n h\xE0ng t\u1ED1i thi\u1EC3u",enterVoucherMinOrderValue:"Nh\u1EADp gi\xE1 tr\u1ECB \u0111\u01A1n h\xE0ng t\u1ED1i thi\u1EC3u",experiedAt:"Ng\xE0y h\u1EBFt h\u1EA1n",active:"Ho\u1EA1t \u0111\u1ED9ng"},updateVoucher:"C\u1EADp nh\u1EADt m\xE3 gi\u1EA3m gi\xE1",minValue:"\u0110\u01A1n t\u1ED1i thi\u1EC3u",experiedAt:"H\u1EBFt h\u1EA1n v\xE0o",active:"Ho\u1EA1t \u0111\u1ED9ng",inactive:"Ch\u01B0a k\xEDch ho\u1EA1t",experied:"H\u1EBFt h\u1EA1n"},zs={orderManagement:"Qu\u1EA3n l\xFD \u0111\u01A1n h\xE0ng",status:"Tr\u1EA1ng th\xE1i",statusSelect:{all:"T\u1EA5t c\u1EA3",pending:"\u0110ang ch\u1EDD",confirmed:"\u0110\xE3 x\xE1c nh\u1EADn",delivered:"\u0110\xE3 l\xEAn m\xF3n",done:"Ho\xE0n th\xE0nh",wait_for_pay:"Ch\u1EDD thanh to\xE1n",payed:"\u0110\xE3 thanh to\xE1n",refunded:"\u0110\xE3 ho\xE0n ti\u1EC1n",cancelled:"\u0110\xE3 h\u1EE7y"},statusItemSelect:{pending:"\u0110ang ch\u1EDD",finished:"\u0110\xE3 l\xEAn m\xF3n"},confirmChangeStatus:"X\xE1c nh\u1EADn thay \u0111\u1ED5i tr\u1EA1ng th\xE1i",date:"Ng\xE0y",search:"T\xECm ki\u1EBFm",createOrder:"T\u1EA1o \u0111\u01A1n h\xE0ng",orderTime:"Th\u1EDDi gian \u0111\u1EB7t",notes:"Ghi ch\xFA",viewOrder:"Xem chi ti\u1EBFt",ago:"tr\u01B0\u1EDBc",orderDetail:{orderDetail:"Chi ti\u1EBFt \u0111\u01A1n h\xE0ng",delivered:"\u0110\xE3 l\xEAn",dish:"M\xF3n",addDish:"Th\xEAm m\xF3n",total:"T\u1ED5ng ti\u1EC1n",reduce:"Gi\u1EA3m gi\xE1",totalPayment:"T\u1ED5ng thanh to\xE1n",notePlaceholder:"Ghi ch\xFA: \xCDt cay, \xEDt \u0111\xE1, nhi\u1EC1u \u0111\u01B0\u1EDDng,..."},updateDish:"Ch\u1EC9nh s\u1EEDa m\xF3n",addDishes:"Th\xEAm m\xF3n v\xE0o \u0111\u01A1n h\xE0ng",selectTable:"Ch\u1ECDn b\xE0n",tableMustSelect:"B\u1EA1n ph\u1EA3i ch\u1ECDn b\xE0n",orderTable:{user:"Ng\u01B0\u1EDDi \u0111\u1EB7t",tableName:"T\xEAn b\xE0n",time:"Th\u1EDDi gian \u0111\u1EB7t",status:"Tr\u1EA1ng th\xE1i",notes:"Ghi ch\xFA",details:"Chi ti\u1EBFt"},cancelOrder:"Hu\u1EF7 \u0111\u01A1n h\xE0ng",orderCancelled:"\u0110\xE3 hu\u1EF7 \u0111\u01A1n"},Fs={dishes:"M\xF3n \u0103n",allDishes:"T\u1EA5t c\u1EA3 m\xF3n \u0103n",addNewDish:"Th\xEAm m\xF3n m\u1EDBi",quantity:"S\u1ED1 l\u01B0\u1EE3ng",total:"T\u1ED5ng ti\u1EC1n",payment:"T\xEDnh ti\u1EC1n",addToOrder:"Th\xEAm v\xE0o \u0111\u01A1n",order:"\u0110\u01A1n h\xE0ng",dish:"M\xF3n",finishOrder:"Ho\xE0n th\xE0nh \u0111\u1EB7t h\xE0ng",submitOrder:"\u0110\u1EB7t \u0111\u01A1n h\xE0ng",filter:{textAsc:"T\u1EEB A - Z",textDesc:"T\u1EEB Z - A",priceAsc:"Gi\xE1 th\u1EA5p \u0111\u1EBFn cao",priceDesc:"Gi\xE1 cao \u0111\u1EBFn th\u1EA5p"},address:"\u0110\u1ECBa ch\u1EC9",phoneNumber:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",bankName:"Ng\xE2n h\xE0ng",bankAccount:"S\u1ED1 t\xE0i kho\u1EA3n"},Bs={profile:"Th\xF4ng tin c\xE1 nh\xE2n",username:"T\xEAn ng\u01B0\u1EDDi d\xF9ng",userId:"M\xE3 ng\u01B0\u1EDDi d\xF9ng",storeId:"M\xE3 c\u1EEDa h\xE0ng",companyId:"M\xE3 c\xF4ng ty",role:"Vai tr\xF2",zalo_version:"Phi\xEAn b\u1EA3n Zalo",language:"Ng\xF4n ng\u1EEF",app_version:"Phi\xEAn b\u1EA3n app",zalo_mini_app_api_version:"Phi\xEAn b\u1EA3n Zalo Mini App API",zalo_mini_app_version:"Phi\xEAn b\u1EA3n Zalo Mini App",keepScreen:"Gi\u1EEF m\xE0n h\xECnh lu\xF4n b\u1EADt t\u1EA1i trang Qu\u1EA3n l\xFD Order",getLoginToken:"L\u1EA5y m\xE3 \u0111\u0103ng nh\u1EADp",loginToken:"M\xE3 \u0111\u0103ng nh\u1EADp",valid1Minute:"Hi\u1EC7u l\u1EF1c trong 1 ph\xFAt",genLoginTokenAgain:"T\u1EA1o l\u1EA1i"},$s={cancel:"H\u1EE7y b\u1ECF",confirm:"X\xE1c nh\u1EADn",save:"L\u01B0u",use:"S\u1EED d\u1EE5ng",delete:"X\xF3a",register:"\u0110\u0103ng k\xFD",copy:"Sao ch\xE9p",copied:"\u0110\xE3 sao ch\xE9p"},Vs={loginFail:"\u0110\u0103ng nh\u1EADp th\u1EA5t b\u1EA1i",getStoreFail:"L\u1EA5y danh th\xF4ng tin c\u1EEDa h\xE0ng th\u1EA5t b\u1EA1i",getCategoryFail:"L\u1EA5y danh s\xE1ch danh m\u1EE5c th\u1EA5t b\u1EA1i",getProductFail:"L\u1EA5y danh s\xE1ch s\u1EA3n ph\u1EA9m th\u1EA5t b\u1EA1i",getTableFail:"L\u1EA5y danh s\xE1ch b\xE0n th\u1EA5t b\u1EA1i",getOrderFail:"L\u1EA5y danh s\xE1ch \u0111\u01A1n h\xE0ng th\u1EA5t b\u1EA1i",catNameEmpty:"T\xEAn danh m\u1EE5c kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",userUUIDEmpty:"Ch\u01B0a c\xF3 th\xF4ng tin c\u1EE7a UserUUID",storeNameEmpty:"T\xEAn c\u1EEDa h\xE0ng kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",updateCatSuccess:"C\u1EADp nh\u1EADt danh m\u1EE5c th\xE0nh c\xF4ng",updateCatFail:"C\u1EADp nh\u1EADt danh m\u1EE5c th\u1EA5t b\u1EA1i",addCatSuccess:"Th\xEAm danh m\u1EE5c th\xE0nh c\xF4ng",addCatFail:"Th\xEAm danh m\u1EE5c th\u1EA5t b\u1EA1i",fetchProductDetailFail:"L\u1EA5y th\xF4ng tin s\u1EA3n ph\u1EA9m th\u1EA5t b\u1EA1i",getCatFail:"G\u1EEDi y\xEAu c\u1EA7u l\u1EA5y th\xF4ng tin danh m\u1EE5c th\u1EA5t b\u1EA1i",downCatFail:"L\u1EA5y th\xF4ng tin danh m\u1EE5c th\u1EA5t b\u1EA1i",statusOrderSuccess:"C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i \u0111\u01A1n h\xE0ng th\xE0nh c\xF4ng",statusOrderFail:"C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i \u0111\u01A1n h\xE0ng th\u1EA5t b\u1EA1i",deliveredSuccess:"C\u1EADp nh\u1EADt s\u1ED1 l\u01B0\u1EE3ng m\xF3n \u0111\xE3 l\xEAn th\xE0nh c\xF4ng",deliveredFail:"C\u1EADp nh\u1EADt s\u1ED1 l\u01B0\u1EE3ng m\xF3n \u0111\xE3 l\xEAn th\u1EA5t b\u1EA1i",orderSuccess:"C\u1EADp nh\u1EADt \u0111\u01A1n h\xE0ng th\xE0nh c\xF4ng",orderFail:"C\u1EADp nh\u1EADt \u0111\u01A1n h\xE0ng th\u1EA5t b\u1EA1i",uploadImageSuccess:"T\u1EA3i l\xEAn h\xECnh \u1EA3nh th\xE0nh c\xF4ng",uploadImageFail:"T\u1EA3i l\xEAn h\xECnh \u1EA3nh th\u1EA5t b\u1EA1i",productCreateSuccess:"T\u1EA1o s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng",productCreateFail:"T\u1EA1o s\u1EA3n ph\u1EA9m th\u1EA5t b\u1EA1i",productUpdateSuccess:"C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng",productUpdateFail:"C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m th\u1EA5t b\u1EA1i",requestDownStoreListFail:"G\u1EEDi y\xEAu c\u1EA7u l\u1EA5y danh s\xE1ch c\u1EEDa h\xE0ng th\u1EA5t b\u1EA1i",downStoreListFail:"L\u1EA5y danh s\xE1ch c\u1EEDa h\xE0ng th\u1EA5t b\u1EA1i",createStoreSuccess:"T\u1EA1o c\u1EEDa h\xE0ng th\xE0nh c\xF4ng",createStoreFail:"T\u1EA1o c\u1EEDa h\xE0ng th\u1EA5t b\u1EA1i",createStoreFailExisted:"T\xEAn c\u1EEDa h\xE0ng \u0111\xE3 t\u1ED3n t\u1EA1i",createCompanySuccess:"T\u1EA1o doanh nghi\u1EC7p th\xE0nh c\xF4ng",createCompanyFail:"T\u1EA1o doanh nghi\u1EC7p th\u1EA5t b\u1EA1i",createOrderSuccess:"T\u1EA1o \u0111\u01A1n h\xE0ng th\xE0nh c\xF4ng",createOrderFail:"T\u1EA1o \u0111\u01A1n h\xE0ng th\u1EA5t b\u1EA1i",saved:"\u0110\xE3 l\u01B0u",fillRequireInput:"H\xE3y \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 c\xE1c tr\u01B0\u1EDDng y\xEAu c\u1EA7u",getVoucherFail:"L\u1EA5y danh s\xE1ch m\xE3 gi\u1EA3m gi\xE1 th\u1EA5t b\u1EA1i",voucherCreateSuccess:"T\u1EA1o m\xE3 gi\u1EA3m gi\xE1 th\xE0nh c\xF4ng",voucherCreateFail:"T\u1EA1o m\xE3 gi\u1EA3m gi\xE1 th\u1EA5t b\u1EA1i",voucherUpdateSuccess:"C\u1EADp nh\u1EADt m\xE3 th\xE0nh c\xF4ng",voucherUpdateFail:"C\u1EADp nh\u1EADt m\xE3 th\u1EA5t b\u1EA1i",fetchVoucherDetailFail:"L\u1EA5y th\xF4ng tin m\xE3 th\u1EA5t b\u1EA1i",paymentOrderSuccess:"Thanh to\xE1n th\xE0nh c\xF4ng",paymentOrderFail:"Thanh to\xE1n th\u1EA5t b\u1EA1i",deleteFail:"X\xF3a \u0111\u1ED1i t\u01B0\u1EE3ng th\u1EA5t b\u1EA1i",deleteSuccess:"X\xF3a \u0111\u1ED1i t\u01B0\u1EE3ng th\xE0nh c\xF4ng",addTableSuccess:"Th\xEAm b\xE0n th\xE0nh c\xF4ng",addTableFail:"Th\xEAm b\xE0n th\u1EA5t b\u1EA1i",updateTableSuccess:"C\u1EADp nh\u1EADt b\xE0n th\xE0nh c\xF4ng",updateTableFail:"C\u1EADp nh\u1EADt b\xE0n th\u1EA5t b\u1EA1i",codeValid:"M\xE3 k\xEDch ho\u1EA1t c\xF3 th\u1EC3 s\u1EED d\u1EE5ng",codeInvalid:"M\xE3 k\xEDch ho\u1EA1t kh\xF4ng h\u1EE3p l\u1EC7",codeNotFound:"Kh\xF4ng t\xECm th\u1EA5y m\xE3 k\xEDch ho\u1EA1t!",codeUseOne:"M\xE3 k\xEDch ho\u1EA1t \u0111\xE3 \u0111\u01B0\u1EE3c s\u1EED d\u1EE5ng!",getUserFail:"Kh\xF4ng th\u1EC3 l\u1EA5y \u0111\u01B0\u1EE3c d\u1EEF li\u1EC7u ng\u01B0\u1EDDi d\xF9ng",userIDIncorrect:"ID ng\u01B0\u1EDDi d\xF9ng kh\xF4ng ch\xEDnh x\xE1c",addUserSuccess:"Th\xEAm ng\u01B0\u1EDDi d\xF9ng th\xE0nh c\xF4ng",fetchOrderHistoryFailed:"Kh\xF4ng t\u1EA3i xu\u1ED1ng \u0111\u01B0\u1EE3c l\u1ECBch s\u1EED \u0111\u1EB7t h\xE0ng",updateStoreSuccess:"C\u1EADp nh\u1EADt c\u1EEDa h\xE0ng th\xE0nh c\xF4ng",pleaseLinkPhoneNumber:"H\xE3y li\xEAn k\u1EBFt s\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 \u0111\u0103ng k\xFD c\u1EEDa h\xE0ng",followedOASuccess:"Follow OA th\xE0nh c\xF4ng",followedOAFailed:"Follow OA ch\u01B0a th\xE0nh c\xF4ng"},Rs={menu:"Th\u1EF1c \u0111\u01A1n",promotion:{promotion:"Khuy\u1EBFn m\u1EA1i",add:"Th\xEAm",addVoucherPlaceholder:"Nh\u1EADp m\xE3 khuy\u1EBFn m\u1EA1i"},order:"\u0110\u01A1n h\xE0ng",user:"C\xE1 nh\xE2n"},Us={refreshOrder:"L\xE0m m\u1EDBi d\u1EEF li\u1EC7u",currentOrder:"\u0110\u01A1n hi\u1EC7n t\u1EA1i",orderHistory:"L\u1ECBch s\u1EED \u0111\u01A1n h\xE0ng",orderMore:"G\u1ECDi th\xEAm m\xF3n",voucherEnter:"Nh\u1EADp Voucher...",back:"Quay l\u1EA1i",voucherIfHave:"Voucher (n\u1EBFu c\xF3)",noHaveOrdersYet:"Hi\u1EC7n t\u1EA1i kh\xF4ng c\xF3 \u0111\u01A1n",voucherInvalid:"Voucher kh\xF4ng h\u1EE3p l\u1EC7",voucherInformation:"Gi\u1EA3m {{voucherValue}} (\u0111\u01A1n t\u1EEB {{bill}})"},qs={view_detail:"Xem chi ti\u1EBFt",new_order:"\u0110\u01A1n m\u1EDBi",update_order:"C\u1EADp nh\u1EADt \u0111\u01A1n h\xE0ng",value:"Gi\xE1 tr\u1ECB",wait_for_pay:"Y\xEAu c\u1EA7u thanh to\xE1n"},Hs={userUUIDEnter:"\u0110i\u1EC1n ID ng\u01B0\u1EDDi d\xF9ng",add_user:"Th\xEAm ng\u01B0\u1EDDi d\xF9ng",staff:"Nh\xE2n vi\xEAn",admin:"Qu\u1EA3n l\xFD"},js={allStore:"T\u1EA5t c\u1EA3 c\u1EEDa h\xE0ng",filterByStore:"L\u1ECDc theo c\u1EEDa h\xE0ng"},Qs={fromDate:"Ng\xE0y b\u1EAFt ",toDate:"Ng\xE0y k\u1EBFt th\xFAc",from_date_can_not_greater_to_date:"Ng\xE0y b\u1EAFt \u0111\u1EA7u kh\xF4ng \u0111\u01B0\u1EE3c sau ng\xE0y k\u1EBFt th\xFAc",from_date_can_not_greater_today:"Ng\xE0y b\u1EAFt \u0111\u1EA7u kh\xF4ng \u0111\u01B0\u1EE3c sau ng\xE0y h\xF4m nay"},Gs={description:"M\xF4 t\u1EA3",enterDescription:"Nh\u1EADp m\xF4 t\u1EA3",address:"\u0110\u1ECBa ch\u1EC9",enterAddress:"Nh\u1EADp \u0111\u1ECBa ch\u1EC9",phoneNumber:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",enterPhoneNumber:"Nh\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",bankName:"Ng\xE2n h\xE0ng",selectBank:"Ch\u1ECDn ng\xE2n h\xE0ng",bankAccount:"S\u1ED1 t\xE0i kho\u1EA3n",enterBankAccount:"Nh\u1EADp s\u1ED1 t\xE0i kho\u1EA3n",bankExample:"88888888"};var Ws={main:Ps,storeManagement:Ds,tableManagement:Ls,productManagement:Is,categoryManagement:Os,voucherManagement:As,orderManagement:zs,menu:Fs,profile:Bs,button:$s,snackbarMessage:Vs,navbar:Rs,userOrder:Us,websocket:qs,userManagement:Hs,orderHistory:js,saleReport:Qs,editStore:Gs};const Ys=()=>{const{t}=Q("global"),r=Ee(),[s,n]=U(Ne),[c,o]=i.exports.useState(!1),[l,u]=i.exports.useState({}),[p,g]=i.exports.useState([]),{store_uuid:b}=be(),m=ce();i.exports.useEffect(()=>{n(T(C({},s),{isLoading:!0})),f()},[b]);const f=()=>E(void 0,null,function*(){const x=yield or(b);(x==null?void 0:x.error)?(console.error("Error:",x.error),m.openSnackbar({duration:3e3,text:typeof x.error=="string"?x.error:t("snackbarMessage.getVoucherFail"),type:"error"})):g([...x.sort((y,S)=>new Date(S.updated_at).getTime()-new Date(y.updated_at).getTime())]),n(T(C({},s),{isLoading:!1}))});return e.createElement(se,{className:"section-container",style:{backgroundColor:"#f3f3f3"}},e.createElement(a,{className:"toolbar_add-btn"},e.createElement(H,{className:"fw-500",style:{width:"100%"},onClick:()=>r(`/admin/voucher/form/${b}`),prefixIcon:e.createElement($e,null)},t("voucherManagement.createVoucher.createVoucher"))),e.createElement(pe,{style:{marginTop:"16px"}},p.map(x=>e.createElement(Sa,{voucher:x,key:x.uuid,onDetails:()=>r(`/admin/voucher/update/${b}/${x.uuid}`)}))),e.createElement(ns,{isShow:c,voucher:l,onClose:()=>{o(!1),u({})},onUse:()=>{}}))},{Option:Ks}=xe,_a=()=>{const{t}=Q("global"),{store_uuid:r,voucher_uuid:s}=be(),[n,c]=i.exports.useState({voucher_code:"",notes:"",voucher_type:Le.BY_VALUE,voucher_value:"",expired_at:"",status:"inactive",voucher_min_order_value:""}),o=ce();U(ie);const l=Ee(),[u,p]=i.exports.useState(!1),[g,b]=i.exports.useState(!1),m=(d,D)=>{if(d==="voucher_value"||d==="voucher_min_order_value"){const k=He(D);c(T(C({},n),{[d]:k}));return}if(d==="voucher_code"){c(T(C({},n),{[d]:D.toUpperCase()}));return}c(T(C({},n),{[d]:D}))};i.exports.useEffect(()=>{s&&s!=="null"&&x(s)},[]);const f=()=>{p(d=>!d)},x=d=>E(void 0,null,function*(){const D=yield ur(d);(D==null?void 0:D.error)?o.openSnackbar({duration:3e3,text:t("snackbarMessage.fetchVoucherDetailFail"),type:"error"}):(c({store_uuid:r,voucher_code:D.voucher_code,notes:D.notes,voucher_type:D.voucher_type,voucher_value:He(D.voucher_value),expired_at:new Date(D.expired_at),status:D.status,voucher_min_order_value:He(D.voucher_min_order_value)}),D.status=="inactive"?p(!1):p(!0))}),y=()=>{if(!n.voucher_value||!n.notes||!n.voucher_code||!n.expired_at){b(!0),o.openSnackbar({duration:3e3,text:t("snackbarMessage.fillRequireInput"),type:"error"});return}s&&s!=="null"?v():S()},S=()=>E(void 0,null,function*(){const d=_(),D=yield ir(d);(D==null?void 0:D.error)?o.openSnackbar({duration:3e3,text:D.error,type:"error"}):(o.openSnackbar({duration:3e3,text:t("snackbarMessage.voucherCreateSuccess"),type:"success"}),l(-1))}),v=()=>E(void 0,null,function*(){let d=_();console.log(JSON.stringify(d));const D=yield lr(s,d);(D==null?void 0:D.error)?o.openSnackbar({duration:3e3,text:D.error,type:"error"}):(o.openSnackbar({duration:3e3,text:t("snackbarMessage.voucherUpdateSuccess"),type:"success"}),l(-1))}),_=()=>({voucher:{store_uuid:r,voucher_code:n.voucher_code,notes:n.notes,voucher_type:n.voucher_type,voucher_value:parseInt(n.voucher_value.replace(/\D/g,""),10),expired_at:n.expired_at.getTime()/1e3,status:u?"actived":"inactive",voucher_min_order_value:parseInt((n.voucher_min_order_value||"0").replace(/\D/g,""),10)}});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(a,null,e.createElement(de,{id:"name",label:t("voucherManagement.createVoucher.voucherCode"),type:"text",placeholder:t("voucherManagement.createVoucher.enterVoucherCode"),status:g&&!(n==null?void 0:n.voucher_code)?"error":"",value:n==null?void 0:n.voucher_code,onChange:d=>m("voucher_code",d.target.value)}),e.createElement(de.TextArea,{id:"describe",label:t("voucherManagement.createVoucher.description"),type:"textarea",placeholder:t("voucherManagement.createVoucher.enterDescription"),status:g&&!(n==null?void 0:n.notes)?"error":"",value:n==null?void 0:n.notes,onChange:d=>m("notes",d.target.value),showCount:!0,maxLength:250}),e.createElement(a,{mt:6},e.createElement(xe,{id:"type",label:t("voucherManagement.createVoucher.voucherType"),placeholder:t("voucherManagement.createVoucher.selectVoucherType"),value:n==null?void 0:n.voucher_type,onChange:d=>m("voucher_type",d)},Object.keys(Le).map((d,D)=>e.createElement(Ks,{key:D,value:Le[d],title:t("voucherManagement.createVoucher.typeSelect."+Le[d])})))),e.createElement(de,{id:"value",label:t("voucherManagement.createVoucher.voucherValue"),type:"text",placeholder:t("voucherManagement.createVoucher.enterVoucherValue"),status:g&&!(n==null?void 0:n.voucher_value)?"error":"",value:n==null?void 0:n.voucher_value,onChange:d=>m("voucher_value",d.target.value)}),e.createElement(de,{id:"voucher_min_order_value",label:t("voucherManagement.createVoucher.voucherMinOrderValue"),type:"text",placeholder:t("voucherManagement.createVoucher.enterVoucherMinOrderValue"),value:n==null?void 0:n.voucher_min_order_value,onChange:d=>m("voucher_min_order_value",d.target.value)}),e.createElement(Ge,{mask:!0,maskClosable:!0,label:t("voucherManagement.createVoucher.experiedAt"),value:n==null?void 0:n.expired_at,onChange:d=>{m("expired_at",d)},status:g&&!(n==null?void 0:n.expired_at)?"error":""})),e.createElement(a,{mt:6},e.createElement(a,null,e.createElement(ht,{checked:u,label:t("voucherManagement.createVoucher.active"),onChange:f}))),e.createElement(a,{mt:4},e.createElement(H,{fullWidth:!0,variant:"primary",onClick:y},t("button.save"))))))},Zs=()=>oe(We)?e.createElement(se,{className:"section-container",style:{zIndex:1e4,background:"rgba(0, 0, 0, 0.5)",position:"fixed"}},e.createElement(a,{style:{inset:0,margin:"auto",position:"absolute",width:"fit-content",height:"fit-content"}},e.createElement(ft,{visible:!0}))):null,Js=({children:t})=>{const{t:r,i18n:s}=Q("global"),n=ce(),c=i.exports.useRef(null),[o,l]=U(ie),[u,p]=i.exports.useState(null),[g,b]=i.exports.useState(!0),[m,f]=U(Ne);i.exports.useEffect(()=>{c.current=n},[n]),i.exports.useEffect(()=>{x()},[]);const x=()=>E(void 0,null,function*(){const{language:S}=yield Pe({keys:["language"]});S?s.changeLanguage(S):De({data:{language:"vi"}})}),y=()=>E(void 0,null,function*(){try{if(o.login)f(T(C({},m),{isLoading:!1}));else{f(T(C({},m),{completedText:"start get access token",completedPercent:60})),console.log("user is not login. login...");let S;if(Ve.debug?S=zn:S=yield tn(),console.log(`access_token: ${S}`),f(T(C({},m),{completedText:"start login...",completedPercent:70})),S){l({accessToken:S});const v=yield Rn(S);(v==null?void 0:v.error)?(console.error("Error:",v.error),f(T(C({},m),{isLoading:!1}))):(l({zalo_id:v.zalo_id,avatar:v.avatar,name:v.name,uuid:v.uuid,store_uuid:v.store_uuid,company_uuid:v.company_uuid,role:v.role,login:!0,has_phone:v.has_phone,is_oa_follow:v.is_oa_follow,authToken:v.auth_token}),De({data:{authToken:v.auth_token}}),f(T(C({},m),{completedText:"done",completedPercent:100})),f(T(C({},m),{isLoading:!1})),console.log(`auth_token: ${v.auth_token}`))}else{p(!0);return}}}catch(S){console.error("Error checking auth:",S),p(!0)}});return i.exports.useEffect(()=>{if(f(T(C({},m),{isLoading:!0})),g){b(!1);return}return y(),()=>{}},[g]),i.exports.useEffect(()=>{u&&n.openSnackbar({duration:1e4,text:r("snackbarMessage.loginFail"),type:"countdown"})},[u,n]),u||!o.login?null:e.createElement(e.Fragment,null,e.createElement(Ot,null),e.createElement(Zs,null),t)};function Xs(){return e.createElement(se,{className:"section-container"},e.createElement(a,{mb:4},e.createElement(a,{mb:2},e.createElement(h,{size:"xLarge",bold:!0},"Status Order")),e.createElement(a,null,Object.values(W).map((t,r)=>e.createElement(a,{mb:2},e.createElement(It,{status:t,key:r}))))))}const eo=()=>{const{t}=Q("global"),{store_uuid:r,table_uuid:s}=be();oe(ie);const[n,c]=xt(),o=n.get("table_name"),[l,u]=e.useState({uuid:s,name:o}),p=ce(),g=Ee(),b=(x,y)=>{u(T(C({},l),{[x]:y}))},m=()=>{l.uuid&&f(l.uuid,l.name)},f=()=>E(void 0,null,function*(){let x={store_uuid:r,table:{name:l.name,uuid:l.uuid}};const y=yield nr(x);(y==null?void 0:y.error)?p.openSnackbar({duration:3e3,text:t("snackbarMessage.updateTableFail"),type:"error"}):(p.openSnackbar({duration:3e3,text:t("snackbarMessage.updateTableSuccess"),type:"success"}),g(-1))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(de,{id:"name",label:t("tableManagement.tableName"),type:"text",placeholder:t("tableManagement.tableName"),value:l==null?void 0:l.name,onChange:x=>b("name",x.target.value),showCount:!0,maxLength:10}),e.createElement(a,{mt:4},e.createElement(H,{fullWidth:!0,variant:"primary",onClick:m},t("categoryManagement.update"))))))},to=({store_uuid:t,onUserAdded:r})=>{const{t:s}=Q("global"),[n,c]=i.exports.useState(""),o=ce(),[l,u]=i.exports.useState("staff"),p=()=>E(void 0,null,function*(){if(n){let g={store_uuid:t,user_uuid:n.replace(/\s/g,""),role:l};const b=yield hr(g);(b==null?void 0:b.error)?o.openSnackbar({duration:3e3,text:typeof b.error=="string"?b.error:s("snackbarMessage.userIDIncorrect"),type:"error"}):(r(),c(""),o.openSnackbar({duration:3e3,text:s("snackbarMessage.addUserSuccess"),type:"success"}))}else o.openSnackbar({duration:3e3,text:s("snackbarMessage.userUUIDEmpty"),type:"countdown"})});return e.createElement(e.Fragment,null,e.createElement(h,{size:"large",style:{fontWeight:500}},s("userManagement.add_user")),e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement(a,{mt:6,style:{marginRight:"10px",width:"78%",marginTop:"0px"}},e.createElement(de,{type:"text",value:n,onChange:g=>c(g.target.value),placeholder:s("userManagement.userUUIDEnter"),style:{marginRight:"10px"}})),e.createElement(a,{mt:6,style:{marginRight:"10px",marginTop:"0px"}},e.createElement(xe,{placeholder:s("categoryManagement.selectRole"),value:l,closeOnSelect:!0,onChange:g=>u(g)},e.createElement(Option,{value:"staff",title:s("userManagement.staff")}),e.createElement(Option,{value:"admin",title:s("userManagement.admin")}))),e.createElement(a,{mt:6,style:{marginTop:"0px"}},e.createElement(H,{onClick:p,icon:e.createElement($e,null),style:{width:"100%",padding:"12px 24px",borderRadius:"8px"}}))))};const ao=()=>{const{t}=Q("global"),{store_uuid:r}=be(),s=ce(),[n,c]=U(Ne),[o,l]=i.exports.useState(!1),[u,p]=i.exports.useState([]),[g,b]=i.exports.useState(null),m=()=>{f()};i.exports.useEffect(()=>{c(T(C({},n),{isLoading:!0})),f()},[r]);const f=()=>E(void 0,null,function*(){const y=yield pr(r);(y==null?void 0:y.error)?(console.error("Error:",y.error),c(T(C({},n),{isLoading:!1})),s.openSnackbar({duration:3e3,text:y.error,type:"error"})):(p(y),c(T(C({},n),{isLoading:!1})))}),x=()=>E(void 0,null,function*(){l(!1);const y=yield gr({store_uuid:r,user_uuid:g==null?void 0:g.uuid});(y==null?void 0:y.error)?(console.error("Error:",y.error),s.openSnackbar({duration:3e3,text:y.error,type:"error"})):(f(),s.openSnackbar({duration:3e3,text:t("snackbarMessage.deleteSuccess"),type:"success"}))});return e.createElement(se,{className:"section-container"},e.createElement(to,{store_uuid:r,onUserAdded:m}),e.createElement(Je,{isShowModal:o,setIsShowModal:l,itemDelete:g==null?void 0:g.name,onConfirm:()=>x()}),e.createElement(pe,null,u.map(y=>e.createElement(a,{key:y.role,className:"category-card-container"},e.createElement("img",{className:"category-img",src:y.user.avatar}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(h,{size:"xLarge",bold:!0,style:{marginLeft:"10px"}},y.user.name),e.createElement(h,{size:"xLarge",bold:!0,style:{marginLeft:"10px"}},y.role))),e.createElement(H,{icon:e.createElement(yt,null),className:"delete-icon",onClick:S=>{S.stopPropagation(),b(y.user),l(!0)}})))))};function no(t){const{t:r}=Q("global"),s=oe(ie),[n,c]=U(Ne),[o,l]=U(Ct),[u,p]=i.exports.useState(r("orderHistory.allStore")),g=i.exports.useMemo(()=>{var x;if(!((x=o.orders)==null?void 0:x.length))return null;const f=o.orders.filter(y=>u===r("orderHistory.allStore")?!0:y.store_name===u).sort((y,S)=>new Date(S.created_at).getTime()-new Date(y.created_at).getTime()).map(y=>T(C({},y),{created_at:Na(y.created_at)}));return ge.exports.groupBy(f,y=>y.created_at)},[o,u]),b=i.exports.useMemo(()=>{var x;if(!((x=o.orders)==null?void 0:x.length))return null;const f=[];return o.orders.forEach(y=>{f.includes(y.store_name)||f.push(y.store_name)}),f},[o]),m=()=>E(this,null,function*(){const f=yield ca();(f==null?void 0:f.error)?snackbar.openSnackbar({duration:3e3,text:typeof f.error=="string"?f.error:r("snackbarMessage.fetchOrderHistoryFailed"),type:"error"}):l({is_update:!0,orders:f}),c(T(C({},n),{isLoading:!1}))});return i.exports.useEffect(()=>{c(T(C({},n),{isLoading:!0})),!!(s==null?void 0:s.authToken)&&setTimeout(()=>{m()},500)},[s.authToken]),e.createElement(se,{className:"section-container"},e.createElement(Ot,null),e.createElement(a,{className:"order-history"},ge.exports.isEmpty(g)?e.createElement(a,null,r("userOrder.noHaveOrdersYet")):e.createElement(e.Fragment,null,e.createElement(a,{className:"filter-section",mb:2},e.createElement(a,{className:"filter-section_title"},e.createElement(h,null,r("orderHistory.filterByStore"))),e.createElement(a,{className:"filter-section_filter"},e.createElement(xe,{closeOnSelect:!0,placeholder:r("orderHistory.allStore"),value:u,onChange:f=>{p(f)}},e.createElement("option",{value:r("orderHistory.allStore"),title:r("orderHistory.allStore")}),b==null?void 0:b.map((f,x)=>e.createElement("option",{key:x,value:f,title:f}))))),Object.keys(g).map((f,x)=>e.createElement(a,{key:x},e.createElement(a,{pt:4},e.createElement(h,{className:"grey-color"},e.createElement("i",null,f))),g[f].map((y,S)=>e.createElement(a,{className:"order__main",mt:3,key:S},e.createElement(a,{className:`order__status status-${y.status}`},y.status),e.createElement(a,{className:"products-and-note"},e.createElement(a,{textAlign:"",flex:!0},e.createElement("img",{className:"item-img",src:ut}),e.createElement(h,{size:"small",className:"grey-color"},y.store_name)),e.createElement(a,{className:"products"},y.products.length&&y.products.map((v,_)=>e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",key:_,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,null,e.createElement(h,{size:"large"},e.createElement("span",{className:"fw-500"},v.product_name," (x",v.quantity,")")))),e.createElement(a,null,e.createElement(h,{size:"normal"},ne(v.unit_price*v.quantity),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB")))))),e.createElement(a,{pt:1},y.notes&&e.createElement(a,{className:"note"},e.createElement(h,{size:"large"},r("orderManagement.notes"),":"," ",e.createElement("i",null,'"',y.notes,'"'))),y.status===W.PAYED&&e.createElement(a,{flex:!0,mb:1},e.createElement(h,{size:"large"},r("orderManagement.orderDetail.totalPayment"),":"),e.createElement(h,{size:"large"},e.createElement("span",{style:{paddingLeft:"6px"}},ne(y.actual_payment_amount),"\u20AB"," ",(()=>{if(!(y==null?void 0:y.actual_payment_amount))return"";const v=(y==null?void 0:y.value)-(y==null?void 0:y.actual_payment_amount);return v===0?"":e.createElement("span",{className:"red-color",style:{marginLeft:"3px",fontWeight:500}},"(-",ne(v),"\u20AB)")})()))))))))))))}const ro=()=>{const t=f=>f.toISOString().split("T")[0],{t:r}=Q("global"),{store_uuid:s}=be();oe(ie);const[n,c]=i.exports.useState(null),[o,l]=i.exports.useState(!1),[u,p]=i.exports.useState({fromDate:new Date(new Date().setDate(new Date().getDate()-1)),toDate:new Date(new Date().setDate(new Date().getDate()+1))}),g=ce(),b=()=>E(void 0,null,function*(){l(!0);try{if(u.fromDate>u.toDate)throw new Error(r("saleReport.from_date_can_not_greater_to_date"));const f=new Date;if(u.fromDate>f)throw new Error(r("saleReport.from_date_can_not_greater_today"));const x=yield Er({store_uuid:s,from_date:t(u.fromDate),to_date:t(u.toDate)});c(x.total_value)}catch(f){console.error("Error fetching sale report:",f.message),g.openSnackbar({duration:3e3,text:f.message,type:"error"})}l(!1)}),m=(f,x)=>{p(y=>T(C({},y),{[f]:x}))};return e.createElement(se,{className:"section-container"},e.createElement(a,{mt:2},e.createElement(h,null,r("saleReport.fromDate")),e.createElement(Ge,{mask:!0,maskClosable:!0,value:u==null?void 0:u.fromDate,onChange:f=>{m("fromDate",f)}})),e.createElement(a,{mt:2},e.createElement(h,null,r("saleReport.toDate")),e.createElement(Ge,{mask:!0,maskClosable:!0,value:u==null?void 0:u.toDate,onChange:f=>{m("toDate",f)}})),e.createElement(a,{mt:2},e.createElement(H,{type:"primary",onClick:b,loading:o},"Search")),n!==null&&e.createElement(a,{mt:2,style:{textAlign:"center",padding:"10px",border:"1px solid green"}},e.createElement(h,{size:"xLarge",bold:!0,style:{marginBottom:"8px"}},He(n)," VND")))},so=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=U(ie),[c,o]=i.exports.useState(),[l,u]=i.exports.useState(),[p,g]=i.exports.useState({}),[b,m]=i.exports.useState(""),[f,x]=i.exports.useState(""),y=ce(),S=Ee();i.exports.useEffect(()=>{var k,$;try{u(c.name);const A=JSON.parse(c.metadata);g(A||{}),(A==null?void 0:A.avatar)&&(m((k=A.avatar)==null?void 0:k.url),x(($=A.avatar)==null?void 0:$.uuid))}catch(A){}},[c]);const v=()=>E(void 0,null,function*(){const k=yield Mt(r);o(k)});i.exports.useEffect(()=>{v()},[]);const _=()=>E(void 0,null,function*(){const k=yield Ue();bt({type:"photo",serverUploadUrl:`${k}/v1/attachment/${r}/${s.uuid}`,success:$=>{const F=JSON.parse($.data).data;console.log("-----------------"),console.log(`data: ${F}`),m(F.urls[0]),x(F.uuids[0]),y.openSnackbar({duration:3e3,text:t("snackbarMessage.uploadImageSuccess"),type:"success"})},fail:$=>{console.log($),y.openSnackbar({duration:3e3,text:t("snackbarMessage.uploadImageFail"),type:"error"})}})}),d=()=>E(void 0,null,function*(){const k={avatar:b?{url:b,uuid:f}:{},description:p.description,address:p.address,phoneNumber:p.phoneNumber,bankName:p.bankName,bankAccount:p.bankAccount},$={uuid:r,name:l,metadata:JSON.stringify(k)},A=yield Qn($);(A==null?void 0:A.error)?y.openSnackbar({duration:3e3,text:A.error,type:"success"}):(y.openSnackbar({duration:3e3,text:t("snackbarMessage.updateStoreSuccess"),type:"success"}),S(-1))}),D=k=>{g($=>T(C({},$),{bankName:k}))};return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(a,{flex:!0,justifyContent:"center",alignItems:"center",mb:5},e.createElement(a,{style:{position:"relative"},onClick:_},e.createElement("img",{className:"img-store",style:b?{}:{filter:"grayscale(1) opacity(0.5)"},src:b||Lt}),e.createElement(a,{className:"upload-photo-icon"},e.createElement(an,null)))),e.createElement(a,{mb:2},e.createElement(de,{id:"name",label:t("storeManagement.storeName"),type:"text",placeholder:t("storeManagement.enterStoreName"),value:l,onChange:k=>u(k.target.value),showCount:!0,maxLength:20})),e.createElement(a,{mb:2},e.createElement(de.TextArea,{id:"description",label:t("editStore.description"),type:"text",placeholder:t("editStore.enterDescription"),value:p==null?void 0:p.description,onChange:k=>g(T(C({},p),{description:k.target.value})),showCount:!0,maxLength:250})),e.createElement(a,{mb:2},e.createElement(de,{id:"address",label:t("editStore.address"),type:"text",placeholder:t("editStore.enterAddress"),value:p==null?void 0:p.address,onChange:k=>g(T(C({},p),{address:k.target.value}))})),e.createElement(a,{mb:2},e.createElement(de,{id:"phone",label:t("editStore.phoneNumber"),type:"text",placeholder:t("editStore.enterPhoneNumber"),value:p==null?void 0:p.phoneNumber,onChange:k=>g(T(C({},p),{phoneNumber:k.target.value}))})),e.createElement(a,{mb:2},e.createElement(xe,{label:t("editStore.bankName"),placeholder:t("editStore.selectBank"),value:p==null?void 0:p.bankName,onChange:D,closeOnSelect:!0},e.createElement(Option,{value:"agribank",title:"Ng\xE2n h\xE0ng N\xF4ng nghi\u1EC7p v\xE0 Ph\xE1t tri\u1EC3n N\xF4ng th\xF4n Vi\u1EC7t Nam (Agribank)"}),e.createElement(Option,{value:"gpbank",title:"Ng\xE2n h\xE0ng TNHH MTV D\u1EA7u kh\xED to\xE0n c\u1EA7u (GPBank)"}),e.createElement(Option,{value:"oceanbank",title:"Ng\xE2n h\xE0ng TNHH MTV \u0110\u1EA1i D\u01B0\u01A1ng (OceanBank)"}),e.createElement(Option,{value:"cbbank",title:"Ng\xE2n h\xE0ng TNHH MTV X\xE2y d\u1EF1ng (CBBank)"}),e.createElement(Option,{value:"vietinbank",title:"Ng\xE2n h\xE0ng TMCP C\xF4ng th\u01B0\u01A1ng Vi\u1EC7t Nam (VietinBank)"}),e.createElement(Option,{value:"bidv",title:"Ng\xE2n h\xE0ng TMCP \u0110\u1EA7u t\u01B0 v\xE0 Ph\xE1t tri\u1EC3n Vi\u1EC7t Nam (BIDV)"}),e.createElement(Option,{value:"vietcombank",title:"Ng\xE2n h\xE0ng TMCP Ngo\u1EA1i Th\u01B0\u01A1ng Vi\u1EC7t Nam (Vietcombank)"}),e.createElement(Option,{value:"acb",title:"Ng\xE2n h\xE0ng TMCP \xC1 Ch\xE2u (ACB)"}),e.createElement(Option,{value:"abbank",title:"Ng\xE2n h\xE0ng TMCP An B\xECnh (ABBANK)"}),e.createElement(Option,{value:"vietcapitalbank",title:"Ng\xE2n h\xE0ng TMCP B\u1EA3n Vi\u1EC7t (Viet Capital Bank)"}),e.createElement(Option,{value:"baovietbank",title:"Ng\xE2n h\xE0ng TMCP B\u1EA3o Vi\u1EC7t (BAOVIET Bank)"}),e.createElement(Option,{value:"bacabank",title:"Ng\xE2n h\xE0ng TMCP B\u1EAFc \xC1 (Bac A Bank)"}),e.createElement(Option,{value:"lienvietpostbank",title:"Ng\xE2n h\xE0ng TMCP B\u01B0u \u0111i\u1EC7n Li\xEAn Vi\u1EC7t (LienVietPostBank)"}),e.createElement(Option,{value:"pvcombank",title:"Ng\xE2n h\xE0ng TMCP \u0110\u1EA1i Ch\xFAng Vi\u1EC7t Nam (PVcomBank)"}),e.createElement(Option,{value:"donga",title:"Ng\xE2n h\xE0ng TMCP \u0110\xF4ng \xC1 (DongA Bank)"}),e.createElement(Option,{value:"seabank",title:"Ng\xE2n h\xE0ng TMCP \u0110\xF4ng Nam \xC1 (SeABank)"}),e.createElement(Option,{value:"msb",title:"Ng\xE2n h\xE0ng TMCP H\xE0ng H\u1EA3i (MSB)"}),e.createElement(Option,{value:"kienlongbank",title:"Ng\xE2n h\xE0ng TMCP Ki\xEAn Long (Kienlongbank)"}),e.createElement(Option,{value:"techcombank",title:"Ng\xE2n h\xE0ng TMCP K\u1EF9 Th\u01B0\u01A1ng (Techcombank)"}),e.createElement(Option,{value:"namabank",title:"Ng\xE2n h\xE0ng TMCP Nam \xC1 (Nam A Bank)"}),e.createElement(Option,{value:"ocb",title:"Ng\xE2n h\xE0ng TMCP Ph\u01B0\u01A1ng \u0110\xF4ng (OCB)"}),e.createElement(Option,{value:"mbbank",title:"Ng\xE2n h\xE0ng TMCP Qu\xE2n \u0110\u1ED9i (MB Bank)"}),e.createElement(Option,{value:"vib",title:"Ng\xE2n h\xE0ng TMCP Qu\u1ED1c T\u1EBF (VIB)"}),e.createElement(Option,{value:"ncb",title:"Ng\xE2n h\xE0ng TMCP Qu\u1ED1c d\xE2n (NCB)"}),e.createElement(Option,{value:"scb",title:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n (SCB)"}),e.createElement(Option,{value:"saigonbank",title:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n C\xF4ng Th\u01B0\u01A1ng (SAIGONBANK)"}),e.createElement(Option,{value:"shb",title:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n \u2013 H\xE0 N\u1ED9i (SHB)"}),e.createElement(Option,{value:"sacombank",title:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n Th\u01B0\u01A1ng T\xEDn (Sacombank)"}),e.createElement(Option,{value:"tpbank",title:"Ng\xE2n h\xE0ng TMCP Ti\xEAn Phong (TPBank)"}),e.createElement(Option,{value:"vietabank",title:"Ng\xE2n h\xE0ng TMCP Vi\u1EC7t \xC1 (VietABank)"}),e.createElement(Option,{value:"vpbank",title:"Ng\xE2n h\xE0ng TMCP Vi\u1EC7t Nam Th\u1ECBnh V\u01B0\u1EE3ng (VPBank)"}),e.createElement(Option,{value:"vietbank",title:"Ng\xE2n h\xE0ng TMCP Vi\u1EC7t Nam Th\u01B0\u01A1ng T\xEDn (Vietbank)"}),e.createElement(Option,{value:"pgbank",title:"Ng\xE2n h\xE0ng TMCP X\u0103ng d\u1EA7u Petrolimex (PG Bank)"}),e.createElement(Option,{value:"eximbank",title:"Ng\xE2n h\xE0ng TMCP Xu\u1EA5t Nh\u1EADp Kh\u1EA9u (Eximbank)"}),e.createElement(Option,{value:"hdbank",title:"Ng\xE2n h\xE0ng TMCP Ph\xE1t tri\u1EC3n Th\xE0nh ph\u1ED1 H\u1ED3 Ch\xED Minh (HDBank)"}),e.createElement(Option,{value:"indovina",title:"Ng\xE2n h\xE0ng TNHH Indovina (IVB)"}),e.createElement(Option,{value:"vrb",title:"Ng\xE2n h\xE0ng Li\xEAn doanh Vi\u1EC7t Nga (VRB)"}),e.createElement(Option,{value:"anzvl",title:"Ng\xE2n h\xE0ng TNHH MTV ANZ Vi\u1EC7t Nam (ANZVL)"}),e.createElement(Option,{value:"hlbvn",title:"Ng\xE2n h\xE0ng TNHH MTV Hong Leong Vi\u1EC7t Nam (HLBVN)"}),e.createElement(Option,{value:"hsbc",title:"Ng\xE2n h\xE0ng TNHH MTV HSBC Vi\u1EC7t Nam (HSBC)"}),e.createElement(Option,{value:"shbvn",title:"Ng\xE2n h\xE0ng TNHH MTV Shinhan Vi\u1EC7t Nam (SHBVN)"}),e.createElement(Option,{value:"scbvl",title:"Ng\xE2n h\xE0ng TNHH MTV Standard Chartered Vi\u1EC7t Nam (SCBVL)"}),e.createElement(Option,{value:"pbvn",title:"Ng\xE2n h\xE0ng TNHH MTV Public Bank Vi\u1EC7t Nam (PBVN)"}),e.createElement(Option,{value:"cimb",title:"Ng\xE2n h\xE0ng TNHH MTV CIMB Vi\u1EC7t Nam (CIMB)"}),e.createElement(Option,{value:"woori",title:"Ng\xE2n h\xE0ng TNHH MTV Woori Vi\u1EC7t Nam (Woori)"}),e.createElement(Option,{value:"uob",title:"Ng\xE2n h\xE0ng TNHH MTV UOB Vi\u1EC7t Nam (UOB)"}),e.createElement(Option,{value:"vbsp",title:"Ng\xE2n h\xE0ng Ch\xEDnh s\xE1ch x\xE3 h\u1ED9i Vi\u1EC7t Nam (VBSP)"}),e.createElement(Option,{value:"vdb",title:"Ng\xE2n h\xE0ng Ph\xE1t tri\u1EC3n Vi\u1EC7t Nam (VDB)"}),e.createElement(Option,{value:"coopbank",title:"Ng\xE2n h\xE0ng H\u1EE3p t\xE1c x\xE3 Vi\u1EC7t Nam (Co-opBank)"}))),e.createElement(a,{mb:2},e.createElement(de,{id:"bank",label:t("editStore.bankAccount"),type:"text",placeholder:t("editStore.enterBankAccount"),helperText:t("editStore.bankExample"),value:p==null?void 0:p.bankAccount,onChange:k=>g(T(C({},p),{bankAccount:k.target.value}))})),e.createElement(a,{mt:5},e.createElement(H,{fullWidth:!0,variant:"primary",onClick:d},t("button.save"))))))};var oo="//h5.zdn.vn/zapps/1139875216161917703/zdev-dc5614a3/assets/subscription-decor.21dba091.svg";const co=()=>{const{t}=Q("global"),{state:r}=Nt(),[s,n]=i.exports.useState();return i.exports.useEffect(()=>{let c;const o=()=>{let l=r;l?"path"in l?l=l.path:"data"in l&&(l=l.data):l=new URL(window.location.href).searchParams.toString(),Wt.checkTransaction({data:l,success:u=>{console.log("rs",u),n(u),u.resultCode===0&&(c=setTimeout(o,3e3))},fail:u=>{n(u)}})};return o(),()=>{clearTimeout(c)}},[]),s?e.createElement(se,{className:"flex flex-col"},e.createElement(Zt,{title:t("payment.title")}),function(c){if("resultCode"in s){if(s.resultCode===1)return c({title:t("payment.successTitle"),message:t("payment.successSub"),color:"#288F4E"});if(s.resultCode===0)return c({title:t("payment.pendingTitle"),message:`${t("payment.pendingSub")} ${s.orderId}-${s.transId}`,color:"#F4AA39"})}return c({title:t("payment.failTitle"),message:`${t("payment.failSub")} ${JSON.stringify(s.code)}`,color:"#DC1F18"})}(({title:c,message:o,color:l})=>e.createElement(a,{className:"p-4 space-y-4 flex-1 flex flex-col justify-center items-center text-center"},e.createElement("div",{key:+new Date,className:"w-28 h-28 flex items-center justify-center rounded-full animate-spin",style:{backgroundColor:l,animationIterationCount:1}},e.createElement("img",{src:oo})),e.createElement(h.Title,{className:"font-bold",style:{color:l}},c),e.createElement(h,null,o)))):e.createElement(e.Fragment,null)};const lo=()=>{const t=gt(),r=JSON.parse(localStorage.getItem("scanList"))||[],[s,n]=i.exports.useState([]),[c,o]=i.exports.useState(!1),{t:l}=Q("global"),u=ce(),p=S=>{n(v=>v.includes(S)?v.filter(_=>_!==S):[...v,S])},g=()=>{o(!c),c&&n([])},b=()=>{const S=r.filter((v,_)=>!s.includes(_));localStorage.setItem("scanList",JSON.stringify(S)),n([])},m=S=>{try{const v=new URL(S),_=v.searchParams.get("storeId"),d=v.searchParams.get("tableId"),D=v.searchParams.get("tenant_id");_&&d&&D?x(_,d,D):f()}catch(v){f()}},f=()=>{u.openSnackbar({text:l("main.not_found"),type:"error"})},x=(S,v,_)=>{t({pathname:`/menu/${S}/${v}`,search:`?tenant_id=${_}`})},y=()=>{localStorage.clear()};return e.createElement("div",{className:"recent-scans"},e.createElement("div",{className:"headerr"},e.createElement("button",{className:"back-button",onClick:()=>t("/")},e.createElement(le,{icon:"zi-arrow-left"})),e.createElement(h.Title,{className:"title-text"},"\u0110\xE3 qu\xE9t g\u1EA7n \u0111\xE2y")),e.createElement("button",{className:"edit-button",hidden:r.length===0,onClick:g,style:{color:"#0078ff",paddingTop:"10px"}},e.createElement(le,{icon:"zi-delete"})),e.createElement("ul",{className:"link-list"},r.length>0?r.map((S,v)=>e.createElement("li",{key:v,className:"link-recent"},c&&e.createElement(nn,{checked:s.includes(v),onChange:()=>p(v)}),e.createElement("div",{className:"link-content"},e.createElement("div",{className:"link-icon"},e.createElement(jt,null)),e.createElement("div",{className:"link-details"},e.createElement("a",{className:"link-text-recent",href:"#",onClick:()=>m(S.qrData)},S.storeName," - ",S.tableName))))):e.createElement("div",{className:"no-links",style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100vh"}},e.createElement(rn,{style:{fontSize:"80px",color:"black",opacity:.4,marginTop:"100px"}}),e.createElement(h.Title,{className:"title-text",style:{color:"gray"}},l("main.textWhenNothing")))),e.createElement(H,{onClick:y},"Clear"),c&&r.length>0&&e.createElement("div",{className:"edit-actions"},e.createElement(h.Title,{className:"title-text",onClick:()=>n(r.map((S,v)=>v))},"Ch\u1ECDn t\u1EA5t c\u1EA3"),e.createElement("button",{disabled:s.length===0,className:s.length===0?"disable-btn":"remove-btn",onClick:b},e.createElement(le,{icon:"zi-delete"}))))},{language:io}=Ft();Jt.init({interpolation:{escapeValue:!1},lng:io.split("-")[0],fallbackLng:"en",resources:{en:{global:Ts},vi:{global:Ws}}});const uo=sn({typography:{fontFamily:"Montserrat"},palette:{primary:{main:"#e71826"}}}),mo=()=>e.createElement(on,null,e.createElement(cn,{i18n:Jt},e.createElement(ln,{theme:uo},e.createElement(un,null,e.createElement(mn,null,e.createElement(dn,null,e.createElement(Js,null,e.createElement(Xt,null,e.createElement(J,{element:e.createElement(ls,null)},e.createElement(J,{path:"/menu/:store_uuid/:table_uuid",element:e.createElement(ya,null)}),e.createElement(J,{path:"/user/promotion",element:e.createElement(rs,null)}),e.createElement(J,{path:"/user/order/:store_uuid",element:e.createElement(os,null)}),e.createElement(J,{path:"/user/profile",element:e.createElement(pa,null)}))),e.createElement(pn,null,e.createElement(J,{path:"/",element:e.createElement(es,null)}),e.createElement(J,{path:"/about",element:e.createElement(En,null)}),e.createElement(J,{path:"/result",element:e.createElement(co,null)}),e.createElement(J,{path:"/recent-scan",element:e.createElement(lo,null)}),e.createElement(J,{path:"/user/form",element:e.createElement(vr,null)}),e.createElement(J,{element:e.createElement(is,null)},e.createElement(J,{path:"/admin/home",element:e.createElement(as,null)}),e.createElement(J,{path:"/order-history",element:e.createElement(no,null)}),e.createElement(J,{path:"/admin/profile",element:e.createElement(pa,null)}),e.createElement(J,{path:"/admin/company/index",element:e.createElement(Sr,null)}),e.createElement(J,{path:"/admin/company/form",element:e.createElement(Nr,null)}),e.createElement(J,{path:"/admin/store/form",element:e.createElement(Dr,null)}),e.createElement(J,{path:"/admin/store/index",element:e.createElement(Tr,null)}),e.createElement(J,{path:"/admin/product/index/:store_uuid",element:e.createElement(Ir,null)}),e.createElement(J,{path:"/admin/product/form/:store_uuid/:product_uuid",element:e.createElement(Ea,null)}),e.createElement(J,{path:"/admin/product/scanmenu/:store_uuid",element:e.createElement(Ar,null)}),e.createElement(J,{path:"/admin/product/update/:store_uuid/:product_uuid",element:e.createElement(Ea,null)}),e.createElement(J,{path:"/admin/category/form/:store_uuid/:category_uuid",element:e.createElement(Fr,null)}),e.createElement(J,{path:"/admin/category/index/:store_uuid",element:e.createElement($r,null)}),e.createElement(J,{path:"/admin/table/index/:store_uuid",element:e.createElement(qr,null)}),e.createElement(J,{path:"/admin/table/form/:store_uuid/:table_uuid",element:e.createElement(eo,null)}),e.createElement(J,{path:"/admin/voucher/index/:store_uuid",element:e.createElement(Ys,null)}),e.createElement(J,{path:"/admin/voucher/form/:store_uuid",element:e.createElement(_a,null)}),e.createElement(J,{path:"/admin/voucher/update/:store_uuid/:voucher_uuid",element:e.createElement(_a,null)}),e.createElement(J,{path:"/admin/order-management/index/:store_uuid",element:e.createElement(Zr,null)}),e.createElement(J,{path:"/admin/order-management/details/index/:order_uuid/:store_uuid",element:e.createElement(Xr,null)}),e.createElement(J,{path:"/admin/order-management/create/index/:store_uuid",element:e.createElement(ya,null)}),e.createElement(J,{path:"/admin/user/index/:store_uuid",element:e.createElement(ao,null)}),e.createElement(J,{path:"/admin/sale-report/:store_uuid",element:e.createElement(ro,null)}),e.createElement(J,{path:"/admin/store/edit/:store_uuid",element:e.createElement(so,null)})))),e.createElement(Xt,null,e.createElement(J,{path:"/ui-component",element:e.createElement(Xs,null)}))))))));window.APP_CONFIG||(window.APP_CONFIG=Ve);const po=gn(document.getElementById("app"));po.render(e.createElement(mo));
