var Na=Object.defineProperty,Ca=Object.defineProperties;var ka=Object.getOwnPropertyDescriptors;var Ot=Object.getOwnPropertySymbols;var wa=Object.prototype.hasOwnProperty,Ma=Object.prototype.propertyIsEnumerable;var At=(t,r,s)=>r in t?Na(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,N=(t,r)=>{for(var s in r||(r={}))wa.call(r,s)&&At(t,s,r[s]);if(Ot)for(var s of Ot(r))Ma.call(r,s)&&At(t,s,r[s]);return t},T=(t,r)=>Ca(t,ka(r));var y=(t,r,s)=>new Promise((n,c)=>{var o=h=>{try{m(s.next(h))}catch(p){c(p)}},l=h=>{try{m(s.throw(h))}catch(p){c(p)}},m=h=>h.done?n(h.value):Promise.resolve(h.value).then(o,l);m((s=s.apply(t,r)).next())});import{R as e,u as Ee,P as se,T as g,B as q,S as mt,a as fe,b as dt,p as Ta,i as Pa,c as Te,r as zt,d as oe,e as Q,f as pt,g as le,h as i,j as a,A as qe,L as pe,k as gt,l as xe,M as Ae,m as Pe,n as Ft,o as $,I as ue,q as ht,s as Ve,t as Et,v as Da,w as Bt,x as ft,y as ce,z as be,C as La,D as Ia,E as ge,F as yt,G as Oa,H as Aa,J as za,K as Fa,Q as Vt,N as et,O as $t,U as Rt,V as Ut,W as bt,X as Ba,Y as Va,Z as ze,_ as qt,$ as $a,a0 as Ra,a1 as Ua,a2 as qa,a3 as Ha,a4 as Ge,a5 as xt,a6 as Ht,a7 as jt,a8 as ja,a9 as Qa,aa as Ga,ab as Ya,ac as vt,ad as Wa,ae as Ka,af as Qt,ag as St,ah as tt,ai as Gt,aj as Za,ak as Ja,al as Xa,am as en,an as Yt,ao as Wt,ap as tn,aq as an,ar as nn,as as rn,at as Kt,au as sn,av as on,aw as cn,ax as ln,ay as un,az as mn,aA as dn,aB as Zt,aC as X,aD as pn,aE as gn}from"./vendor.8aa10304.module.js";const hn=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerpolicy&&(o.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?o.credentials="include":c.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(c){if(c.ep)return;c.ep=!0;const o=s(c);fetch(c.href,o)}};hn();const En=t=>{const[r,s]=e.useState(!1),n=Ee();return e.createElement(se,null,e.createElement("div",{className:"section-container"},e.createElement(g,null,"This mini app was generated by zmp-cli")),e.createElement("div",null,e.createElement(q,{variant:"secondary",fullWidth:!0,onClick:()=>s(!0)},"Back")),e.createElement(mt.Actions,{visible:r,onClose:()=>s(!1),actions:[[{text:"Go back",onClick:()=>{n(-1)}},{text:"Action 1",close:!0},{text:"Action 2",close:!0}],[{text:"Close",close:!0,danger:!0}]]}))},ie=fe({key:"user",default:{zalo_id:"",avatar:"",name:"",uuid:"",store_uuid:0,company_uuid:0,role:"",login:!1,authToken:"",accessToken:"",has_phone:!1,is_oa_follow:!1}});dt({key:"authTokenSelector",get:({get:t})=>t(ie).authToken});dt({key:"zalo_user",get:r=>y(void 0,[r],function*({get:t}){try{const{userInfo:s}=yield Ta({});return console.log(s),s}catch(s){return console.log(s),null}})});const fn=fe({key:"company",default:{name:"",uuid:""}}),Fe=fe({key:"storeListState",default:{is_update:!1,stores:[]}}),ke=fe({key:"store",default:{name:"",uuid:"",created_at:"",store_settings:[]}}),yn=fe({key:"categoryListState",default:{is_update:!1,categories:[]}}),bn=fe({key:"category",default:{name:"",describe:"",store_uuid:"",uuid:""}}),at=fe({key:"product",default:{is_update:!1,products:[]}}),nt=fe({key:"tableList",default:{is_update:!1,tables:[]}}),_t=fe({key:"table",default:{}}),Jt=fe({key:"orderList",default:{is_update:!1,orders:[]}}),Xt=fe({key:"orderState",default:{}}),xn=fe({key:"currentOrderByStoreClientSide",default:{}}),Nt=fe({key:"orderListByUser",default:{is_update:!1,orders:[]}}),rt=fe({key:"cart",default:[]});fe({key:"requestLocationTries",default:0});fe({key:"authTokenState",default:""});const vn=fe({key:"requestPhoneTries",default:0});dt({key:"phone",get:r=>y(void 0,[r],function*({get:t}){if(t(vn)){const{number:n,token:c}=yield Pa({fail:console.warn});return n||(console.warn("S\u1EED d\u1EE5ng token n\xE0y \u0111\u1EC3 truy xu\u1EA5t s\u1ED1 \u0111i\u1EC7n tho\u1EA1i c\u1EE7a ng\u01B0\u1EDDi d\xF9ng",c),console.warn("Chi ti\u1EBFt tham kh\u1EA3o: ","https://mini.zalo.me/blog/thong-bao-thay-doi-luong-truy-xuat-thong-tin-nguoi-dung-tren-zalo-mini-app"),console.warn("Gi\u1EA3 l\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i m\u1EB7c \u0111\u1ECBnh: 0337076898"),"0337076898")}return!1})});const _e=fe({key:"loading",default:{isLoading:!1,completedText:"Loading...",completedPercent:100}}),Ye=fe({key:"spinner",default:!1}),Sn={title:"goimonhanh",headerColor:"white",textColor:"black",statusBar:"normal",actionBarHidden:!0,hideAndroidBottomNavigationBar:!1,hideIOSSafeAreaBottom:!1,version:"1.1.21",zalo_app_id:"1139875216161917703"},_n=!1,Nn=[],Cn="1591210455054017920",kn=[],wn=[];var $e={app:Sn,debug:_n,listCSS:Nn,offical_oa_id:Cn,listSyncJS:kn,listAsyncJS:wn};const Mn="https://hatkeo.com/api",Tn="wss://hatkeo.com/cable",Ct="endpoint",Pn=$e.app.version,Dn=$e.app.zalo_app_id,st=100,Y={PENDING:"pending",CONFIRMED:"confirmed",DELIVERED:"delivered",DONE:"done",WAIT_FOR_PAY:"wait_for_pay",PAYED:"payed",REFUNDED:"refunded",CANCELLED:"cancelled"},Ln=["payed","refunded","cancelled"],ot={PENDING:"pending",PARTIAL_DELIVERY:"partial_delivery",FINISHED:"finished"},ea={"/admin/home":"main.adminDashboard","/admin/profile":"profile.profile","/admin/company/index":"main.companyManagement","/admin/company/form":"main.createCompany","/admin/store/form":"main.regStore","/admin/store/index":"storeManagement.storeManagement","/admin/product/index":"productManagement.productManagement","/admin/product/form":"productManagement.createProduct.createProduct","/admin/product/update":"productManagement.updateProduct","/admin/category/index":"categoryManagement.categoryManagement","/admin/category/form":"categoryManagement.updateCategory","/admin/table/index":"tableManagement.tableManagement","/admin/table/form":"tableManagement.updateTable","/admin/voucher/index":"voucherManagement.voucherManagement","/admin/voucher/form":"voucherManagement.createVoucher.createVoucher","/admin/voucher/update":"voucherManagement.updateVoucher","/admin/order-management/index":"orderManagement.orderManagement","/admin/order-management/details/index":"orderManagement.orderDetail.orderDetail","/admin/order-management/create/index":"orderManagement.createOrder","/order-history":"userOrder.orderHistory","/admin/user/index":"storeManagement.user","/admin/sale-report":"storeManagement.sale_report","/admin/store/edit":"storeManagement.editStore"},In={ORDER:"OrderNotification"},On=[{value:"vi",title:"Ti\u1EBFng Vi\u1EC7t",icon:""},{value:"en",title:"English",icon:""}],De={BY_VALUE:"decrease_by_value",BY_PERCENT:"decrease_by_percent"},ta={ACTIVE:"actived",INACTIVE:"inactive"},An={DISPLAY:"show_now",HIDDEN:"not_show"},Re="https://images.unsplash.com/photo-1602253057119-44d745d9b860?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZGlzaHxlbnwwfHwwfHx8MA%3D%3D",zn="jOraMgH3GsUwXsLQeqv3OBs3P5AXKHu-vkfSU_jI4J-DWtL5qHa80RtTNLkvTnubnUD3HjLg8ogimcHOy0qU7kwoOLEjBouztRrwTBeLA2RWiNb0ftKC7x-xKs_Z8JC7ZxbTEfSJEqBpcNqOgL1P8UJ-2nAaStLU__Ol6-T6GbpvZ0yYgWb_PVUqMbQ77WeHvwSkIViBNI-el0bqwp1m2hM406Jc5MKAYRCyKF8EOoY_X1Xm_4fOCutr27pJVK0yoB44R8mPVn32arbPZG9yFyA8CKsV0MCVx8qPGQ02NGhCc2rwrZjj7fxp26FYLNShhEjKJhPlCHVQnKzVYWqR2kwvOKQADHzxz9vzHBm10YVIZ295mpPREt4f_1SAg5z1QG",Fn=!1,We="goimonhanh_keepScreenOn";var Bn="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/usa.7cbcfb02.png",Vn="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/vietnam.98e854b0.png";const aa=(t=Ct)=>{const r=new URL(Mn);return r.hostname=`${t}.${r.hostname}`,r.toString()},na=()=>y(void 0,null,function*(){const{subdomain:t}=yield Te({keys:["subdomain"]});return t}),ct=()=>y(void 0,null,function*(){const{authToken:t}=yield Te({keys:["authToken"]});return t}),$n=()=>y(void 0,null,function*(){const{language:t}=yield Te({keys:["language"]});return t}),Ue=(t=!1)=>y(void 0,null,function*(){try{const r=yield na();return aa(t?Ct:r)}catch(r){console.log("Error when get storage subdomain",r)}}),lt=(...r)=>y(void 0,[...r],function*(t={}){const s=yield $n();return new URLSearchParams(T(N({},t),{lang:s})).toString()}),he=(t,r,s=!1,n=!0)=>y(void 0,null,function*(){const c=yield Ue(s),o=yield lt(r),l=yield ct();return fetch(`${c}/v1/${t}?${o}`,{method:"GET",headers:N({"Content-Type":"application/json"},n&&{"Auth-Token":`${l}`})}).then(m=>y(void 0,null,function*(){return yield m.json()})).catch(m=>({error:m}))}),Ne=(t,r,s,n=!1)=>y(void 0,null,function*(){const c=yield Ue(n),o=yield lt(r),l=yield ct();return fetch(`${c}/v1/${t}?${o}`,{method:"POST",headers:{"Content-Type":"application/json","Auth-Token":`${l}`},body:JSON.stringify(s)}).then(m=>y(void 0,null,function*(){return yield m.json()})).catch(m=>({error:m}))}),Le=(t,r,s,n=!1)=>y(void 0,null,function*(){const c=yield Ue(n),o=yield lt(r),l=yield ct();return fetch(`${c}/v1/${t}?${o}`,{method:"PUT",headers:{"Content-Type":"application/json","Auth-Token":`${l}`},body:JSON.stringify(s)}).then(m=>y(void 0,null,function*(){return yield m.json()})).catch(m=>({error:m}))}),kt=(t,r,s,n=!1)=>y(void 0,null,function*(){const c=yield Ue(n),o=yield lt(r),l=yield ct();return fetch(`${c}/v1/${t}?${o}`,{method:"DELETE",headers:{"Content-Type":"application/json","Auth-Token":`${l}`},body:JSON.stringify(s)}).then(m=>y(void 0,null,function*(){return m.ok?m:m.json()})).catch(m=>({error:m}))}),Rn=t=>y(void 0,null,function*(){const r=aa(Ct);return fetch(`${r}/v1/auth`,{method:"POST",headers:{"Content-Type":"application/json","Access-Token":`${t}`}}).then(s=>y(void 0,null,function*(){return yield s.json()})).catch(s=>({error:s}))}),Un=t=>Ne("company",{},t,!0),qn=()=>he("store",{},!0,!0),ra=t=>he(`store/${t}`,{},!0,!0),Hn=()=>y(void 0,null,function*(){return he("store",{},!1,!0)}),jn=t=>Ne("store",{},t,!0),Qn=t=>Le("store",{},t,!0),wt=t=>y(void 0,null,function*(){return he("category",{store_uuid:t||""},!1,!1)}),Gn=t=>y(void 0,null,function*(){return Le("category",{},t,!1)}),Yn=t=>y(void 0,null,function*(){return Ne("category",{},t,!1)}),Wn=t=>y(void 0,null,function*(){return he(`category/detail/${t}`,{},!1,!1)}),Kn=t=>y(void 0,null,function*(){return kt("category",{},t,!1)}),Zn=t=>y(void 0,null,function*(){return Le("category/sort",{},t,!1)}),Jn=t=>y(void 0,null,function*(){return Ne("product",{},t,!1)}),Xn=t=>y(void 0,null,function*(){return Le("product",{},t,!1)}),Ke=(t,r)=>y(void 0,null,function*(){return he("product",{store_uuid:t,all:r},!1,!1)}),er=t=>y(void 0,null,function*(){return he(`product/detail/${t}`,{},!1,!1)}),tr=t=>y(void 0,null,function*(){return kt("product",{},t,!1)}),Mt=t=>y(void 0,null,function*(){return he("table",{store_uuid:t},!1,!1)}),ar=t=>y(void 0,null,function*(){return Ne("table",{},t,!1)}),nr=t=>y(void 0,null,function*(){return Le("table",{},t,!1)}),rr=t=>y(void 0,null,function*(){return Ne("order",{},t,!1)}),sa=t=>y(void 0,null,function*(){return he("order",t,!1,!0)}),sr=t=>y(void 0,null,function*(){return he(`order/curent_order_by_store/${t}`,{},!1,!0)}),oa=()=>y(void 0,null,function*(){return he("order/order_by_user",{},!1,!0)}),ca=(t,r)=>y(void 0,null,function*(){return he(`order/${r}`,{store_uuid:t},!1,!1)}),la=t=>y(void 0,null,function*(){return Le("order",{},t,!1)}),ia=(t,r)=>y(void 0,null,function*(){return Le(`order/status/${t}`,{},r,!1)}),ua=(t,r)=>y(void 0,null,function*(){return Le(`order/delivery/${t}`,{},r,!1)}),or=t=>y(void 0,null,function*(){return he(`voucher/by_store/${t||""}`,{},!1,!0)}),cr=(t,r)=>y(void 0,null,function*(){return he(`voucher/code/${t}/${r}`,{},!1,!1)}),lr=(t,r)=>y(void 0,null,function*(){return Le(`voucher/${t||""}`,{},r,!1)}),ir=t=>y(void 0,null,function*(){return Ne("voucher",{},t,!1)}),ur=t=>y(void 0,null,function*(){return he(`voucher/${t}`,{},!1,!1)}),ma=t=>y(void 0,null,function*(){return Ne("invoice",{},t,!1)}),mr=t=>y(void 0,null,function*(){return he(`invoice/${t}`,{},!1,!0)}),dr=t=>he("lic",t,!0,!0),pr=t=>y(void 0,null,function*(){return he("store_user",{store_uuid:t},!1,!0)}),gr=t=>y(void 0,null,function*(){return kt("store_user",{},t,!1)}),hr=t=>y(void 0,null,function*(){return Ne("store_user",{},t,!1)}),Er=t=>y(void 0,null,function*(){return he("sale_report",t,!1,!0)}),fr=(t,r)=>y(void 0,null,function*(){return he("ai_request",{store_uuid:t},!1,!0)}),yr=t=>y(void 0,null,function*(){return Ne("zalo_oa_followers",{},{zalo_oa:t},!1)}),br=()=>y(void 0,null,function*(){return Ne("user/login_token",{},{},!1)}),xr=(t,r,s)=>y(void 0,null,function*(){return Ne("transaction",{},{payment_method:"BANK_SANBOX",order_id:r,store_uuid:s,invoice_uuid:t},!1)}),da=()=>{const{version:t,apiVersion:r,zaloVersion:s,platform:n}=zt(),c=oe(ie),{t:o,i18n:l}=Q("global"),m=pt(),h=le(),[p,b]=i.exports.useState(!1),[u,f]=i.exports.useState(!1),[S,E]=i.exports.useState(!1),[x,_]=i.exports.useState(""),[k,d]=i.exports.useState(Fn),[D,C]=i.exports.useState(60),B=i.exports.useRef(null);i.exports.useEffect(()=>{S&&(B.current=setInterval(()=>{C(j=>j>0?j-1:(clearInterval(B.current),j))},1e3))},[S,x]);const z=j=>{l.changeLanguage(j),Pe({data:{language:j}})},P=()=>{E(!1),clearInterval(B.current),C(60)},I=j=>{navigator.clipboard.writeText(j),b(!0),setTimeout(()=>b(!1),2e3)},U=j=>{navigator.clipboard.writeText(j),f(!0),setTimeout(()=>f(!1),2e3)},R=()=>y(void 0,null,function*(){try{const de=(yield Te({keys:[We]}))[We];de!==void 0&&d(de)}catch(j){console.log("Error loading keepScreenOn setting:",j)}}),J=()=>{const j=!k;d(j),F(j),Ft({keepScreenOn:j,success:()=>{console.log(`keepScreenOn to ${j}`)},fail:de=>{console.log("Error setting keepScreenOn:",de)}})},F=j=>y(void 0,null,function*(){try{let de={};de[We]=j,yield Pe({data:de})}catch(de){console.log("Error saving keepScreenOn setting:",de)}}),me=()=>y(void 0,null,function*(){const j=yield br();(j==null?void 0:j.error)?h.openSnackbar({duration:3e3,text:j.error,type:"error"}):(_(j.token),E(!0),C(60))});return i.exports.useEffect(()=>{R()},[k]),e.createElement(se,{style:{minHeight:"unset",marginBottom:50}},e.createElement(a,{flex:!0,flexDirection:"column",justifyContent:"center",alignItems:"center",style:{marginTop:20}},e.createElement(a,null,e.createElement(qe,{story:!0,size:96,online:!0,src:c.avatar.startsWith("http")?c.avatar:null},c.avatar)),e.createElement(a,{flex:!0,flexDirection:"row",alignItems:"center",mt:3},e.createElement(a,null,e.createElement(g.Title,null,c.name)))),e.createElement(a,{m:0,p:0,mt:4},e.createElement("div",{className:"section-container"},e.createElement(pe,null,e.createElement(pe.Item,{title:o("profile.username"),subTitle:c.name}),e.createElement(pe.Item,{title:o("profile.userId"),subTitle:e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(g,{flex:1},c.uuid),e.createElement("svg",{"data-v-465340bc":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 15",width:"12",height:"15",onClick:()=>I(c.uuid),style:{cursor:"pointer",marginLeft:"8px",fill:"#666"}},e.createElement("path",{d:"M7.313.188H3.11c-.386 0-.72.134-1.002.404-.28.27-.421.597-.421.984v.299h-.264c-.387 0-.72.135-1.002.404C.14 2.55 0 2.877 0 3.264v10.125c0 .386.14.72.422 1.002.281.28.615.421 1.002.421h7.312c.387 0 .715-.14.985-.421.27-.282.404-.616.404-1.002v-.264h.299c.386 0 .715-.14.984-.422.27-.281.405-.615.405-1.002V4.687l-4.5-4.5Zm0 1.564 2.935 2.936H7.313V1.752ZM9 13.389a.304.304 0 0 1-.08.21.242.242 0 0 1-.184.088H1.424a.288.288 0 0 1-.211-.087.288.288 0 0 1-.088-.211V3.264c0-.07.03-.132.088-.185A.304.304 0 0 1 1.423 3h.264v8.982c0 .387.094.674.282.862.187.187.474.281.861.281H9v.264Zm1.688-1.688a.305.305 0 0 1-.08.211.242.242 0 0 1-.184.088H3.11a.288.288 0 0 1-.21-.088.288.288 0 0 1-.088-.21V1.575c0-.07.029-.132.087-.184a.304.304 0 0 1 .211-.08h3.076v4.5h4.5v5.89Z"})),p&&e.createElement(g,{style:{color:"green",marginLeft:"8px"}},"Copied!"))}),e.createElement(pe.Item,{title:o("profile.role"),subTitle:c.role.replaceAll("_"," ")}),e.createElement(pe.Item,{title:o("profile.app_version"),subTitle:Pn}),e.createElement(pe.Item,{title:o("profile.zalo_version"),subTitle:s}),e.createElement(pe.Item,{title:o("profile.zalo_mini_app_version"),subTitle:t}),e.createElement(pe.Item,{title:o("profile.zalo_mini_app_api_version"),subTitle:r}),e.createElement(pe.Item,{title:"Platform",subTitle:n}),e.createElement(pe.Item,null,e.createElement(gt,{checked:k,label:o("profile.keepScreen"),onChange:J})),e.createElement(pe.Item,{title:o("profile.language"),style:{marginBottom:"36px"}},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement("img",{src:l.language==="en"?Bn:Vn,style:{width:"48px",marginRight:"8px"}}),e.createElement(xe,{id:"langSelect",closeOnSelect:!0,value:l.language,onChange:j=>z(j)},On.map(j=>e.createElement(Option,{title:j.title,key:j.value})))))))),e.createElement(a,{width:"100%",px:3,pb:3},e.createElement(q,{fullWidth:!0,onClick:()=>m("/order-history")},o("userOrder.orderHistory"))),e.createElement(a,{width:"100%",px:3,pb:5},e.createElement(q,{fullWidth:!0,onClick:()=>me()},o("profile.getLoginToken"))),e.createElement(Ae,{visible:S,mask:!0,onClose:()=>P(),className:"confirm-modal"},e.createElement(g,{style:{fontSize:"26px",fontWeight:500,textAlign:"center"}},o("profile.loginToken")),e.createElement(g,{style:{fontSize:"15px",textAlign:"center",marginTop:"7px",fontStyle:"italic"}},o("profile.valid1Minute")," (",D,"s)"),e.createElement(g,{style:{fontSize:"26px",textAlign:"center",marginTop:"30px",textDecoration:D===0?"line-through":"unset"}},x),e.createElement(a,{width:"100%",mt:9},D===0?e.createElement(q,{fullWidth:!0,onClick:()=>me()},o("profile.genLoginTokenAgain")):e.createElement(q,{fullWidth:!0,onClick:()=>U(x)},o(u?"button.copied":"button.copy")))))},vr=()=>{const{t}=Q("global"),[r,s]=$(ie),[n,c]=e.useState(N({},r)),o=le(),l=(h,p)=>{c(T(N({},n),{[h]:p}))},m=()=>{o.openSnackbar({duration:3e3,text:t("snackbarMessage.saved"),type:"success"}),s(n)};return e.createElement(se,null,e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(ue,{id:"name",label:"Name",type:"text",placeholder:"Zalo",value:n==null?void 0:n.name,onChange:h=>l("name",h.target.value)}),e.createElement(ue,{label:"Avatar",type:"text",placeholder:"zalo@zalo.me",value:n==null?void 0:n.avatar,onChange:h=>l("avatar",h.target.value)}),e.createElement(a,{mt:4},e.createElement(q,{fullWidth:!0,variant:"primary",onClick:m},"Submit")))))},Sr=()=>e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},"CompanyPage")),_r=()=>{const{t}=Q("global"),[r,s]=$(fn),[n,c]=e.useState(N({},r)),o=le();oe(ie);const l=ht(ie),m=(p,b)=>{c(T(N({},n),{[p]:b}))},h=()=>y(void 0,null,function*(){const p=yield Un({company:{name:n.name}});(p==null?void 0:p.error)?(console.error("Error:",p.error),o.openSnackbar({duration:3e3,text:t("snackbarMessage.createCompanyFail"),type:"error"})):(s({name:p.name,uuid:p.uuid}),l({company_uuid:p.uuid}),o.openSnackbar({duration:3e3,text:t("snackbarMessage.createCompanySuccess"),type:"success"}))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(ue,{id:"name",label:t("main.companyName"),type:"text",placeholder:t("main.enterCompanyName"),value:n==null?void 0:n.name,onChange:p=>m("name",p.target.value)}),e.createElement(a,{mt:4},e.createElement(q,{fullWidth:!0,variant:"primary",onClick:h},t("button.save"))))))};var pa="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/table.1e7cc1cd.png",ga="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/application.c55742c7.png",Nr="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/dish.f951211a.png",Cr="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/order-food.a318a399.png",kr="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/users.ff3eeb7d.png",wr="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/report.b2f0120e.png",Mr="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/coupon.c8c99ff8.png",it="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/store.2c9a96e2.png",Ze="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/app-logo.3714ba45.png";const Tt=({isAmin:t=!1,showOrderHistory:r=!0})=>{const s=pt(),n=oe(ie),[c,o]=i.exports.useState(!1),l=()=>{if(t){const m=new URLSearchParams;r&&m.append("showOrderHistory",!0),s(`/admin/profile?${m.toString()}`)}};return i.exports.useEffect(()=>{n.login&&o(!0)},[n]),e.createElement(a,{flex:!0},c&&e.createElement(e.Fragment,null,e.createElement(qe,{story:"default",online:!0,src:n.avatar.startsWith("http")?n.avatar:null,onClick:l},n.avatar),e.createElement(a,{ml:4},e.createElement(g.Title,null,n.name),e.createElement(g,null,n.role))))},Tr=()=>{const{t}=Q("global"),[r,s]=$(Fe),[n,c]=$(_e),o=Ee(),[l,m]=$(ie),[h,p]=i.exports.useState(null),b=le(),[u,f]=$(ke),[S,E]=i.exports.useState();i.exports.useEffect(()=>{if(!l.store_uuid){o("/");return}c(T(N({},n),{isLoading:!0})),J()},[]),i.exports.useEffect(()=>{x()},[r.stores]);const x=()=>y(void 0,null,function*(){const{defaultStore:F}=yield Te({keys:["defaultStore"]});console.log("defaultStore",F),F&&_(F.uuid,!1)}),_=(F,me)=>y(void 0,null,function*(){const j=r.stores.find(de=>de.uuid===F);!j||(f(j),yield Pe({data:{defaultStore:j,subdomain:j.subdomain}}),me&&J())}),k=(F,me)=>{o({pathname:`/admin/table/index/${F}`,search:`?tenant_id=${me}`})},d=F=>{o(`/admin/product/index/${F}`)},D=F=>{o(`/admin/category/index/${F}`)},C=F=>{o(`/admin/voucher/index/${F}`)},B=F=>{o(`/admin/order-management/index/${F}`)},z=F=>{o(`/admin/user/index/${F}`)},P=F=>{o(`/admin/sale-report/${F}`)},I=F=>{o(`/admin/store/edit/${F}`)},U=()=>{E(!0),Da({id:$e.offical_oa_id,success:F=>{yr($e.offical_oa_id),m(me=>T(N({},me),{is_oa_follow:!0})),E(!1)},fail:F=>{b.openSnackbar({duration:3e3,text:t("snackbarMessage.followedOAFailed"),type:"error"})}})},R=()=>{E(!0),Bt({type:"oa",id:$e.offical_oa_id,message:"T\xF4i c\u1EA7n h\u1ED7 tr\u1EE3",success:()=>{console.log("done openChat"),E(!1)},fail:F=>{console.log("failed to followed OA"),b.openSnackbar({duration:3e3,text:t("snackbarMessage.followedOAFailed"),type:"error"})}})};i.exports.useEffect(()=>{h&&b.openSnackbar({duration:1e4,text:t("snackbarMessage.getStoreFail"),type:"countdown"})},[h,b]);const J=()=>y(void 0,null,function*(){c(T(N({},n),{isLoading:!0}));const F=yield Hn();F.error?(console.error("Error:",F.error),p(!0),c(T(N({},n),{isLoading:!1}))):(s({is_update:!0,stores:F}),console.log(`get stores.length: ${F.length}`),c(T(N({},n),{isLoading:!1})))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(Tt,{isAmin:!0})),e.createElement(a,{className:"section-container store-container"},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(xe,{id:"store",value:u==null?void 0:u.uuid,onChange:F=>_(F,!0),closeOnSelect:!0},r.stores.map(F=>e.createElement(Option,{key:F.uuid,value:F.uuid,title:F.name}))),e.createElement(q,{className:"fw-500",style:{marginLeft:"14px"},onClick:()=>o("/admin/store/form"),prefixIcon:e.createElement(Ve,null)},t("storeManagement.regStore"))),e.createElement(a,{className:"store_list-item_main",flex:!0},(u==null?void 0:u.turn_on_table)&&e.createElement(a,{onClick:()=>k(u.uuid,u.subdomain),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:pa}),e.createElement("span",{className:"count-badge status-finished"},u==null?void 0:u.tables_count),e.createElement("span",null,t("storeManagement.tables"))),(u==null?void 0:u.turn_on_category)&&e.createElement(a,{onClick:()=>D(u.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:ga}),e.createElement("span",{className:"count-badge status-finished"},u==null?void 0:u.categories_count),e.createElement("span",null,t("storeManagement.categories"))),(u==null?void 0:u.turn_on_product)&&e.createElement(a,{onClick:()=>d(u.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:Nr}),e.createElement("span",{className:"count-badge status-finished"},u==null?void 0:u.products_count),e.createElement("span",null,t("storeManagement.products"))),(u==null?void 0:u.turn_on_voucher)&&e.createElement(a,{onClick:()=>C(u.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:Mr}),e.createElement("span",{className:"count-badge status-finished"},u==null?void 0:u.vouchers_count),e.createElement("span",null,t("storeManagement.voucher"))),(u==null?void 0:u.turn_on_order)&&e.createElement(a,{onClick:()=>B(u.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:Cr}),e.createElement("span",{className:"count-badge status-finished"},u==null?void 0:u.orders_count),e.createElement("span",null,t("storeManagement.order"))),(u==null?void 0:u.turn_on_staff)&&e.createElement(a,{onClick:()=>z(u.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:kr}),e.createElement("span",{className:"count-badge status-finished"},u==null?void 0:u.staff_count),e.createElement("span",null,t("storeManagement.user"))),(u==null?void 0:u.turn_on_sale_report)&&e.createElement(a,{onClick:()=>P(u.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:wr}),e.createElement("span",null,t("storeManagement.sale_report"))),(u==null?void 0:u.turn_on_staff)&&e.createElement(a,{onClick:()=>I(u.uuid),className:"store_list-item_main_item"},e.createElement("img",{className:"icon-img",src:it}),e.createElement("span",null,t("storeManagement.editStore"))),e.createElement(a,{onClick:(l==null?void 0:l.is_oa_follow)?()=>R():()=>U(),className:"store_list-item_main_item"},S?e.createElement("div",{className:"spinner-container"},e.createElement(Et,{visible:S,logo:Ze})):e.createElement("img",{className:"icon-img",src:Ze,alt:"App Logo"}),e.createElement("span",null,(l==null?void 0:l.is_oa_follow)?t("storeManagement.send_message"):t("storeManagement.follow_oa"))))))},Pr=t=>{const r=/[^a-zA-Z0-9_]/g;return t.toLowerCase().replaceAll(" ","_").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(r,"")},Dr=()=>{const{t}=Q("global"),r=oe(ie),s=ht(ie),n=ht(ke),[c,o]=i.exports.useState(""),[l,m]=i.exports.useState(""),[h,p]=i.exports.useState(""),[b,u]=i.exports.useState(null),[f,S]=$(Fe),E=le(),x=Ee();i.exports.useState(!0),i.exports.useEffect(()=>{if(l||p(null),l&&l!=h){u(null);const k=new AbortController,{signal:d}=k,D=setTimeout(()=>y(void 0,null,function*(){const C=yield dr({code:l});if(!C.error)p(l),C.status==="actived"&&new Date(C.expired_at)>new Date?(u(C),E.openSnackbar({text:t("snackbarMessage.codeValid"),type:"success"})):(u(null),E.openSnackbar({text:t("snackbarMessage.codeInvalid"),type:"error"}));else return u(null),E.openSnackbar({text:t("snackbarMessage.codeNotFound"),type:"error"}),p(l),d.aborted||console.error("Error validating code:",C.error),Promise.reject(new Error(t("snackbarMessage.codeNotFound")))}),1e3);return()=>{clearTimeout(D),k.abort()}}},[l]);const _=()=>y(void 0,null,function*(){const k=yield jn({store:{name:c,subdomain:Pr(c)},code:l});(k==null?void 0:k.error)?(console.error("Error:",k.error),E.openSnackbar({duration:3e3,text:k.error,type:"error"})):(console.log(`store_uuid: ${k.uuid}`),n(N({},k)),s(T(N({},r),{store_uuid:k.uuid,login:!0})),S({is_update:!1,stores:[]}),yield Pe({data:{defaultStore:k,subdomain:k.subdomain}}),E.openSnackbar({duration:3e3,text:t("snackbarMessage.createStoreSuccess"),type:"success"}),x(-1))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(a,{mb:2},e.createElement(ue,{id:"name",label:t("storeManagement.storeName"),type:"text",placeholder:t("storeManagement.enterStoreName"),value:c,onChange:k=>o(k.target.value),showCount:!0,maxLength:20})),e.createElement(a,{mb:2},e.createElement(ue,{type:"text",label:t("storeManagement.activationCode"),value:l,onChange:k=>m(k.target.value.toUpperCase()),placeholder:t("storeManagement.enterActivationCode"),style:{marginBottom:"10px"}})),b&&l===(b==null?void 0:b.code)&&e.createElement(a,{className:"active-code-container",flex:!0,alignItems:"center"},e.createElement(a,{className:"active-code-date-container",flex:!0,alignItems:"center",justifyContent:"center",flexDirection:"column"},e.createElement(g,{className:"active-code-date-number"},b.value_in_days),e.createElement(g,{className:"active-code-date-text"},t("storeManagement.days"))),e.createElement(a,{flex:!0,justifyContent:"center",flexDirection:"column",style:{padding:"14px",flex:1}},e.createElement(g,{size:"xLarge",bold:!0,style:{marginBottom:"8px"}},b.code),e.createElement(g,{size:"small",className:"text-code-content"},b.content),e.createElement(g,{size:"xxSmall",className:"text-experied"},t("voucherManagement.experiedAt")," ",new Date(b.expired_at).toLocaleDateString("en-GB")))),e.createElement(a,{mt:2},e.createElement(q,{fullWidth:!0,variant:"primary",onClick:_,disabled:!b||!c},t("button.register"))),e.createElement(a,{mt:"2"},e.createElement("img",{src:"https://stg-smart-order.sgp1.digitaloceanspaces.com/store_ad.png"})))))};const ee=(t=0)=>t.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}),He=t=>{const r=String(t),s=parseInt(r.replace(/\D/g,""),10);return isNaN(s)?"":ee(s)},Lr=({product:t,onDetails:r,setIsShowConfirm:s,setSelectedProduct:n})=>{const{t:c}=Q("global");return e.createElement(a,{flex:!0,className:"product-card-container",onClick:()=>{r(t)}},e.createElement(a,{className:"product-card-left"},t.images.length>0&&e.createElement("img",{className:"product-img",src:t.images[0].url,alt:t.name})),e.createElement(a,{className:"product-card-right"},e.createElement(g,{size:"xLarge",bold:!0,className:"product-name"},t.name),t.status===An.DISPLAY?e.createElement(a,{className:"product-status status-finished"},c("productManagement.status.display")):e.createElement(a,{className:"product-status status-expired"},c("productManagement.status.hidden")),e.createElement(g,{size:"normal"},"\u20AB",ee(t.price)),e.createElement(g,{size:"xxSmall",className:"text-category"},c("storeManagement.categories"),":",t.categories.map((o,l)=>l==0?" "+o.name:", "+o.name))),e.createElement(q,{icon:e.createElement(ft,null),className:"delete-icon",onClick:o=>{o.stopPropagation(),s(!0),n(t)}}))};function Je({isShowModal:t,setIsShowModal:r,onConfirm:s,itemDelete:n,content:c=""}){const{t:o}=Q("global");return e.createElement(Ae,{visible:t,mask:!0,onClose:()=>r(!1),className:"confirm-modal"},e.createElement(a,{className:"confirm-modal_icon"},e.createElement(ce,{icon:"zi-exclamation"})),e.createElement(a,{className:"confirm-modal_text"},c||e.createElement(e.Fragment,null,o("main.confirmDelete"),":",e.createElement(g,{className:"item-delete"},n))),e.createElement(a,{flex:!0,justifyContent:"space-between",className:"confirm-modal_button"},e.createElement(q,{onClick:()=>s()},o("button.confirm")),e.createElement(q,{variant:"secondary",onClick:()=>r(!1)},o("button.cancel"))))}const Ir=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=i.exports.useState([]);oe(ie);const c=Ee(),[o,l]=$(_e),[m,h]=i.exports.useState(!1),[p,b]=i.exports.useState(null),u=le();i.exports.useEffect(()=>{l(T(N({},o),{isLoading:!0})),E()},[r]);const f=_=>{console.log(`productUUID: ${_}`),c(`/admin/product/update/${r}/${_}`)},S=_=>{console.log(`productUUID: ${_}`),c(`/admin/product/form/${r}/${_}`)},E=()=>y(void 0,null,function*(){const _=yield Ke(r,!0);(_==null?void 0:_.error)?(l(T(N({},o),{isLoading:!1})),console.error("Error fetching products:",_.error)):(l(T(N({},o),{isLoading:!1})),n(_))}),x=()=>y(void 0,null,function*(){h(!1);const _=yield tr({product:{store_uuid:r,uuid:p==null?void 0:p.uuid}});(_==null?void 0:_.error)?u.openSnackbar({duration:3e3,text:typeof _.error=="string"?_.error:t("snackbarMessage.deleteFail"),type:"error"}):(E(),u.openSnackbar({duration:3e3,text:t("snackbarMessage.deleteSuccess"),type:"success"}))});return e.createElement(se,{className:"section-container",style:{backgroundColor:"#f3f3f3"}},e.createElement(Je,{isShowModal:m,setIsShowModal:h,itemDelete:p==null?void 0:p.name,onConfirm:()=>x()}),e.createElement(a,{className:"toolbar_add-btn"},e.createElement(q,{className:"fw-500",style:{width:"50%"},onClick:()=>S(null),prefixIcon:e.createElement(Ve,null)},t("productManagement.createProduct.createProduct")),e.createElement(q,{className:"fw-500",style:{width:"49%",marginLeft:"1%"},onClick:()=>c(`/admin/product/scanmenu/${r}`),prefixIcon:e.createElement(La,null)},t("productManagement.scanMenu.button"))),e.createElement(pe,{style:{marginTop:"10px"}},s.map(_=>e.createElement(Lr,{key:_.uuid,product:_,onDetails:()=>f(_.uuid),setIsShowConfirm:h,setSelectedProduct:b}))))},{Option:Or}=xe,ha=()=>{const{t}=Q("global"),{store_uuid:r,product_uuid:s}=be(),[n,c]=i.exports.useState({name:"",describe:"",price:"",selectedStore:"",selectedCategories:[]}),[o,l]=i.exports.useState({}),m=le(),[h,p]=$(ie),b=oe(ke),[u,f]=i.exports.useState([]),S=Ee(),[E,x]=i.exports.useState(!1),[_,k]=i.exports.useState([]),[d,D]=i.exports.useState([]),[C,B]=i.exports.useState(!1),[z,P]=i.exports.useState(0);i.exports.useEffect(()=>{ye()},[]);const I=(v,M)=>{const L=ge.exports.clone(o);if(delete L[v],l(L),v=="store_uuid"){c(T(N({},n),{[v]:M,cat_uuids:[]}));return}if(v==="price"){const Z=He(M);c(T(N({},n),{[v]:Z}));return}c(T(N({},n),{[v]:M}))};i.exports.useEffect(()=>{s&&s!=="null"?F(s):console.log("create new product")},[]);const U=()=>{x(v=>!v)},R=v=>{const M=[..._],L=[...d];M.splice(v,1),L.splice(v,1),k(M),D(L)},J=()=>y(void 0,null,function*(){if(h.login&&h.authToken){const v=yield Ue();yt({type:"photo",serverUploadUrl:`${v}/v1/attachment/${b.uuid}/${h.uuid}`,success:M=>{const Z=JSON.parse(M.data).data;console.log("-----------------"),console.log(`data.urls: ${Z.urls}`);const K=Z.urls&&Array.isArray(Z.urls)?Z.urls.map((Ie,we)=>({src:Ie,alt:`img ${_.length+we+1}`,key:`${_.length+we+1}`})):[{src:Z.urls||"",alt:`img ${_.length+1}`,key:`${_.length+1}`}],ae=Z.uuids&&Array.isArray(Z.uuids)?Z.uuids:[];k([..._,...K]),D([...d,...ae]);const ne=ge.exports.clone(o);delete ne.image,l(ne),m.openSnackbar({duration:3e3,text:t("snackbarMessage.uploadImageSuccess"),type:"success"})},fail:M=>{console.log(M),m.openSnackbar({duration:3e3,text:t("snackbarMessage.uploadImageFail"),type:"error"})}})}}),F=v=>y(void 0,null,function*(){const M=yield er(v);if(M==null?void 0:M.error)console.error("Error fetching product details:",M.error),m.openSnackbar({duration:3e3,text:t("snackbarMessage.fetchProductDetailFail"),type:"error"});else{console.log("Product details:",M),c({name:M.name,describe:M.describe,price:He(M.price),selectedStore:M.store_uuid,selectedCategories:M.categories.map(K=>K.uuid)||[]}),M.status=="not_show"?x(!1):x(!0);const L=M.images.map((K,ae)=>({src:K.url,alt:`img ${M.images.length+ae+1}`,key:`${M.images.length+ae+1}`})),Z=M.images.map(K=>K.uuid);k([..._,...L]),D([...d,...Z])}}),me=()=>{let v=!0;const M={};return n.name||(v=!1,M.name=t("productManagement.createProduct.messageErrorProductName")),n.describe||(v=!1,M.describe=t("productManagement.createProduct.messageErrorProductDescription")),n.price||(v=!1,M.price=t("productManagement.createProduct.messageErrorProductPrice")),_.length||(v=!1,M.image=t("productManagement.createProduct.messageErrorProductImage")),n.selectedCategories.length||(v=!1,M.selectedCategories=t("productManagement.createProduct.messageErrorProductCategory")),l(M),v},j=()=>{!me()||(s&&s!=="null"?Se():de())},de=()=>y(void 0,null,function*(){const v=ve(),M=yield Jn(v);(M==null?void 0:M.error)?(console.error("Error:",M.error),m.openSnackbar({duration:3e3,text:typeof M.error=="string"?M.error:t("snackbarMessage.productCreateFail"),type:"error"})):(console.log("Product created:",M),m.openSnackbar({duration:3e3,text:t("snackbarMessage.productCreateSuccess"),type:"success"}),S(-1))}),Se=()=>y(void 0,null,function*(){let v=ve();v.product.uuid=s;const M=yield Xn(v);(M==null?void 0:M.error)?(console.error("Error:",M.error),m.openSnackbar({duration:3e3,text:typeof M.error=="string"?M.error:t("snackbarMessage.productUpdateFail"),type:"error"})):(console.log("updated:",M),m.openSnackbar({duration:3e3,text:t("snackbarMessage.productUpdateSuccess"),type:"success"}),S(-1))}),ve=()=>({product:{cat_uuids:n.selectedCategories,store_uuid:r,name:n.name,describe:n.describe,status:E?"show_now":"not_show",price:parseInt(n.price.replace(/\D/g,""),10),image_uuids:d}}),ye=()=>y(void 0,null,function*(){const v=yield wt(r);(v==null?void 0:v.error)?(console.error("Error:",v.error),m.openSnackbar({duration:3e3,text:t("snackbarMessage.getCatFail"),type:"countdown"})):f(v)});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(a,null,e.createElement(ue,{id:"name",label:t("productManagement.createProduct.productName"),type:"text",placeholder:t("productManagement.createProduct.productNameEnter"),value:n==null?void 0:n.name,onChange:v=>I("name",v.target.value),errorText:(o==null?void 0:o.name)||"",status:(o==null?void 0:o.name)?"error":"",showCount:!0,maxLength:20}),e.createElement(ue.TextArea,{id:"describe",label:t("productManagement.createProduct.productDescription"),type:"textarea",placeholder:t("productManagement.createProduct.productDescriptionEnter"),value:n==null?void 0:n.describe,onChange:v=>I("describe",v.target.value),showCount:!0,errorText:(o==null?void 0:o.describe)||"",status:(o==null?void 0:o.describe)?"error":"",maxLength:250}),e.createElement(ue,{id:"price",label:t("productManagement.createProduct.productPrice"),type:"text",placeholder:t("productManagement.createProduct.productPriceEnter"),value:n==null?void 0:n.price,onChange:v=>I("price",v.target.value),errorText:(o==null?void 0:o.price)||"",status:(o==null?void 0:o.price)?"error":""}),e.createElement(a,{mt:6},e.createElement(xe,{id:"category",label:t("productManagement.createProduct.category"),helperText:t("productManagement.createProduct.categoryInfo"),placeholder:t("productManagement.createProduct.categorySelect"),multiple:!0,value:n.selectedCategories,onChange:v=>I("selectedCategories",v),errorText:(o==null?void 0:o.selectedCategories)||"",status:(o==null?void 0:o.selectedCategories)?"error":""},u.map(v=>e.createElement(Or,{key:v.uuid,value:v.uuid,title:v.name}))))),e.createElement(a,{mt:2},e.createElement(a,{flex:!0,flexDirection:"row",flexWrap:"nowrap"},_.map((v,M)=>e.createElement(a,{mr:1,key:M,style:{position:"relative",width:"68px",height:"69px",borderRadius:"8px",overflow:"hidden"}},e.createElement("img",{style:{width:"100%",height:"100%",objectFit:"cover"},role:"presentation",onClick:()=>{P(M),B(!0)},src:v.src,alt:v.alt}),e.createElement("div",{style:{position:"absolute",top:"3px",right:"3px",background:"red",cursor:"pointer",borderRadius:"15px",color:"beige",width:"22px",height:"22px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>R(M)},"X")))),e.createElement(Ia,{onClose:()=>B(!1),activeIndex:z,images:_,visible:C})),e.createElement(a,{mt:6},e.createElement(q,{fullWidth:!0,variant:"primary",onClick:J},e.createElement(ce,{icon:"zi-camera"})," ",t("productManagement.createProduct.uploadImage")),o.image&&e.createElement(a,{flex:!0,alignItems:"center",className:"zaui-input-helper-text zaui-input-helper-text-has-error",mt:1},e.createElement(ce,{icon:"zi-warning-solid",size:16,className:"zaui-input-helper-text-icon"})," ",o.image)),e.createElement(a,{mt:6},e.createElement(a,null,e.createElement(gt,{checked:E,label:t("productManagement.createProduct.display"),onChange:U}))),e.createElement(a,{mt:4},e.createElement(q,{fullWidth:!0,variant:"primary",onClick:j},t("productManagement.createProduct.submit"))))))},ut=(t,r)=>{const s=new Date,n=new Date(t),c=s-n,o=Math.floor(c/1e3),l=Math.floor(o/60),m=Math.floor(l/60),h=Math.floor(m/24);return h>0?`${h}d ${r("orderManagement.ago")}`:m>0?`${m}h ${r("orderManagement.ago")}`:l>0?`${l}m ${r("orderManagement.ago")}`:`${o}s ${r("orderManagement.ago")}`},Ar=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=i.exports.useState([]),c=le(),[o,l]=$(ie),[m,h]=$(ke),[p,b]=$(_e);Ee(),i.exports.useEffect(()=>{b(T(N({},p),{isLoading:!0})),u()},[r]);const u=()=>y(void 0,null,function*(){const S=yield fr(r);(S==null?void 0:S.error)?(b(T(N({},p),{isLoading:!1})),console.error("Error fetching ai requests:",S.error)):(b(T(N({},p),{isLoading:!1})),n(S))}),f=()=>y(void 0,null,function*(){if(o.login&&o.authToken){const S=yield Ue();h({ai_requests_count:m.ai_requests_count+1}),yt({type:"photo",serverUploadUrl:`${S}/v1/product/automenu/${m.uuid}/${o.uuid}`,success:E=>{const x=JSON.parse(E.data);console.log(x),c.openSnackbar({duration:3e3,text:x.message,type:"success"}),u()},fail:E=>{console.log(E),c.openSnackbar({duration:3e3,text:E.message,type:"error"}),u()}})}});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container",style:{backgroundColor:"#f3f3f3"}},e.createElement(a,null,e.createElement(a,{textAlign:"center"},e.createElement(g,{size:"xLarge"},t("productManagement.scanMenu.title")),e.createElement(g,null,t("productManagement.scanMenu.description")),e.createElement(g,null,t("productManagement.scanMenu.current_count"),":"," ",m.ai_requests_count,"/5")),e.createElement(a,{mt:6},m.ai_requests_count>4?e.createElement(a,{textAlign:"center"},e.createElement(g,{className:"red-color",size:"xLarge"},t("productManagement.scanMenu.over_limit"))):e.createElement(q,{fullWidth:!0,variant:"primary",onClick:f},e.createElement(ce,{icon:"zi-camera"})," ",t("productManagement.createProduct.uploadImage")),e.createElement(pe,{style:{marginTop:"10px"}},e.createElement(a,{flex:!0,textAlign:"center"},e.createElement(g,{size:"xLarge",style:{flex:1}},t("productManagement.scanMenu.status")),e.createElement(g,{size:"xLarge",style:{flex:1}},t("productManagement.scanMenu.request_date"))),s.map(S=>e.createElement(a,{flex:!0,textAlign:"center",style:{backgroundColor:"#fff",margin:"10px"},key:S.created_at},e.createElement(g,{size:"xLarge",style:{flex:1}},S.status),e.createElement(g,{size:"xLarge",style:{flex:1}},ut(S.created_at,t)))))))))},{OtpGroup:Eo,Option:zr}=xe,Fr=()=>{const{t}=Q("global"),[r,s]=$(bn),{store_uuid:n,category_uuid:c}=be(),[o,l]=e.useState(N({},r));oe(ie);const m=oe(Fe),h=le(),p=Ee(),b=(E,x)=>{l(T(N({},o),{[E]:x}))};i.exports.useEffect(()=>{c&&f(c)},[]);const u=()=>{console.log(`form.store_uuid: ${o.store_uuid} | form.name: ${o.name}`),o.uuid&&S(o.uuid,o.name)},f=E=>y(void 0,null,function*(){const x=yield Wn(E);(x==null?void 0:x.error)?(console.error("Error fetching category details:",x.error),h.openSnackbar({duration:3e3,text:t("snackbarMessage.fetchProductDetailFail"),type:"error"})):l({name:x.name,describe:x.describe,store_uuid:x.store_uuid,uuid:x.uuid})}),S=()=>y(void 0,null,function*(){let E={category:{name:o.name,store_uuid:o.store_uuid,uuid:c}};const x=yield Gn(E);(x==null?void 0:x.error)?(console.error("Error update category",x.error),h.openSnackbar({duration:3e3,text:typeof x.error=="string"?x.error:t("snackbarMessage.updateCatFail"),type:"error"})):(l(_=>T(N({},_),{name:x.name,describe:x.describe,store_uuid:x.store_uuid,uuid:x.uuid})),h.openSnackbar({duration:3e3,text:t("snackbarMessage.updateCatSuccess"),type:"success"}),p(-1))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(ue,{id:"name",label:t("categoryManagement.categoryName"),type:"text",placeholder:t("categoryManagement.categoryName"),value:o==null?void 0:o.name,onChange:E=>b("name",E.target.value),showCount:!0,maxLength:20}),e.createElement(xe,{id:"store_uuid",label:t("categoryManagement.store"),closeOnSelect:!0,value:n,disabled:!0},m.stores.map(E=>e.createElement(zr,{title:E.name,key:E.uuid,value:E.uuid}))),e.createElement(a,{mt:4},e.createElement(q,{fullWidth:!0,variant:"primary",onClick:u},t("categoryManagement.update"))))))},Br=({store_uuid:t,onCategoryAdded:r})=>{const{t:s}=Q("global"),[n,c]=i.exports.useState(""),o=le(),l=()=>y(void 0,null,function*(){if(n){const h=yield Yn({category:{store_uuid:t,name:n}});console.log("Data",h),(h==null?void 0:h.error)?(console.error("Error adding table:",h.error),o.openSnackbar({duration:3e3,text:typeof h.error=="string"?h.error:s("snackbarMessage.addCatFail"),type:"error"})):(r(),c(""),o.openSnackbar({duration:3e3,text:s("snackbarMessage.addCatSuccess"),type:"success"}))}else o.openSnackbar({duration:1e4,text:s("snackbarMessage.catNameEmpty"),type:"countdown"})});return e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement(ue,{type:"text",value:n,onChange:m=>c(m.target.value),placeholder:s("categoryManagement.categoryNameEnter"),style:{marginRight:"10px"},showCount:!0,maxLength:20}),e.createElement(q,{onClick:l,prefixIcon:e.createElement(Ve,null)},s("categoryManagement.category")))};const Vr=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=i.exports.useState([]);oe(ie);const c=le(),o=Ee(),[l,m]=$(_e),[h,p]=$(Fe),[b,u]=i.exports.useState(!1),[f,S]=i.exports.useState(null),E=()=>{x(),p({is_update:!1,stores:[...h.stores]})};i.exports.useEffect(()=>{m(T(N({},l),{isLoading:!0})),x()},[r]);const x=()=>y(void 0,null,function*(){const C=yield wt(r);(C==null?void 0:C.error)?(console.error("Error:",C.error),m(T(N({},l),{isLoading:!1})),c.openSnackbar({duration:1e4,text:t("snackbarMessage.getCatFail"),type:"countdown"})):(n(C.sort((B,z)=>B.index-z.index)),m(T(N({},l),{isLoading:!1})))}),_=C=>{console.log(`catUUID: ${C}`),o(`/admin/category/form/${r}/${C}`)},k=()=>y(void 0,null,function*(){u(!1);const C=yield Kn({category:{store_uuid:r,uuid:f==null?void 0:f.uuid}});(C==null?void 0:C.error)?c.openSnackbar({duration:3e3,text:typeof C.error=="string"?C.error:t("snackbarMessage.deleteFail"),type:"error"}):(x(),c.openSnackbar({duration:3e3,text:t("snackbarMessage.deleteSuccess"),type:"success"}))}),d=(C,B,z)=>{const P=Array.from(C),[I]=P.splice(B,1);return P.splice(z,0,I),P},D=C=>y(void 0,null,function*(){const B=d(s,C.source.index,C.destination.index);n([...B]);const z=yield Zn({store_uuid:r,cat_uuids:[...B.map(P=>P.uuid)]});if(!(z==null?void 0:z.error))c.openSnackbar({duration:3e3,text:t("snackbarMessage.updateCatSuccess"),type:"success"});else{const P=d(s,C.destination.index,C.source.index);n([...P]),c.openSnackbar({duration:3e3,text:z.error,type:"error"})}});return e.createElement(se,{className:"section-container"},e.createElement(Br,{store_uuid:r,onCategoryAdded:E}),e.createElement(Je,{isShowModal:b,setIsShowModal:u,itemDelete:f==null?void 0:f.name,onConfirm:()=>k()}),e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"center",mt:2},e.createElement(Oa,{style:{fontSize:"20px"}}),e.createElement(g,{className:"txtDragDrop"},t("categoryManagement.dragDrop"))),e.createElement(Aa,{onDragEnd:D},e.createElement(za,{droppableId:"droppable"},(C,B)=>e.createElement("div",T(N({},C.droppableProps),{ref:C.innerRef}),s.map((z,P)=>e.createElement(Fa,{draggableId:z.uuid,index:P,key:z.uuid},(I,U)=>e.createElement("div",T(N(N({key:P,ref:I.innerRef},I.draggableProps),I.dragHandleProps),{className:"category-card-container",onClick:()=>_(z.uuid)}),e.createElement("img",{className:"category-img",src:ga}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(g,{size:"xLarge",bold:!0,style:{marginLeft:"10px"}},z.name))),e.createElement(q,{icon:e.createElement(ft,null),className:"delete-icon",onClick:R=>{R.stopPropagation(),S(z),u(!0)}})))),C.placeholder))))},$r=({store_uuid:t,onTableAdded:r})=>{const{t:s}=Q("global"),[n,c]=i.exports.useState(""),o=le(),[l,m]=i.exports.useState(""),h=b=>/[^\p{L}\p{M}\p{N}\s]/u.test(b),p=()=>y(void 0,null,function*(){if(h(n)){m(s("snackbarMessage.addTableFailDueToError")),o.openSnackbar({duration:3e3,text:s("snackbarMessage.addTableFailDueToError"),type:"error"});return}const u=yield ar({store_uuid:t,tables:[{name:n}]});(u==null?void 0:u.error)?(console.error("Error adding table:",u.error),o.openSnackbar({duration:3e3,text:typeof u.error=="string"?u.error:s("snackbarMessage.addTableFail"),type:"error"})):(r(),c(""),o.openSnackbar({duration:3e3,text:s("snackbarMessage.addTableSuccess"),type:"success"}))});return e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement(ue,{type:"text",value:n,onChange:b=>c(b.target.value),placeholder:s("tableManagement.enterTableName"),style:{marginRight:"10px"},showCount:!0,maxLength:10}),e.createElement(q,{onClick:p,prefixIcon:e.createElement(Ve,null)},s("tableManagement.table")))};var Ea="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/web-icon-full.a936eddd.png";const Rr=({value:t,title:r,handleSave:s})=>{const{t:n}=Q("global"),c=i.exports.useRef();return e.createElement(a,{className:"qr-code-container"},e.createElement(a,{className:"qr-code-content",mb:3,ref:c},e.createElement(a,{className:"top-qr-container"},e.createElement(a,{style:{padding:"14px 38px",paddingBottom:"8px",height:"223px"}},e.createElement(a,{style:{marginBottom:"4px"}},e.createElement(g,{className:"scan-qr-title"},n("tableManagement.scanQrTable")),e.createElement(g,{className:"qr-code-menu"},n("tableManagement.menu"))),e.createElement(a,{className:"qr-container"},e.createElement(Vt,{value:t,renderAs:"svg",imageSettings:{src:Ze,height:24,width:24,excavate:!0}}))),e.createElement(a,{className:"list-sub-item-container"},e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(et,{style:{fontSize:"20px"}})),n("tableManagement.scanQr")),e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement($t,{style:{fontSize:"20px"}})),n("tableManagement.viewMenu")),e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(Rt,{style:{fontSize:"20px"}})),n("tableManagement.order")))),e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"flex-end",className:"bottom-qr-container",style:{paddingRight:"5px"}},e.createElement(a,{className:"txt-table-name"},e.createElement(a,{className:"table-name-container"},e.createElement("span",{style:{whiteSpace:"nowrap"}},r))),e.createElement(a,{className:"img-app-icon-container"},e.createElement("img",{src:Ea,className:"img-app-icon"})))),e.createElement(q,{onClick:()=>s(c)},n("button.save")))};const Ur=({handleSave:t,listItems:r})=>{const{t:s}=Q("global"),n=i.exports.useRef();return e.createElement(e.Fragment,null,e.createElement(a,{className:"qr-code-container",style:{position:"fixed",right:"-999px"}},e.createElement(a,{ref:n,mb:3,className:"multi-qr-container"},r.map(c=>e.createElement(a,{className:"qr-code-content"},e.createElement(a,{className:"top-qr-container"},e.createElement(a,{style:{padding:"14px 38px",paddingBottom:"8px",height:"223px"}},e.createElement(a,{style:{marginBottom:"4px"}},e.createElement(g,{className:"scan-qr-title"},s("tableManagement.scanQrTable")),e.createElement(g,{className:"qr-code-menu"},s("tableManagement.menu"))),e.createElement(a,{className:"qr-container"},e.createElement(Vt,{value:c.link,renderAs:"svg",imageSettings:{src:Ze,height:24,width:24,excavate:!0}}))),e.createElement(a,{className:"list-sub-item-container"},e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(et,{style:{fontSize:"20px"}})),s("tableManagement.scanQr")),e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement($t,{style:{fontSize:"20px"}})),s("tableManagement.viewMenu")),e.createElement(a,{className:"sub-item-container"},e.createElement(a,{className:"sub-item-qr"},e.createElement(Rt,{style:{fontSize:"20px"}})),s("tableManagement.order")))),e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"flex-end",className:"bottom-qr-container",style:{paddingRight:"5px"}},e.createElement(a,{className:"txt-table-name"},e.createElement(a,{className:"table-name-container"},e.createElement("span",{style:{whiteSpace:"nowrap"}},c.name.toUpperCase()))),e.createElement(a,{className:"img-app-icon-container"},e.createElement("img",{src:Ea,className:"img-app-icon"}))))))),e.createElement(a,{className:"btn-save"},e.createElement(q,{prefixIcon:e.createElement(Ut,null),style:{margin:"8px 0",width:"100%"},onClick:()=>t(n)},s("tableManagement.saveAllQr"))))},qr=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=bt(),c=s.get("tenant_id"),o=Ee(),[l,m]=i.exports.useState([]);oe(ie);const[h,p]=i.exports.useState(null),[b,u]=$(_e),[f,S]=$(Fe),E=le(),[x,_]=$(Ye),k=()=>{d(),S({is_update:!1,stores:[...f.stores]})};i.exports.useEffect(()=>{u(T(N({},b),{isLoading:!0})),d()},[r]);const d=()=>y(void 0,null,function*(){const P=yield Mt(r);if(P==null?void 0:P.error)u(T(N({},b),{isLoading:!1})),console.error("Error fetching tables:",P.error);else{const I=P.map(U=>T(N({},U),{link:D(U.uuid)}));m(I),u(T(N({},b),{isLoading:!1}))}}),D=P=>`https://zalo.me/s/${Dn}/menu/${r}/${P}?tenant_id=${c}&tableId=${P}&storeId=${r}`,C=(P,I)=>{o({pathname:`/admin/table/form/${r}/${P}`,search:`?table_name=${I}`})},B=P=>y(void 0,null,function*(){_(!0),P.current.style.fontFamily="Montserrat";const I=yield Ba(P.current,{scale:3});z(I)}),z=P=>y(void 0,null,function*(){try{yield Va({imageBase64Data:P}),_(!1),E.openSnackbar({duration:3e3,text:t("tableManagement.saveQrNoti"),type:"success"})}catch(I){_(!1),console.log(I),E.openSnackbar({duration:3e3,text:t("tableManagement.saveQrFail"),type:"error"})}});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement($r,{store_uuid:r,onTableAdded:k}),e.createElement(pe,{style:{marginBottom:"60px"}},l.map((P,I)=>e.createElement(a,{key:I},e.createElement(a,{className:"table-card-container",onClick:()=>C(P.uuid,P.name)},e.createElement("img",{className:"table-img",src:pa}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(g,{size:"xLarge",bold:!0,style:{marginLeft:"10px"}},P.name))),e.createElement(q,{icon:e.createElement(Ut,null),className:"qr-icon",onClick:U=>{U.stopPropagation(),p(h===P.uuid?"":P.uuid)}})),e.createElement(a,null,h===P.uuid&&e.createElement(Rr,{value:P.link,title:P.name.toUpperCase(),handleSave:B}))))),(l==null?void 0:l.length)>0&&e.createElement(Ur,{listItems:l,handleSave:B})))},Hr=({isAdmin:t=!1,dishItem:r,onDetails:s,onOrder:n})=>{var h,p;const[c,o]=$(rt),l=c.find(b=>b.uuid===r.uuid),m=b=>{switch(b){case"increase":o(c.map(u=>u.uuid===l.uuid?T(N({},u),{quantity:u.quantity+1}):u));break;case"decrease":o(c.map(u=>u.uuid===l.uuid?u.quantity<=1?void 0:T(N({},u),{quantity:u.quantity-1}):u).filter(Boolean));break}};return e.createElement(a,{flex:!0,style:{padding:"15px 0",justifyContent:"space-between",alignItems:"center",borderRadius:"8px",position:"relative"},onClick:()=>{s(r)}},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(a,{mr:5,flex:!0,alignItems:"center"},e.createElement("img",{src:((p=(h=r.images)==null?void 0:h[0])==null?void 0:p.url)||Re,alt:"dish item",style:{borderRadius:"12px",width:"80px",height:"80px"}})),e.createElement(a,null,e.createElement(g,{size:"large",bold:!0},r.name),e.createElement(g,{className:"red-color caption-text",bold:!0},"\u20AB",ee(r.price)))),e.createElement(a,{flex:!0,onClick:b=>{b.stopPropagation()},style:{position:"absolute",right:0,bottom:"5px"}},t||l?e.createElement(a,{flex:!0,style:{gap:"6px"}},e.createElement(ce,{icon:"zi-minus-circle",className:"red-color",style:{fontSize:"32px"},onClick:()=>{m("decrease")}}),e.createElement(g,{size:"xLarge",style:{marginTop:"3px"}},l.quantity),e.createElement(ce,{icon:"zi-plus-circle-solid",className:"red-color",style:{fontSize:"32px"},onClick:()=>{m("increase")}})):e.createElement(ce,{icon:"zi-plus-circle-solid",className:"red-color",style:{fontSize:"32px"},onClick:b=>{n(r)}})))},jr=({dishMenu:t,onDetails:r,onOrder:s})=>e.createElement(a,null,t.map((n,c)=>e.createElement(a,{key:n.uuid},e.createElement(Hr,{dishItem:n,onDetails:r,onOrder:s}),t.length>c+1?e.createElement(a,{style:{width:"100%",height:"0.5px",backgroundColor:"#e9ebed"}}):e.createElement(a,{style:{width:"100%",height:"15px"}}))));Pt.propTypes={isShow:ze.bool,isAdmin:ze.bool,product:ze.object,onClose:ze.func,onSubmit:ze.func,onPayment:ze.func};function Pt({isShow:t,isAdmin:r=!1,product:s,onClose:n,onSubmit:c,onPayment:o}){var b,u,f,S;const{t:l}=Q("global"),[m,h]=i.exports.useState(1),p=()=>{h(1)};return i.exports.useEffect(()=>{if(!t){p();return}h((s==null?void 0:s.quantity)||1)},[t]),e.createElement(mt,{visible:t,onClose:n,mask:!0,swipeToClose:!0,handler:!0,autoHeight:!0,className:"dish-order"},e.createElement(g.Title,{size:"xLarge",className:"header-title"},l(r?"orderManagement.updateDish":"menu.addNewDish")),e.createElement(a,{flex:!0,p:7},e.createElement(a,{width:"25%",mr:7},e.createElement("img",{src:r?(u=(b=s.product_images)==null?void 0:b[0])==null?void 0:u.url:(S=(f=s.images)==null?void 0:f[0])==null?void 0:S.url,alt:"product img",style:{borderRadius:"12px",width:"100px",height:"100px"}})),e.createElement(a,{flex:!0,flexDirection:"column",justifyContent:"center"},e.createElement(a,{mb:1},e.createElement(g,{size:"xLarge",bold:!0},s.name)),e.createElement(g,{size:"large",bold:!0,className:"red-color"},"\u20AB",ee(r?s.unit_price:s.price)))),e.createElement("hr",null),e.createElement(a,null,e.createElement(g,{className:"title bg-gray"},l("menu.quantity")),e.createElement(a,{flex:!0,justifyContent:"center",textAlign:"center",py:5},e.createElement(a,{className:"fs-24",pr:6},e.createElement(ce,{icon:"zi-minus-circle",style:{pointerEvents:m?"visible":"none",color:m?"#141415":"grey",fontSize:"32px"},onClick:()=>{h(m-1)}})),e.createElement(a,{className:"fs-24",style:{marginTop:"6px"}},m),e.createElement(a,{className:"fs-24",pl:6},e.createElement(ce,{icon:"zi-plus-circle",style:{fontSize:"32px"},onClick:()=>{h(m+1)}})))),e.createElement(a,null,e.createElement(a,{className:"box-summary"}),e.createElement(a,{flex:!0,justifyContent:"space-between",px:6,py:4},e.createElement(g,{className:"title",style:{padding:0}},l("menu.total")),e.createElement(g,{size:"xLarge",bold:!0,className:"red-color"},ee(r?s.unit_price*m:s.price*m)," ","VN\u0110"))),e.createElement(a,{flex:!0,justifyContent:"space-around",p:4,className:"submit-section"},r?e.createElement(q,{onClick:()=>{c(T(N({},s),{quantity:m})),n()},style:{width:"100%"}},l("orderManagement.updateDish")):e.createElement(e.Fragment,null,e.createElement(q,{onClick:()=>{c(T(N({},s),{quantity:m})),n()},style:{width:"100%"}},l("menu.addToOrder")))))}const Qr=({isShow:t,onClose:r})=>{const{t:s}=Q("global"),n=le(),c=Ee(),{Option:o}=xe;oe(ie);const l=oe(_t),[m,h]=$(nt),[p,b]=$(rt),[u,f]=$(Nt),[S,E]=i.exports.useState(""),[x,_]=i.exports.useState(""),[k,d]=i.exports.useState(""),[D,C]=$(Ye),B=i.exports.useMemo(()=>ge.exports.sum(p.map(I=>I.price*I.quantity)),[p]),z=()=>{d("")},P=()=>y(void 0,null,function*(){C(!0);const I={products:p.map(({uuid:R,quantity:J})=>({uuid:R,quantity:J})),table_uuid:l.uuid||S,notes:k},U=yield rr(I);(U==null?void 0:U.error)?n.openSnackbar({duration:3e3,text:U.error,type:"error"}):(r(),b([]),u.is_update&&f({is_update:!0,orders:[...u.orders,U]}),n.openSnackbar({duration:3e3,text:s("snackbarMessage.createOrderSuccess"),type:"success"}),S&&c(-1)),C(!1)});return i.exports.useEffect(()=>{t||z()},[t]),e.createElement(Ae,{visible:t,onClose:r,className:"order-submit-modal"},e.createElement(a,{className:"header",flex:!0,justifyContent:"space-between",alignItems:"center"},e.createElement(a,{onClick:r,className:"back-icon"},e.createElement(ce,{style:{fontSize:"36px"},icon:"zi-chevron-left",className:"grey-color"})),e.createElement(g,{className:"fs-22"},s("menu.order")),e.createElement(a,{mr:6})),e.createElement(a,{className:"main"},e.createElement(a,{className:"order-list"},p.map(I=>{var U,R;return e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",mb:3,key:I.uuid},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(a,{mr:3,flex:!0,alignItems:"center"},e.createElement("img",{src:((R=(U=I.images)==null?void 0:U[0])==null?void 0:R.url)||Re,alt:"dish img",style:{width:"80px",height:"80px"}})),e.createElement(a,null,e.createElement(g,{size:"large"},I.quantity,"x ",e.createElement("span",{className:"fw-500"},I.name)))),e.createElement(a,{flex:!0,justifyContent:"flex-end",width:"80px"},ee(I.price),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB")))})),e.createElement(a,{className:"total-bill",flex:!0,justifyContent:"flex-end"},e.createElement(g,{size:"xLarge",bold:!0},ee(B),e.createElement("span",{style:{paddingLeft:"3px"}},"\u20AB"))),!l.uuid&&e.createElement(a,{p:3,mt:3},e.createElement(xe,{id:"table-select",placeholder:s("orderManagement.selectTable"),errorText:s("orderManagement.tableMustSelect"),onChange:I=>{E(I),_("")},status:x,closeOnSelect:!0},m.tables.map((I,U)=>e.createElement(o,{key:I.uuid,value:I.uuid,title:I.name})))),e.createElement(a,{p:3,style:{paddingTop:0}},e.createElement(ue,{placeholder:s("orderManagement.orderDetail.notePlaceholder"),value:k,onChange:I=>d(I.target.value)}))),e.createElement(a,{className:"footer shadow-bottom"},e.createElement(q,{onClick:P,disabled:!l.uuid&&!S},s("menu.submitOrder"),": ",ee(B),"\u20AB")))};function Gr({isShow:t,onClose:r,onSubmit:s,dish:n}){var h;const{t:c}=Q("global"),[o,l]=i.exports.useState(1);i.exports.useEffect(()=>{!t||l((n==null?void 0:n.quantity)||1)},[t]);const m=()=>{l(1)};return e.createElement(Ae,{visible:t,onClose:r,className:"dish-details-modal"},e.createElement(a,{className:"container"},e.createElement(a,{className:"header",flex:!0,justifyContent:"center"},e.createElement(a,{width:"100%",height:"100%",style:{overflow:"hidden"}},(n==null?void 0:n.images)&&e.createElement(qt,{style:{height:"100%"}},(h=n==null?void 0:n.images)==null?void 0:h.map(p=>e.createElement(qt.Slide,{key:p.uuid,style:{height:"100%"}},e.createElement("img",{style:{verticalAlign:"center"},src:p==null?void 0:p.url,alt:"dish img"}))))),e.createElement(a,{onClick:r,className:"close-btn"},e.createElement(ce,{icon:"zi-chevron-left",className:"close-icon"}))),e.createElement(a,{className:"dish-info",mt:3},e.createElement(a,{mb:3},e.createElement(g,{style:{fontSize:"23px"},bold:!0},n.name)),e.createElement(g,{style:{fontSize:"15px",padding:"10px 0"}},n.describe),e.createElement(g,{size:"xLarge",bold:!0,className:"txt-price"},ee(n.price)," \u20AB")),e.createElement(a,{className:"divider"}),e.createElement(a,{flex:!0,className:"footer shadow-bottom"},e.createElement(a,{className:"num-order",flex:!0},e.createElement(a,{className:"fs-24",pr:3},e.createElement(ce,{icon:"zi-minus-circle",style:{pointerEvents:o?"visible":"none",color:o?"#141415":"grey"},onClick:()=>{l(o-1)}})),e.createElement(a,{className:"fs-24",style:{marginTop:"2px"}},o),e.createElement(a,{className:"fs-24",px:3},e.createElement(ce,{icon:"zi-plus-circle",onClick:()=>{l(o+1)}}))),e.createElement(q,{onClick:()=>{s(T(N({},n),{quantity:o})),r(),m()}},c("menu.addToOrder")," - ",ee(n.price*o),"\u20AB"))))}var Dt="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/store-background.6cbe2900.png";const Yr=({storeData:t,onDetail:r})=>{var c,o;const[s,n]=i.exports.useState();return i.exports.useEffect(()=>{try{n(JSON.parse(t==null?void 0:t.metadata))}catch(l){}},[t]),e.createElement(a,{flex:!0,justifyContent:"flex-start",alignItems:"center",style:{margin:"10px",boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.2)",width:"fit-content",padding:"5px 10px",borderRadius:"8px",maxWidth:"70%"},onClick:r},e.createElement(a,{flex:!0,justifyContent:"center",alignItems:"center",style:{borderRadius:"8px",marginRight:"10px"}},e.createElement("img",{style:((c=s==null?void 0:s.avatar)==null?void 0:c.url)?{}:{filter:"grayscale(1) opacity(0.5)"},className:"img-avatar-store",src:((o=s==null?void 0:s.avatar)==null?void 0:o.url)||Dt,alt:"dish item"})),e.createElement(a,null,e.createElement(g,{size:"large",bold:!0},t.name)))};function Wr({storeData:t,isShow:r,onClose:s}){var p,b,u;const[n,c]=i.exports.useState({}),[o,l]=i.exports.useState(!1);i.exports.useEffect(()=>{if(!!t)try{c(JSON.parse(t==null?void 0:t.metadata))}catch(f){}},[t]);const m=f=>{navigator.clipboard.writeText(f),l(!0),setTimeout(()=>l(!1),2e3)},{t:h}=Q("global");return e.createElement(Ae,{visible:r,onClose:s,className:"dish-details-modal"},e.createElement(a,{className:"container"},e.createElement(a,{onClick:s,className:"close-btn"},e.createElement(ce,{icon:"zi-chevron-left",className:"close-icon"})),e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"center",flexDirection:"column",style:{padding:"30px 0",backgroundColor:"#f1f1f1"}},e.createElement(a,null,e.createElement("img",{className:"img-store",style:((p=n==null?void 0:n.avatar)==null?void 0:p.url)?{}:{filter:"grayscale(1) opacity(0.5)"},src:((b=n==null?void 0:n.avatar)==null?void 0:b.url)?(u=n==null?void 0:n.avatar)==null?void 0:u.url:Dt})),e.createElement(a,{flex:!0,flexDirection:"row",alignItems:"center",mt:3},e.createElement(a,null,e.createElement(g,{style:{fontSize:"21px"},bold:!0},t==null?void 0:t.name))),e.createElement(a,{mt:6,style:{padding:"0 20px"}},e.createElement(g,null,n==null?void 0:n.description))),e.createElement(a,null,e.createElement(pe,null,(n==null?void 0:n.address)&&e.createElement(pe.Item,{style:{marginBottom:"0"},title:h("menu.address"),subTitle:n==null?void 0:n.address}),(n==null?void 0:n.phoneNumber)&&e.createElement(pe.Item,{style:{marginBottom:"0"},title:h("menu.phoneNumber"),subTitle:e.createElement(a,{flex:!0,alignItems:"center"},e.createElement("a",{style:{color:"#767a7f"},href:`tel:${n==null?void 0:n.phoneNumber}`},e.createElement(g,{flex:1},n==null?void 0:n.phoneNumber)))}),(n==null?void 0:n.bankName)&&e.createElement(pe.Item,{style:{marginBottom:"0"},title:h("menu.bankName"),subTitle:e.createElement(a,{flex:!0,alignItems:"center"},e.createElement("a",{style:{color:"#767a7f"},href:`tel:${n==null?void 0:n.bankName}`},e.createElement(g,{flex:1},n==null?void 0:n.bankName)))}),(n==null?void 0:n.bankAccount)&&e.createElement(pe.Item,{title:h("menu.bankAccount"),subTitle:e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(g,{flex:1},n==null?void 0:n.bankAccount),e.createElement("svg",{"data-v-465340bc":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 15",width:"12",height:"15",onClick:()=>m(n==null?void 0:n.bankAccount.split(" - ")[1]),style:{cursor:"pointer",marginLeft:"8px",fill:"#666"}},e.createElement("path",{d:"M7.313.188H3.11c-.386 0-.72.134-1.002.404-.28.27-.421.597-.421.984v.299h-.264c-.387 0-.72.135-1.002.404C.14 2.55 0 2.877 0 3.264v10.125c0 .386.14.72.422 1.002.281.28.615.421 1.002.421h7.312c.387 0 .715-.14.985-.421.27-.282.404-.616.404-1.002v-.264h.299c.386 0 .715-.14.984-.422.27-.281.405-.615.405-1.002V4.687l-4.5-4.5Zm0 1.564 2.935 2.936H7.313V1.752ZM9 13.389a.304.304 0 0 1-.08.21.242.242 0 0 1-.184.088H1.424a.288.288 0 0 1-.211-.087.288.288 0 0 1-.088-.211V3.264c0-.07.03-.132.088-.185A.304.304 0 0 1 1.423 3h.264v8.982c0 .387.094.674.282.862.187.187.474.281.861.281H9v.264Zm1.688-1.688a.305.305 0 0 1-.08.211.242.242 0 0 1-.184.088H3.11a.288.288 0 0 1-.21-.088.288.288 0 0 1-.088-.21V1.575c0-.07.029-.132.087-.184a.304.304 0 0 1 .211-.08h3.076v4.5h4.5v5.89Z"})),o&&e.createElement(g,{style:{color:"green",marginLeft:"8px"}},"Copied!"))})))))}const fa=t=>{const{t:r}=Q("global"),{store_uuid:s,table_uuid:n}=be(),[c,o]=bt(),l=c.get("tenant_id"),[m,h]=$(ke),[p,b]=$(_t),[u,f]=$(nt),[S,E]=$(yn),[x,_]=$(at),[k,d]=i.exports.useState(!1),[D,C]=i.exports.useState(!1),[B,z]=i.exports.useState(!1),[P,I]=i.exports.useState({}),[U,R]=i.exports.useState([]),[J,F]=$(rt),[me,j]=i.exports.useState(null),[de,Se]=i.exports.useState(!1),[ve,ye]=i.exports.useState({}),[v,M]=i.exports.useState(),[L,Z]=i.exports.useState(0),K=i.exports.useRef([]),ae=i.exports.useRef(null);i.exports.useEffect(()=>{if(!ae)return;const A=()=>{const w=ae.current;if(w){const H=new Event("scroll");w.dispatchEvent(H)}},V=()=>{const w=ae.current;if(w){const{scrollTop:H}=w;if(H===0)return;Object.keys(K).forEach(W=>{K[W].length!==0&&K[W].getBoundingClientRect().top<=500&&M(U[W].uuid)})}},te=ae.current;return te.addEventListener("touchmove",A),te.addEventListener("scroll",V),()=>{te.removeEventListener("touchmove",A),te.removeEventListener("scroll",V)}},[x]);const ne=A=>{const V=J.find(te=>te.uuid===A.uuid);if(!V){I(T(N({},A),{quantity:0}));return}I(V)},Ie=()=>y(void 0,null,function*(){const A=yield ra(s);j(A)}),we=i.exports.useMemo(()=>ge.exports.sum(J.map(({price:A,quantity:V})=>A*V)),[J]),Be=A=>{const V=J.find(te=>te.uuid===A.uuid);if(!(!A.quantity&&!V)){if(V){const te=A.quantity?A:"";F([...J.filter(w=>w.uuid!==A.uuid),te]);return}F([...J,A])}};i.exports.useEffect(()=>{var A;R([...S.categories.map(V=>N({},V))]),M((A=S.categories[0])==null?void 0:A.uuid)},[S]);const je=(A,V)=>{let te={};return A.forEach(w=>{te[w.name]=V.filter(H=>H.categories.find(W=>W.uuid===w.uuid))}),te};i.exports.useEffect(()=>{const A=je(S.categories,x.products);ye(A)},[x,S]);const Qe=A=>{const V=U.map(te=>te.uuid).indexOf(A);n||Z(40),K[V].scrollIntoView({behavior:"smooth",block:"start"})},O=A=>y(void 0,null,function*(){const V=yield wt(A);(V==null?void 0:V.error)?console.error("Error:",V.error):E({is_updated:!0,categories:V.sort((te,w)=>te.index-w.index)})}),G=A=>y(void 0,null,function*(){const V=yield Ke(A,!1);(V==null?void 0:V.error)?console.error("Error fetching products:",V.error):_({is_update:!0,products:[...V]})}),re=A=>y(void 0,null,function*(){const V=yield Mt(A);if(V==null?void 0:V.error)console.error("Error fetching products:",V.error);else if(f({is_update:!0,tables:V}),n){const te=V.find(w=>w.uuid===n);te&&b(te)}});return i.exports.useEffect(()=>{!s||(Ie(),l?Pe({data:{subdomain:l}}):(O(s),G(s),re(s)),h({uuid:s,subdomain:l}),S.categories.length||O(s),x.products.length||G(s),u.tables.length||re(s))},[s]),e.createElement(se,{className:"menu-page",ref:ae},e.createElement(a,{className:"top-menu-container"},n&&me&&e.createElement(a,null,e.createElement(Yr,{storeData:me,onDetail:()=>Se(!0)}),e.createElement(a,{flex:!0,flexDirection:"center",alignItems:"center",style:{paddingLeft:"10px",paddingBottom:"10px"}},e.createElement($a,null),e.createElement(g,{size:"xLarge",bold:!0,style:{paddingLeft:"5px"}},p.name)))),e.createElement(a,{className:"section-container",style:{marginBottom:ge.exports.isEmpty(J)?0:110,paddingTop:n?0:16}},e.createElement(a,{className:"menu-tabs-container"},e.createElement(Ra,{id:"menu-tabs",value:v,orientation:"vertical",variant:"scrollable",onChange:(A,V)=>Qe(V),sx:{width:"65px"}},!ge.exports.isEmpty(U)&&U.map(A=>e.createElement(Ua,{value:A.uuid,label:A.name,sx:{paddingLeft:"0px",alignItems:"flex-start",textAlign:"left",textTransform:"none",fontSize:"14px",minWidth:"60px"}})))),e.createElement(a,{style:{marginLeft:"80px",marginTop:n?100:L}},Object.keys(ve).map((A,V)=>e.createElement(a,null,e.createElement(a,{flex:!0,justifyContent:"space-between",mt:4,ref:te=>{K[V]=te},style:{scrollMargin:"100px"}},e.createElement(g,{size:"xLarge",bold:!0,className:"grey-color"},A)),e.createElement(jr,{dishMenu:ve[A],onDetails:te=>{d(!0),ne(te)},onOrder:te=>{C(!0),ne(te)}})))),!ge.exports.isEmpty(J)&&e.createElement(a,{className:"sticky-payment-container",style:{bottom:"48px"}},e.createElement(a,{className:"sticky-payment",flex:!0,justifyContent:"space-between"},e.createElement(g,{size:"Large",bold:!0},r("menu.order")),e.createElement(g,{size:"large"},J.length," ",r("menu.dish"),"\u30FB",ee(we))),e.createElement(a,{className:"sticky-payment-btn"},e.createElement(q,{onClick:()=>{z(!0)}},r("menu.finishOrder")))),e.createElement(Pt,{isShow:D,product:P,onClose:()=>{C(!1),I({})},onSubmit:Be,onPayment:A=>{Be(A),z(!0)}}),e.createElement(Gr,{isShow:k,dish:P,onClose:()=>{d(!1),I({})},onSubmit:Be}),e.createElement(Qr,{isShow:B,onClose:()=>{z(!1)}}),e.createElement(Wr,{storeData:me,isShow:de,onClose:()=>{Se(!1)}})))};Lt.propTypes={status:ze.string,onChange:ze.func};function Lt({status:t,onChange:r}){const{t:s}=Q("global"),[n,c]=i.exports.useState(t),[o,l]=i.exports.useState(!1);return e.createElement(a,{className:"order-status-container"},e.createElement(xe,{value:t,className:`status-${t}`,closeOnSelect:!0,mask:!0,onChange:m=>{c(m),l(!0)}},Object.keys(Y).map((m,h)=>e.createElement(Option,{key:h,value:Y[m],title:s("orderManagement.statusSelect."+Y[m])}))),e.createElement(Ae,{visible:o,mask:!0,onClose:()=>l(!1),className:"order-status-modal"},e.createElement(a,{className:"order-status-modal_icon"},e.createElement(ce,{icon:"zi-exclamation"})),e.createElement(a,{className:"order-status-modal_text"},s("orderManagement.confirmChangeStatus"),":",e.createElement(g,{className:`status-${n} new-status`},s("orderManagement.statusSelect."+n))),e.createElement(a,{flex:!0,justifyContent:"space-between",className:"order-status-modal_button"},e.createElement(q,{onClick:()=>{r(n),l(!1)}},s("button.confirm")),e.createElement(q,{variant:"secondary",onClick:()=>l(!1)},s("button.cancel")))))}const ya=()=>{const[t,r]=i.exports.useState(!1),[s,n]=i.exports.useState(!1),c=()=>{if(window.matchMedia("(max-width: 480px)").matches){r(!0),n(!1);return}r(!1),n(!0)};return i.exports.useEffect(()=>(c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}),[]),{isMobile:t,isTablet:s}},Kr=(t,r,s)=>{const n=new URL(Tn),{protocol:c,hostname:o,pathname:l}=n,m=c+s+"."+o+l;return qa(`${m}?auth_token=${t}&store_uuid=${r}`)},ba=({authToken:t,store_uuid:r})=>{const s=le(),n=oe(ke),{t:c}=Q("global"),[o,l]=$(Jt),[m,h]=$(Xt),[p,b]=i.exports.useState(),u=Ee(),f=k=>y(void 0,null,function*(){const d=yield ca(n.uuid,k);return(d==null?void 0:d.error)?(console.log("Error:",d==null?void 0:d.error),[]):d}),S=()=>y(void 0,null,function*(){yield Ha({milliseconds:5e3,success:k=>{},fail:k=>{console.log(k)}})}),E=(k,d)=>{u({pathname:`/admin/order-management/details/index/${k}/${d}`})},x=(k,d)=>y(void 0,null,function*(){const D=yield f(k.uuid);let C=ge.exports.clone(o.orders);switch(d){case"create":C.unshift(D);break;case"update":C=ge.exports.clone(o.orders).map(B=>B.uuid===D.uuid?D:B),h(D);break}l({is_update:!0,orders:C})}),_=()=>y(void 0,null,function*(){const k=yield na();!k||b(k)});return i.exports.useEffect(()=>{_()},[]),i.exports.useEffect(()=>{if(t&&r&&p&&o.is_update){console.log("ws connecting...");const k=Kr(t,r,p);console.log("ws connected to...");const d=k.subscriptions.create({channel:"UserNotificationChannel"},{received(D){console.log("Data received from ws:",D);let C="";const{type:B,message:z}=D;if(B===In.ORDER)switch(z.notification_type){case"create":C=`${c("websocket.new_order")}`,x(z,"create"),S();break;case"update":z.status==Y.WAIT_FOR_PAY?(C=`${c("websocket.wait_for_pay")} | ${c("websocket.value")}: ${ee(z.value)}\u20AB`,S()):C=`${c("websocket.update_order")}`,x(z,"update");break}s.openSnackbar({duration:3e4,text:e.createElement(a,null,e.createElement(a,null,"[",z.table.name,"]"),C),prefixIcon:e.createElement(ce,{icon:"zi-notif-ring",style:{color:"yellow"}}),type:"countdown",action:{text:c("websocket.view_detail"),close:!0,onClick:()=>E(z.uuid,z.store_uuid)},zIndex:7e3})}});return()=>{d.unsubscribe(),k.subscriptions.remove(d)}}},[t,r,p,o]),e.createElement("div",null)};function Zr(){const{t}=Q("global"),r=Ee(),s=le(),{store_uuid:n}=be(),{isMobile:c}=ya(),o={0:t("orderManagement.statusSelect."+Y.PENDING),50:t("orderManagement.statusSelect."+Y.WAIT_FOR_PAY),100:t("orderManagement.statusSelect."+Y.DONE)},l=oe(Fe),[m,h]=$(ke),[p,b]=$(Jt),[u,f]=$(nt),[S,E]=$(rt),[x,_]=$(_e),[k,d]=$(at),D=oe(ie),[C,B]=i.exports.useState(!0),[z,P]=i.exports.useState(!1),[I,U]=i.exports.useState({}),[R,J]=i.exports.useState({status:"all",date:null,search:""}),[F,me]=i.exports.useState(!1),[j,de]=i.exports.useState(1),[Se,ve]=i.exports.useState(!1),ye=i.exports.useRef(null),[v,M]=i.exports.useState(!1),L=(O,G)=>{J(re=>T(N({},re),{[O]:G}))},Z=()=>y(this,null,function*(){try{const G=(yield Te({keys:[We]}))[We];G!==void 0&&B(G)}catch(O){console.log("Error loading keepScreenOn setting:",O)}}),K=()=>y(this,null,function*(){try{yield Ft({keepScreenOn:C})}catch(O){console.log(O)}}),ae=i.exports.useMemo(()=>p.orders.length?p.orders.filter(O=>!u.tables.length||u.tables.find(G=>G.uuid===O.table_uuid).name.toLowerCase().includes(R.search.toLowerCase()))||[]:[],[p,R,u]),ne=(O,G)=>y(this,null,function*(){const re={status:G},A=yield ia(O.uuid,re);(A==null?void 0:A.error)&&(console.error("Error:",A.error),s.openSnackbar({duration:3e3,text:A.error,type:"error"}))}),Ie=O=>{r(`/admin/order-management/details/index/${O.uuid}/${O.store_uuid}`)},we=()=>y(this,null,function*(){const O={store_uuid:n,page:j,per_page:st,order_by:"desc"};R.date&&!F&&(O.date=Ht(R.date).format("YYYY-MM-DD")),R.status&&R.status!=="all"&&(O.status=R.status);const G=yield sa(O);(G==null?void 0:G.error)?(_(T(N({},x),{isLoading:!1})),console.error("Error fetching orders:",G.error)):(b({is_update:!0,orders:G.sort((re,A)=>new Date(A.created_at)-new Date(re.created_at))}),G.length<st&&ve(!0),_(T(N({},x),{isLoading:!1})))}),Be=O=>y(this,null,function*(){const G=yield Mt(O);(G==null?void 0:G.error)?console.error("Error:",G.error):f({is_update:!0,tables:G})}),je=O=>y(this,null,function*(){const G=yield Ke(O,!0);(G==null?void 0:G.error)?console.error("Error:",G.error):d({is_update:!0,products:G})});i.exports.useEffect(()=>{Z()},[]),i.exports.useEffect(()=>{we()},[R.status,R.date,F]),i.exports.useEffect(()=>{_(T(N({},x),{isLoading:!0})),E([]),!!n&&(h(l.stores.find(O=>O.uuid===n)),K(),we(),Be(n),je(n))},[n,l]),i.exports.useEffect(()=>{p.orders.length&&u.tables.length&&_(T(N({},x),{isLoading:!1}))},[p,u]);const Qe=()=>y(this,null,function*(){console.log("load more orders...");const O=j+1;de(O);const G={store_uuid:n,page:O,per_page:st,order_by:"desc"};R.date&&!F&&(G.date=Ht(R.date).format("YYYY-MM-DD")),R.status&&R.status!=="all"&&(G.status=R.status);const re=yield sa(G);(re==null?void 0:re.error)?(M(!1),ve(!0),console.error("Error fetching orders:",re.error)):(M(!1),(re==null?void 0:re.length)<st&&(ve(!0),console.log("No more orders")),b({is_update:!0,orders:[...re,...p.orders].sort((A,V)=>new Date(V.created_at)-new Date(A.created_at))}))});return i.exports.useEffect(()=>{if(Se)return;const O=()=>{const V=ye.current;if(V){const{scrollTop:te,scrollHeight:w,clientHeight:H}=V;if(te+H>=w){const W=new Event("scroll");V.dispatchEvent(W)}}},G=()=>{ye.current.removeEventListener("touchmove",O)},re=()=>{const V=ye.current;if(V){const{scrollTop:te,scrollHeight:w,clientHeight:H}=V;te+H>=w&&!v&&(console.log("Scrolled to the bottom!"),M(!0),Qe())}},A=ye.current;return A.addEventListener("touchmove",O),A.addEventListener("touchend",G),A.addEventListener("scroll",re),()=>{A.removeEventListener("touchmove",O),A.removeEventListener("touchend",G),A.removeEventListener("scroll",re)}},[v,Se,p]),e.createElement(se,{className:"section-container order-management-container",ref:c?ye:null,style:{height:"100px"}},e.createElement(ba,{authToken:D.authToken,store_uuid:n}),e.createElement(a,{className:"toolbar",flex:!0,justifyContent:"space-between",alignItems:"center"},e.createElement(a,{flex:!0,alignItems:"center",className:"toolbar_filter"},e.createElement(a,{className:"toolbar_filter_search"},e.createElement(g,null,t("orderManagement.status")),e.createElement(xe,{closeOnSelect:!0,mask:!0,value:R.status,onChange:O=>{L("status",O)}},Object.values(N({ALL:"all"},Y)).map((O,G)=>e.createElement(Option,{value:O,title:t("orderManagement.statusSelect."+O),key:G})))),e.createElement(a,{className:"toolbar_filter_search"},e.createElement(g,null,t("orderManagement.date")),F?e.createElement(Ge,{key:"datePicker-hideDatePicker",mask:!0,maskClosable:!0,value:null,onChange:O=>{L("date",O)},onVisibilityChange:O=>{O||me(!1)}}):e.createElement(a,{width:"100%",style:{position:"relative"}},e.createElement(Ge,{key:"datePicker-visible",mask:!0,maskClosable:!0,value:R==null?void 0:R.date,onChange:O=>{L("date",O)}}),(R==null?void 0:R.date)&&e.createElement(ce,{icon:"zi-close",style:{position:"absolute",right:12,top:12,backgroundColor:"white"},onClick:()=>me(!0)}))),e.createElement(a,{className:"toolbar_filter_search"},e.createElement(g,null,t("orderManagement.search")),e.createElement(ue.Search,{className:"search-input",onChange:O=>L("search",O.target.value)}))),e.createElement(a,{className:"toolbar_add-btn"},e.createElement(q,{className:"fw-500",onClick:()=>r(`/admin/order-management/create/index/${n}`),prefixIcon:e.createElement(Ve,null)},t("orderManagement.createOrder")))),e.createElement(a,{style:{marginBottom:"50px"}},c?e.createElement(a,null,ae.map((O,G)=>{var A;let re=0;return O.status===Y.WAIT_FOR_PAY?re=50:O.status===Y.DONE&&(re=100),e.createElement(a,{className:"order-table order-table-mobile",key:G,onClick:()=>Ie(O),style:{opacity:O.status===Y.CANCELLED?.5:1}},e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",className:"order-table-mobile_box"},e.createElement(a,{flex:!0,alignItems:"center",justifyContent:"center"},e.createElement(qe,{src:O.user.avatar,style:{marginRight:"10px"}}),e.createElement(g,{size:"xLarge",bold:!0},(A=u.tables.find(V=>V.uuid===O.table_uuid))==null?void 0:A.name))),e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",className:"order-table-mobile_box"},e.createElement(g,{bold:!0},t("orderManagement.orderTime")),e.createElement(g,null,ut(O.created_at,t))),e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",className:"order-table-mobile_box"},e.createElement(g,{bold:!0},t("orderManagement.notes")),e.createElement(g,null,O.notes)),O.status===Y.CANCELLED?e.createElement(a,{className:"order-cancelled red-color"},e.createElement(g,null,t("orderManagement.orderCancelled"))):e.createElement(a,{className:"slider-status-order",onClick:V=>V.stopPropagation()},e.createElement(xt,{min:0,value:re,marks:o,step:50,onChange:V=>{switch(V){case 0:ne(O,Y.PENDING);break;case 50:ne(O,Y.WAIT_FOR_PAY);break;case 100:ne(O,Y.DONE);break}},className:O.status===Y.DONE?"slider-green-theme":"slider-yellow-theme"})))})):e.createElement(a,{className:"order-table"},e.createElement(a,{className:"order-table_head"},e.createElement("table",null,e.createElement("thead",{style:{height:"90px"}},e.createElement("tr",null,e.createElement("th",{className:"col"},t("orderManagement.orderTable.user")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.tableName")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.time")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.status")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.notes")),e.createElement("th",{className:"col"},t("orderManagement.orderTable.details")))))),e.createElement(a,{className:"order-table_body",ref:c?null:ye},e.createElement("table",null,e.createElement("tbody",null,ae.map((O,G)=>{var re;return e.createElement("tr",{key:G},e.createElement("td",{className:"col"},e.createElement(qe,{src:O.user.avatar})),e.createElement("td",{className:"col"},(re=u.tables.find(A=>A.uuid===O.table_uuid))==null?void 0:re.name),e.createElement("td",{className:"col"},ut(O.created_at,t)),e.createElement("td",{className:"col"},e.createElement(Lt,{status:O.status,onChange:A=>ne(O,A)})),e.createElement("td",{className:"col"},O.notes),e.createElement("td",{className:"col"},e.createElement(a,{className:"button-actions",onClick:()=>Ie(O)},e.createElement(ce,{icon:"zi-play-solid"}))))}))))),v&&e.createElement(a,null,e.createElement(g,{size:"large"},"Loading..."))),e.createElement(a,{mb:5}),e.createElement(Je,{isShowModal:z,onConfirm:()=>{ne(I,Y.CANCELLED),P(!1),U({})},setIsShowModal:P,content:t("main.confirmCancel")}))}const Xe=(t=0)=>(t>=1e6?t=t/1e6+"M":t>=1e3&&(t=t/1e3+"K"),t);function xa({isShow:t,onClose:r,onSubmit:s,data:n}){const{t:c}=Q("global"),[o,l]=i.exports.useState([]),m=i.exports.useMemo(()=>o.some(p=>p.quantity),[o]),h=(p,b)=>{const u=o.map(f=>f.uuid===b.uuid?T(N({},f),{quantity:p==="increase"?b.quantity+1:b.quantity-1}):f);l(u)};return i.exports.useEffect(()=>{l(n||[])},[n]),e.createElement(mt,{visible:t,onClose:r,title:c("orderManagement.addDishes"),mask:!0,swipeToClose:!0,autoHeight:!0},e.createElement(a,{className:"add-products-container"},e.createElement(a,{className:"product-list"},!ge.exports.isEmpty(o)&&o.map(p=>{var b,u;return e.createElement(a,{key:p.uuid,flex:!0,justifyContent:"space-between",className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center"},e.createElement(a,{mr:5,flex:!0,alignItems:"center"},e.createElement("img",{src:((u=(b=p.images)==null?void 0:b[0])==null?void 0:u.url)||Re,alt:"dish item",style:{borderRadius:"4px",width:"80px",height:"80px"}})),e.createElement(a,null,e.createElement(g,{size:"large",bold:!0},p.name),e.createElement(g,{className:"red-color caption-text"},"\u20AB",ee(p.price)))),e.createElement(a,{flex:!0,alignItems:"center",style:{gap:"12px"}},e.createElement(ce,{icon:"zi-minus-circle",onClick:()=>h("decrease",p),style:{pointerEvents:p.quantity?"visible":"none",color:p.quantity?"#141415":"grey"}}),e.createElement(g,{className:"fs-22",style:{width:"20px"}},p.quantity),e.createElement(ce,{icon:"zi-plus-circle-solid",className:"red-color",onClick:()=>h("increase",p)})))})),e.createElement(a,{className:"actions"},e.createElement(q,{variant:"secondary",onClick:r},c("button.cancel")),e.createElement(q,{disabled:!m,onClick:()=>{s(o.filter(p=>p.quantity)),r()}},c("button.confirm")))))}var Jr="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/dm.998ce863.png";function Xr(){var re,A,V,te;const{t}=Q("global"),{order_uuid:r,store_uuid:s}=be(),{isMobile:n}=ya(),c=le(),[o,l]=$(at),m=oe(nt),h=oe(ie),p=oe(Xt),[b,u]=$(_e),[f,S]=$(Ye),E={0:t("orderManagement.statusSelect."+Y.PENDING),50:t("orderManagement.statusSelect."+Y.WAIT_FOR_PAY),100:t("orderManagement.statusSelect."+Y.DONE)},x={0:t("orderManagement.statusItemSelect."+ot.PENDING),100:t("orderManagement.statusItemSelect."+ot.FINISHED)},[_,k]=i.exports.useState(!1),[d,D]=i.exports.useState({}),[C,B]=i.exports.useState(0),[z,P]=i.exports.useState(null),[I,U]=i.exports.useState(""),[R,J]=i.exports.useState(!1),[F,me]=i.exports.useState({}),[j,de]=i.exports.useState(!1),[Se,ve]=i.exports.useState(!1),ye=i.exports.useMemo(()=>d.status===Y.PENDING,[d]),v=w=>{J(!0),me(w)},M=w=>y(this,null,function*(){const H={order_item_uuid:w.order_item_uuid,delivered_quantity:w.delivered_quantity};S(!0);const W=yield ua(d.uuid,H);(W==null?void 0:W.error)?(console.error("Error:",W.error),c.openSnackbar({duration:3e3,text:W.error,type:"error"})):(D(W),U(W.notes),c.openSnackbar({duration:3e3,text:t("snackbarMessage.deliveredSuccess"),type:"success"})),S(!1)}),L=w=>y(this,null,function*(){const H={store_uuid:s,order:T(N({},w.order),{products:w.order.products.map(({uuid:Oe,product_uuid:Ce,quantity:Me})=>({uuid:Ce||Oe,quantity:Me}))})};S(!0);const W=yield la(H);(W==null?void 0:W.error)?(console.error("Error:",W.error),c.openSnackbar({duration:3e3,text:W.error,type:"error"}),S(!1)):(D(W),U(W.notes),S(!1))}),Z=w=>{const H=[...d.products.filter(Oe=>Oe.product_uuid!==w.product_uuid),w],W={store_uuid:s,order:T(N({},d),{products:H})};L(W)},K=()=>{const w={store_uuid:s,order:T(N({},d),{notes:I})};de(!1),L(w)},ae=w=>{const H={store_uuid:s,order:T(N({},d),{products:[...d.products,...w]})};L(H)},ne=w=>y(this,null,function*(){S(!0);const H={status:w};if(w===Y.DONE){const Oe=d.products.filter(Ce=>Ce.delivery_status!==ot.FINISHED).map(Ce=>({order_item_uuid:Ce.order_item_uuid,delivered_quantity:Ce.quantity}));Promise.all(Oe.forEach(Ce=>{ua(d.uuid,Ce)}))}const W=yield ia(d.uuid,H);(W==null?void 0:W.error)&&(console.error("Error:",W.error),c.openSnackbar({duration:3e3,text:W.error,type:"error"})),S(!1)}),Ie=w=>y(this,null,function*(){u(T(N({},b),{isLoading:!0}));const H=yield Ke(w,!1);(H==null?void 0:H.error)?(u(T(N({},b),{isLoading:!1})),console.error("Error fetching products:",H.error)):(l({is_update:!0,products:H}),u(T(N({},b),{isLoading:!1})))}),we=i.exports.useMemo(()=>{var w;return((w=d.products)==null?void 0:w.length)&&ge.exports.sum(d.products.map(H=>H.unit_price*H.quantity))},[d]),Be=i.exports.useMemo(()=>{if(!(z==null?void 0:z.voucher))return;const{voucher_type:w,voucher_value:H,voucher_min_order_value:W}=z.voucher;switch(w){case De.BY_PERCENT:return t("userOrder.voucherInformation",{voucherValue:`${H}%`,bill:`${Xe(W)}`});case De.BY_VALUE:return t("userOrder.voucherInformation",{voucherValue:`${Xe(H)}`,bill:`${Xe(W)}`});default:return""}},[z]),je=i.exports.useMemo(()=>!ge.exports.isEmpty(d)&&!ge.exports.isEmpty(m.tables)&&m.tables.find(w=>w.uuid===d.table_uuid),[d,m]),Qe=w=>y(this,null,function*(){console.log(`...getInvoiceData..invoice_uuid: ${w}`);const H=yield mr(w);(H==null?void 0:H.error)?console.error("Error fetching invoice:",H.error):(console.log(`..data.voucher: ${JSON.stringify(H.voucher)}`),P(H))}),O=()=>y(this,null,function*(){S(!0);const w=yield ca(s,r);if(w==null?void 0:w.error)console.error("Error fetching products:",w.error);else{D(w);let H=0;w.status===Y.WAIT_FOR_PAY&&(H=50),w.status===Y.DONE&&(H=100),B(H),U(w==null?void 0:w.notes)}S(!1)});i.exports.useEffect(()=>{!r||!s||O()},[r,s]),i.exports.useEffect(()=>{if(!d||!(d==null?void 0:d.invoice_uuid)){P(null);return}Qe(d.invoice_uuid)},[d]),i.exports.useEffect(()=>{o.products.length||Ie(s)},[o]),i.exports.useEffect(()=>{if((p==null?void 0:p.uuid)===d.uuid){D(p);let w=0;p.status===Y.WAIT_FOR_PAY&&(w=50),p.status===Y.DONE&&(w=100),B(w)}},[p]);const G=()=>y(this,null,function*(){var w;try{yield Bt({type:"user",id:(w=d==null?void 0:d.user)==null?void 0:w.zalo_id,message:"Xin Ch\xE0o"})}catch(H){console.log(H)}});return e.createElement(e.Fragment,null,e.createElement(ba,{store_uuid:s,authToken:h.authToken}),e.createElement(se,{className:"section-container order-details-container"},e.createElement(a,{mb:3,mr:6,flex:!0,flexDirection:"row",alignItems:"center",className:"avatar-order-container"},e.createElement(qe,{size:55,src:(re=d==null?void 0:d.user)==null?void 0:re.avatar,style:{marginRight:"10px"}}),e.createElement(g,{size:"xLarge",bold:!0},(A=d==null?void 0:d.user)==null?void 0:A.name),e.createElement(a,{style:{position:"absolute",right:"10px"}},e.createElement(g,{className:"fs-17",style:{fontStyle:"italic"}},ut(d.created_at,t)))),e.createElement(a,{className:"header"},e.createElement(a,null,e.createElement(g,{className:"fs-20 header__table-name"},je.name)),d.status===Y.CANCELLED?e.createElement(a,{className:"order-cancelled red-color"},e.createElement(g,null,t("orderManagement.orderCancelled"))):e.createElement(a,{className:"slider-status-order"},e.createElement(xt,{min:0,value:C,marks:E,step:50,vertical:!1,onChange:w=>{switch(B(w),w){case 0:ne(Y.PENDING);break;case 50:ne(Y.WAIT_FOR_PAY);break;case 100:ne(Y.DONE);break}},className:d.status===Y.DONE?"slider-green-theme":"slider-yellow-theme"}))),e.createElement(a,{className:"main"},e.createElement(a,{className:"order-list"},((V=d.products)==null?void 0:V.length)&&d.products.map((w,H)=>{var Oe,Ce;const W=w.delivery_status===ot.FINISHED?100:0;return e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",mb:3,key:H,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,{mr:6,flex:!0,alignItems:"center"},e.createElement("img",{src:((Ce=(Oe=w.product_images)==null?void 0:Oe[0])==null?void 0:Ce.url)||Re,alt:"dish img",className:"product-image"})),e.createElement(a,null,e.createElement(g,{size:"large"},e.createElement("span",{className:"fw-500"},w.product_name)," (",w.quantity,"x)"," ",ye&&e.createElement(ce,{icon:"zi-post",style:{color:"blue",verticalAlign:"top"},onClick:()=>v(w)})),e.createElement(a,{flex:!0,style:{gap:"8px"}},e.createElement(g,{size:"normal"},ee(w.unit_price),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB"))))),d.status!==Y.CANCELLED&&e.createElement(e.Fragment,null,e.createElement(a,{className:"quantity"},e.createElement(g,null,t("orderManagement.orderDetail.delivered"),":"),e.createElement(xe,{value:w.delivered_quantity.toString(),onChange:Me=>M(T(N({},w),{delivered_quantity:+Me})),mask:!0,closeOnSelect:!0},[...Array(w.quantity+1).keys()].map(Me=>e.createElement(Option,{key:Me.toString(),title:Me.toString(),value:Me.toString(),disabled:Me<w.delivered_quantity}))),e.createElement(g,null," ","/ ",w.quantity," ",t("orderManagement.orderDetail.dish"))),e.createElement(a,{className:"slider-status-order slider-order-item"},e.createElement(xt,{min:0,value:W,marks:x,step:100,onChange:Me=>{W===0&&M(T(N({},w),{delivered_quantity:w.quantity}))},className:W===0?"slider-yellow-theme":"slider-green-theme"}))))})),ye&&e.createElement(a,{flex:!0,alignItems:"center",style:{gap:"4px"},ml:!n&&3,mb:2},e.createElement(ce,{icon:"zi-plus-circle-solid",size:40,style:{color:"red",height:"40px"},onClick:()=>ve(!0)})," ",e.createElement(g,{size:"large"},t("orderManagement.orderDetail.addDish"))),e.createElement(a,null,e.createElement(a,{className:"total-bill",flex:!0,justifyContent:"space-between",alignItems:"center",mb:2},e.createElement(g,{size:"large",bold:!0},t("orderManagement.orderDetail.total"),":"),e.createElement(g,{size:"large"},ee(we),"\u20AB")),console.log(`order.status: ${d.status}`),console.log(`order?.actual_payment_amount: ${d==null?void 0:d.actual_payment_amount}`),(z==null?void 0:z.voucher)&&e.createElement(e.Fragment,null,e.createElement(a,{flex:!0,justifyContent:"space-between",className:"red-color"},e.createElement(g,null,Be),e.createElement(g,null,"-",ee(d.value-(d==null?void 0:d.actual_payment_amount)),"\u20AB")),e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",className:"red-color",mb:2},e.createElement(g,{size:"xLarge",bold:!0},t("orderManagement.orderDetail.totalPayment"),":"),e.createElement(g,{size:"xLarge",bold:!0},ee(Math.max(0,d==null?void 0:d.actual_payment_amount)),"\u20AB")))),e.createElement(a,{flex:!0,alignContent:"center",style:{paddingTop:0,gap:"8px"}},e.createElement(ue,{placeholder:t("orderManagement.orderDetail.notePlaceholder"),value:I,onChangeCapture:w=>U(w.target.value),disabled:!j}),ye&&e.createElement(e.Fragment,null,j?e.createElement(ce,{icon:"zi-check",size:30,style:{color:"green"},onClick:K}):e.createElement(ce,{icon:"zi-post",size:30,style:{color:"red"},onClick:()=>{de(!0)}})))),d.status!==Y.DONE&&d.status!==Y.CANCELLED&&e.createElement(a,null,e.createElement(q,{style:{width:"100%"},onClick:()=>k(!0)},t("orderManagement.cancelOrder"))),e.createElement(Pt,{isShow:R,isAdmin:!0,product:F,onClose:()=>J(!1),onSubmit:Z}),e.createElement(xa,{isShow:Se,data:o.products.filter(w=>{var H;return!((H=d.products)==null?void 0:H.find(W=>W.product_uuid===w.uuid))}).map(w=>T(N({},w),{quantity:0})),onClose:()=>ve(!1),onSubmit:ae}),e.createElement(a,{flex:!0,flexDirection:"column",justifyContent:"center",alignItems:"center",onClick:()=>G()},e.createElement(qe,{size:55,src:Jr,style:{marginRight:"10px"}}),e.createElement(g,null,t("main.chat_with_user")," ",(te=d==null?void 0:d.user)==null?void 0:te.name))),e.createElement(Je,{isShowModal:_,onConfirm:()=>{ne(Y.CANCELLED),k(!1)},setIsShowModal:k,content:t("main.confirmCancel")}))}const es=()=>{const t=Ee(),[r,s]=$(Fe),n=oe(ie),{t:c}=Q("global"),[o,l]=i.exports.useState(""),[m,h]=i.exports.useState(!1),p=le(),b=window.location.hostname,u=i.exports.useRef(null),f=i.exports.useRef(null),S=5,E=()=>y(void 0,null,function*(){const P=yield qn();(P==null?void 0:P.error)?console.error("Error:",P.error):s({is_update:!0,stores:P}),console.log(b)});i.exports.useEffect(()=>{r.stores.length>0&&x()},[r.stores]);const x=()=>y(void 0,null,function*(){var R;const{defaultStore:P,subdomain:I}=yield Te({keys:["defaultStore","subdomain"]}),U=r.stores.find(J=>J.subdomain===I);!P||!U?Pe({data:{defaultStore:r.stores[0],subdomain:(R=r.stores[0])==null?void 0:R.subdomain}}):U&&Pe({data:{defaultStore:U,subdomain:U.subdomain}})});i.exports.useEffect(()=>{console.log(b);const P=b==="localhost";console.log(P?"Running on localhost":"Not localhost"),P||E()},[b]),i.exports.useEffect(()=>{let P;if(m&&u.current)return P=new jt(u.current,I=>{setTimeout(()=>{console.log(I),l(I.data),h(!1);const U=new URL(I.data),R=U.searchParams.get("storeId"),J=U.searchParams.get("tableId"),F=U.searchParams.get("tenant_id");R&&J&&F?C(I.data,R,J,F):_()},1e3)},{returnDetailedScanResult:!0,highlightScanRegion:!0,highlightCodeOutline:!0}),P.start(),()=>{P.stop(),P.destroy()}},[m]);const _=()=>{p.openSnackbar({text:c("main.not_found"),type:"error"})},k=(P,I,U)=>{t({pathname:`/menu/${P}/${I}`,search:`?tenant_id=${U}`})},d=P=>{p.openSnackbar({text:P,type:"error"})},D=()=>{if(b==="localhost"){console.log("Cannot scan QR code on localhost.");return}h(!m)},C=(P,I,U,R)=>{let J=parseInt(localStorage.getItem("scanCount"))||0,F=JSON.parse(localStorage.getItem("scanList"))||[];J>=S?F.shift():J++,F.push(P),localStorage.setItem("scanList",JSON.stringify(F)),localStorage.setItem("scanCount",J),console.log(localStorage.getItem("scanCount")),console.log(localStorage.getItem("scanList")),k(I,U,R)},B=()=>{t("/recent-scan")},z=P=>y(void 0,null,function*(){const I=P.target.files[0];if(I)try{const U=yield jt.scanImage(I,{returnDetailedScanResult:!0}),R=new URL(U.data),J=R.searchParams.get("storeId"),F=R.searchParams.get("tableId"),me=R.searchParams.get("tenant_id");J&&F&&me?k(J,F,me):_()}catch(U){console.error("Error during QR code scan:",U),d("L\u1ED7i qu\xE9t m\xE3 qr")}});return e.createElement(se,{className:"page"},e.createElement(a,{className:"section-container",height:"80px"},e.createElement(Tt,{isAmin:!0,true:!0})),e.createElement(a,{flex:!0,flexDirection:"column",className:"section-container"},e.createElement(a,{style:{textAlign:"center"}},e.createElement(g,{size:"xLarge",bold:!0},c("main.scanQrDes")),m?e.createElement("div",{style:{position:"relative",display:"inline-block"}},e.createElement("video",{ref:u,style:{width:"100%",maxWidth:"550px"},onError:d}),e.createElement(g,{size:"medium",bold:!0,style:{position:"absolute",top:"45px",left:"45%",transform:"translateX(-45%)",color:"white",textShadow:"0px 0px 5px rgba(0, 0, 0, 0.5)"}},"H\u01B0\u1EDBng camera v\xE0o m\xE3 QR"),e.createElement("div",{className:"recent-icon-container",style:{position:"absolute",bottom:"10px",left:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"70px",height:"70px"},onClick:()=>f.current.click()},e.createElement("div",{className:"icon",style:{color:"white",width:"45px",height:"50px",backgroundColor:"#333",borderRadius:"50%",display:"flex",opacity:.5,alignItems:"center",justifyContent:"center",marginBottom:"5px"}},e.createElement(ja,null)),e.createElement("div",{className:"label",style:{color:"white",fontSize:"12px"}},c("main.choosePicture"))),e.createElement("div",{className:"recent-icon-container",style:{position:"absolute",bottom:"10px",right:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"70px",height:"70px"},onClick:B},e.createElement("div",{className:"icon",style:{color:"white",width:"45px",height:"50px",backgroundColor:"#333",borderRadius:"50%",display:"flex",opacity:.5,alignItems:"center",justifyContent:"center",marginBottom:"5px"}},e.createElement(et,null)),e.createElement("div",{className:"label",style:{color:"white",fontSize:"12px"}},c("main.reScanQr"))),e.createElement("input",{ref:f,type:"file",accept:"image/*",style:{display:"none"},onChange:z})):e.createElement(a,{mt:6,flex:!0,flexDirection:"column",justifyContent:"center",alignItems:"center"},e.createElement(g,{size:"xLarge",bold:!0},"..."))),e.createElement(a,{mt:1},e.createElement(q,{fullWidth:!0,style:{margin:"10px 0",background:"var(--blue-color)"},onClick:D,prefixIcon:e.createElement(et,null),size:"large"},c(m?"main.stopScan":"main.scanQr"))),e.createElement(a,{mt:1},e.createElement(q,{fullWidth:!0,style:{margin:"10px 0",background:"var(--blue-color)"},onClick:()=>t("/order-history"),prefixIcon:e.createElement(Qa,null),size:"large"},c("userOrder.orderHistory"))),n.store_uuid?e.createElement(a,{mt:1},e.createElement(q,{fullWidth:!0,style:{margin:"10px 0"},onClick:()=>t("/admin/store/index"),prefixIcon:e.createElement(Ga,null),size:"large"},c("main.adminDashboard"))):e.createElement(a,{mt:1},e.createElement(q,{fullWidth:!0,style:{margin:"10px 0"},onClick:()=>t("/admin/store/form"),prefixIcon:e.createElement(Ya,null),size:"large"},c("main.regStore")))))};var ts="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/user.ed187194.png";const as=()=>{const t=Ee(),r=oe(ie),{t:s}=Q("global");return i.exports.useEffect(()=>{r.store_uuid&&t("/admin/store/index")},[]),e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(Tt,{isAmin:!0})),e.createElement("div",{className:"section-container"},r.store_uuid?e.createElement(a,{className:"item-card-container",onClick:()=>t("/admin/store/index")},e.createElement("img",{className:"item-img",src:it}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(g,{size:"large",bold:!0,style:{marginLeft:"10px"}},s("main.storeManage")))),e.createElement(vt,{className:"arrow-icon"})):e.createElement(a,{className:"item-card-container",onClick:()=>t("/admin/store/form")},e.createElement("img",{className:"item-img",src:it}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(g,{size:"large",bold:!0,style:{marginLeft:"10px"}},s("main.regStore")))),e.createElement(vt,{className:"arrow-icon"})),e.createElement(a,{className:"item-card-container",onClick:()=>t("/admin/profile")},e.createElement("img",{className:"item-img",src:ts}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(g,{size:"large",bold:!0,style:{marginLeft:"10px"}},s("main.user")))),e.createElement(vt,{className:"arrow-icon"}))))},It=()=>{const t=oe(_e);return t.isLoading?e.createElement(se,{className:"section-container",style:{position:"fixed",zIndex:1e4}},e.createElement(a,{flex:!0,flexDirection:"column",justifyContent:"center",alignItems:"center",style:{marginTop:"70px"}},e.createElement(Et,{visible:!0,logo:Ze}),e.createElement(a,{mt:6},e.createElement(g.Title,null,t.completedText),e.createElement(Wa,{completed:t.completedPercent,maxCompleted:100,showLabel:!0})))):null};function ns({isShow:t,onClose:r,onUse:s,voucher:n}){const{t:c}=Q("global");return e.createElement(Ae,{visible:t,onClose:r,className:"voucher-details-modal"},e.createElement(a,{className:"container"},e.createElement(a,{className:"header",flex:!0,justifyContent:"center"},e.createElement(a,{width:"100%"},e.createElement("img",{src:Re,alt:"voucher img",style:{verticalAlign:"center"}})),e.createElement(a,{onClick:r,className:"close-btn"},e.createElement(ce,{icon:"zi-close-circle-solid",className:"grey-color"}))),e.createElement(a,{className:"voucher-info"},e.createElement(a,{mb:1},e.createElement(g,{size:"Large",bold:!0},n.name)),e.createElement(g,{size:"large"}," \u20AB")),e.createElement(a,{className:"divider"}),e.createElement(a,{flex:!0,className:"footer shadow-bottom"},e.createElement(q,{onClick:()=>{s(N({},n)),r()}},c("menu.addToOrder")))))}const va=({isAdmin:t=!1,voucher:r,hasUseButton:s=!1,onDetails:n,onUse:c,displayStatus:o=!0})=>{const{t:l}=Q("global"),m=()=>{if(new Date(r.expired_at).getTime()<new Date().getTime())return e.createElement(a,{className:"voucher-status status-expired"},l("voucherManagement.experied"));if(r.status===ta.ACTIVE)return e.createElement(a,{className:"voucher-status status-finished"},l("voucherManagement.active"));if(r.status===ta.INACTIVE)return e.createElement(a,{className:"voucher-status status-cancelled"},l("voucherManagement.inactive"))};return e.createElement(a,{flex:!0,className:"voucher-card-container",onClick:()=>{n(r)}},e.createElement(a,{className:"voucher-background"}),o&&m(),e.createElement(a,{className:"voucher-card-left"},"-",r.voucher_type===De.BY_VALUE?Xe(r.voucher_value):r.voucher_value+"%"),e.createElement(a,{className:"voucher-card-right"},e.createElement(g,{size:"xLarge",bold:!0,style:{marginBottom:"8px"}},r.voucher_code),e.createElement(g,{size:"small"},l("voucherManagement.minValue")," \u20AB",Xe(r.voucher_min_order_value)),e.createElement(g,{size:"xxSmall",className:"text-experied"},l("voucherManagement.experiedAt")," ",new Date(r.expired_at).toLocaleDateString("en-GB"))),s&&e.createElement(q,{className:"button-use"},l("button.use")))};const rs=()=>(i.exports.useState(!1),i.exports.useState(!1),i.exports.useState({}),be(),oe(ie),le(),e.createElement(e.Fragment,null));const Sa=t=>{const r=new Date(t),s=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),c=String(r.getDate()).padStart(2,"0");return`${s}/${n}/${c}`};function ss({show:t,order:r,onClose:s,onPayment:n}){const{t:c}=Q("global"),o=oe(ke),[l,m]=i.exports.useState(null),[h,p]=i.exports.useState(""),[b,u]=i.exports.useState(""),f=i.exports.useMemo(()=>r&&r.products.reduce((k,d)=>k+d.unit_price*d.quantity,0),[r]),S=i.exports.useMemo(()=>{if(!l||!f)return;const{voucher_type:k,voucher_value:d,voucher_min_order_value:D}=l;if(D>f)return{reduce:0,price:f};let C,B;switch(k){case De.BY_PERCENT:B=f*(d/100),C=f-B;break;case De.BY_VALUE:B=d,C=f-B;break;default:return""}return{reduce:B,price:C<0?0:C}},[l,f]),E=k=>y(this,null,function*(){const d=yield cr(k,o.uuid);(d==null?void 0:d.error)?(console.error("Error:",d.error),u(d.error)):(d==null?void 0:d.status)==="actived"&&new Date(d==null?void 0:d.expired_at).getTime()>new Date().getTime()?m(d):(m(null),u(c("userOrder.voucherInvalid")))}),x=k=>{m(null),p(k.target.value.toUpperCase()),u("")};i.exports.useEffect(()=>{if(!h)return;const k=setTimeout(()=>{E(h)},2e3);return()=>clearTimeout(k)},[h]);const _=()=>{p(""),m(null)};return i.exports.useEffect(()=>{t||_()},[t]),e.createElement(Ae,{visible:t,mask:!0,onClose:s,className:"payment-modal"},e.createElement(a,{className:"close-btn",style:{opacity:.3},mb:4,flex:!0,alignItems:"center",onClick:s},e.createElement(ce,{style:{fontSize:"36px"},icon:"zi-chevron-left",className:"grey-color"})),e.createElement(a,{className:"main",mt:8},e.createElement(a,{mb:2},e.createElement(g.Title,{size:"xLarge"},c("menu.payment"))),e.createElement(a,{className:"products"},r.products.length&&r.products.map((k,d)=>{var D,C;return e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",key:d,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,{mr:3,flex:!0,alignItems:"center"},e.createElement("img",{src:((C=(D=k.product_images)==null?void 0:D[0])==null?void 0:C.url)||Re,alt:"dish img",className:"product-image",style:{width:"70px",height:"70px",borderRadius:"8px"}})),e.createElement(a,null,e.createElement(g,{size:"large"},e.createElement("span",{className:"fw-500"},k.product_name," ",e.createElement("span",null,"(x",k.quantity,")"))),e.createElement(a,{flex:!0,style:{gap:"8px"}},e.createElement(g,{size:"normal"},ee(k.unit_price),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB"))))),e.createElement(a,null,e.createElement(g,{size:"xLarge"},ee(k.unit_price*k.quantity))))})),e.createElement(a,{className:"total-bill",flex:!0,justifyContent:"space-between",my:2},e.createElement(g,{bold:!0},c("orderManagement.orderDetail.total"),":"),e.createElement(g,null,e.createElement("span",{style:{paddingLeft:"6px"}},ee(f),"\u20AB"))),S&&e.createElement(e.Fragment,null,e.createElement(a,{flex:!0,justifyContent:"space-between",mb:2},e.createElement("span",null,c("orderManagement.orderDetail.reduce"),":"),e.createElement(g,{className:"red-color"},e.createElement("span",{style:{paddingLeft:"6px"}},"-",ee(S.reduce),"\u20AB"))),e.createElement(a,{flex:!0,justifyContent:"space-between",mb:4},e.createElement("span",null,c("orderManagement.orderDetail.totalPayment"),":"),e.createElement(g,{className:"red-color"},e.createElement("span",{style:{paddingLeft:"6px"}},ee(S.price),"\u20AB")))),e.createElement(a,null,e.createElement(g,null,c("userOrder.voucherIfHave")),e.createElement(ue,{type:"text",value:h,onChange:x,placeholder:c("voucherManagement.createVoucher.enterVoucherCode")}),b&&e.createElement("i",{className:"red-color"},b),l&&e.createElement(a,{className:"voucher-view-container"},e.createElement(va,{voucher:l,displayStatus:!1})))),e.createElement(a,{className:"action"},e.createElement(q,{fullWidth:!0,disabled:b,onClick:()=>n(h)},c("menu.payment"))))}const os=()=>{const{t}=Q("global"),r=le(),{store_uuid:s}=be(),[n,c]=$(at),[o,l]=$(ke),[m,h]=$(Fe),p=oe(ie),[b,u]=$(Nt),[f,S]=$(xn),[E,x]=$(_e),[_,k]=$(Ye),[d,D]=i.exports.useState(!1),[C,B]=i.exports.useState(!1),[z,P]=i.exports.useState(!1),I=i.exports.useMemo(()=>f.actual_payment_amount===0?ge.exports.sum(f.products.map(v=>v.unit_price*v.quantity)):f.actual_payment_amount,[f]),U=i.exports.useMemo(()=>{var L,Z;const v=m.stores.find(K=>K.uuid===o.uuid),M=(Z=(L=v==null?void 0:v.store_settings)==null?void 0:L.find(K=>K.name==="zalo_pay"))==null?void 0:Z.value;return console.log(`zaloPaySetting: ${M}`),(M==null?void 0:M.trim().toLowerCase())==="true"},[m]);console.log(U);const R=i.exports.useMemo(()=>{var L;if(!((L=b.orders)==null?void 0:L.length))return null;const M=ge.exports.clone(b.orders).sort((Z,K)=>new Date(K.created_at).getTime()-new Date(Z.created_at).getTime()).map(Z=>T(N({},Z),{created_at:Sa(Z.created_at)}));return ge.exports.groupBy(M,Z=>Z.created_at)},[b]),J=v=>y(void 0,null,function*(){const M=[...v,...f.products.map(ne=>T(N({},ne),{uuid:ne.product_uuid}))],L={};M.forEach(ne=>{if(L[ne.uuid]){L[ne.uuid]+=ne.quantity;return}L[ne.uuid]=ne.quantity});const Z=Object.keys(L).map(ne=>({uuid:ne,quantity:L[ne]})),K={store_uuid:s,order:T(N({},f),{products:Z})};k(!0);const ae=yield la(K);(ae==null?void 0:ae.error)?(console.error("Error:",ae.error),r.openSnackbar({duration:3e3,text:ae.error,type:"error"}),k(!1)):(S(ae),k(!1))}),F=v=>y(void 0,null,function*(){const{subdomain:M}=yield Te({keys:["subdomain"]});try{const L=f.products.map(ne=>({id:ne.product_uuid,amount:ne.unit_price*ne.quantity})),{actual_payment_amount:Z}=f;console.log(Z);const K=yield Qt.createOrder({desc:`Thanh to\xE1n \u0111\u01A1n h\xE0ng ${f.uuid}`,item:L,amount:Z,extradata:JSON.stringify({invoice_uuid:v,tenant_id:M}),mac:f.mac}),{orderId:ae}=K;yield xr(v,ae,s)}catch(L){console.log(L)}}),me=(v="")=>y(void 0,null,function*(){const M={order_uuid:f.uuid};v&&(M.voucher_code=v);const L=yield ma(M);(L==null?void 0:L.error)?(console.error("Error:",L.error),r.openSnackbar({duration:3e3,text:L.error,type:"error"})):(r.openSnackbar({duration:3e3,text:t("snackbarMessage.paymentOrderSuccess"),type:"success"}),yield F(L.uuid),Se()),D(!1)}),j=(v="")=>y(void 0,null,function*(){const M={order_uuid:f.uuid};v&&(M.voucher_code=v);const L=yield ma(M);(L==null?void 0:L.error)?(console.error("Error:",L.error),r.openSnackbar({duration:3e3,text:L.error,type:"error"})):(r.openSnackbar({duration:3e3,text:t("snackbarMessage.paymentOrderSuccess"),type:"success"}),Se()),D(!1)}),de=()=>y(void 0,null,function*(){const v=yield oa();(v==null?void 0:v.error)?console.error("Error:",v.error):u({is_update:!0,orders:v.filter(M=>M.store_uuid===s)}),x(T(N({},E),{isLoading:!1}))}),Se=()=>y(void 0,null,function*(){const v=yield sr(s);if(v.products[0].delivery_status,v==null?void 0:v.error)console.error("Error:",v.error);else{if(Ln.includes(v.status)){S({});return}if(v.status===Y.DONE||v.status===Y.WAIT_FOR_PAY||v.status===Y.PAYED)P(!0);else{const M=v.products.some(L=>L.delivered_quantity>0);P(!M)}S(v)}x(T(N({},E),{isLoading:!1}))}),ve=()=>y(void 0,null,function*(){const v=yield Ke(s,!1);(v==null?void 0:v.error)?(x(T(N({},E),{isLoading:!1})),console.error("Error fetching products:",v.error)):(c({is_update:!0,products:v}),x(T(N({},E),{isLoading:!1})))}),ye=()=>{de(),Se(),n.products.length||ve()};return i.exports.useEffect(()=>{if(x(T(N({},E),{isLoading:!0})),!p.authToken||!s){x(T(N({},E),{isLoading:!1}));return}o.uuid||l({uuid:s}),ye()},[p.authToken,s]),e.createElement(e.Fragment,null,e.createElement(It,null),e.createElement(se,{className:"section-container order-history-container"},e.createElement(a,{className:"header"},t("menu.order")),e.createElement(a,{className:"current-order"},e.createElement(a,null,e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center"},e.createElement(g,{size:"xLarge",bold:!0,className:"current-order__title"},t("userOrder.currentOrder")),e.createElement(a,{mb:2},e.createElement(q,{prefixIcon:e.createElement(Ka,null),onClick:ye,className:"refresh-btn"},t("userOrder.refreshOrder")))),ge.exports.isEmpty(f)?e.createElement(a,null,t("userOrder.noHaveOrdersYet")):e.createElement(a,{className:"current-order__main",mt:3},e.createElement(a,{className:`current-order__status status-${f.status}`},t("orderManagement.statusSelect."+f.status)),e.createElement(a,{className:"products-and-note"},e.createElement(a,{className:"products"},f.products.length&&f.products.map((v,M)=>{var L,Z;return e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",key:M,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,{mr:3,flex:!0,alignItems:"center"},e.createElement("img",{src:((Z=(L=v.product_images)==null?void 0:L[0])==null?void 0:Z.url)||Re,alt:"dish img",className:"product-image",style:{width:"50px",height:"50px",borderRadius:"8px"}})),e.createElement(a,null,e.createElement(g,{size:"large"},e.createElement("span",{className:"fw-500"},v.product_name)),e.createElement(a,{flex:!0,style:{gap:"8px"}},e.createElement(g,{size:"normal"},ee(v.unit_price),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB"))))),e.createElement(a,null,e.createElement(g,{size:"xLarge"},"x",v.quantity)))})),e.createElement(a,{flex:!0,justifyContent:"space-between"},f.notes?e.createElement(a,{className:"note"},e.createElement(g,{size:"large"},e.createElement("b",null,t("orderManagement.notes")),":"," ",e.createElement("i",null,'"',f.notes,'"'))):e.createElement(a,null),I?e.createElement(a,{className:"total-bill",flex:!0,alignItems:"center",style:{gap:"4px"}},e.createElement(g,{size:"large",bold:!0},t("orderManagement.orderDetail.total"),":"),e.createElement(g,{size:"large"},ee(I),"\u20AB")):e.createElement(a,null))),e.createElement(a,{className:"actions"},f.status===Y.PENDING&&e.createElement(q,{variant:"secondary",onClick:()=>B(!0)},t("userOrder.orderMore")),e.createElement(q,{onClick:()=>{f.status===Y.PENDING?D(!0):f.status===Y.WAIT_FOR_PAY&&(P(!0),D(!1))},disabled:z},t("menu.payment")))))),e.createElement(a,{className:"order-history"},e.createElement(a,null,e.createElement(g,{size:"xLarge",bold:!0,className:"current-order__title"},t("userOrder.orderHistory")),ge.exports.isEmpty(R)?e.createElement(a,null,t("userOrder.noHaveOrdersYet")):Object.keys(R).map((v,M)=>e.createElement(a,{key:M},e.createElement(a,{pt:4},e.createElement(g,null,v)),R[v].map((L,Z)=>e.createElement(a,{className:"current-order__main",mt:3,key:Z},e.createElement(a,{className:`current-order__status status-${L.status}`},L.status),e.createElement(a,{className:"products-and-note"},e.createElement(a,{className:"products"},L.products.length&&L.products.map((K,ae)=>e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",key:ae,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,null,e.createElement(g,{size:"large"},e.createElement("span",{className:"fw-500"},K.product_name," (x",K.quantity,")")))),e.createElement(a,null,e.createElement(g,{size:"normal"},ee(K.unit_price*K.quantity),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB"))))),e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,null,e.createElement(g,{size:"large"},e.createElement("span",null,e.createElement("span",null,t("orderManagement.orderDetail.total"),":"))))),e.createElement(a,{flex:!0},ee(L.products.reduce((K,ae)=>K+ae.unit_price*ae.quantity,0))!==ee(L.actual_payment_amount)?e.createElement(e.Fragment,null,e.createElement(g,{className:"red-color",style:{textDecorationLine:"line-through"}},e.createElement("span",{style:{paddingLeft:"6px"}},e.createElement("small",null," ",ee(L.products.reduce((K,ae)=>K+ae.unit_price*ae.quantity,0)),"\u20AB"," "))),e.createElement(g,null,e.createElement("span",{style:{paddingLeft:"6px"}},ee(L.actual_payment_amount),"\u20AB"))):e.createElement(g,null,e.createElement("span",{style:{paddingLeft:"6px"}},ee(L.actual_payment_amount),"\u20AB"))))),e.createElement(a,{pt:3,pb:2},L.notes&&e.createElement(a,{className:"note"},e.createElement(g,{size:"large"},t("orderManagement.notes"),":"," ",e.createElement("i",null,'"',L.notes,'"'))),L.status===Y.PAYED&&e.createElement(a,{flex:!0,mt:1},e.createElement(g,{size:"large"},t("orderManagement.orderDetail.totalPayment"),":"),e.createElement(g,{size:"large"},e.createElement("span",{style:{paddingLeft:"6px"}},ee(L.actual_payment_amount),"\u20AB"," ",(()=>{if(!(L==null?void 0:L.actual_payment_amount))return"";const K=(L==null?void 0:L.value)-(L==null?void 0:L.actual_payment_amount);return K===0?"":e.createElement("span",{className:"red-color",style:{marginLeft:"3px",fontWeight:500}},"(-",ee(K),"\u20AB)")})()))))))))))),!ge.exports.isEmpty(f)&&e.createElement(ss,{show:d,order:f,onClose:()=>D(!1),onPayment:U?me:j}),e.createElement(xa,{isShow:C,data:n.products.map(v=>T(N({},v),{quantity:0})),onClose:()=>B(!1),onSubmit:J})))},cs=t=>{const{t:r}=Q("global"),{pathname:s}=St(),n=Ee(),[c,o]=i.exports.useState("menu"),l=oe(ke),m=oe(_t);return i.exports.useEffect(()=>{if(!!s){if(s.includes("/menu")){o("menu");return}if(s.includes("/order")){o("order");return}if(s.includes("/profile")){o("me");return}}},[s]),e.createElement(tt,{fixed:!0,activeKey:c,onChange:h=>o(h)},e.createElement(tt.Item,{label:r("navbar.menu"),key:"menu",icon:e.createElement(Gt,null),activeIcon:e.createElement(Gt,null),onClick:()=>n({pathname:`/menu/${l.uuid}/${m.uuid}`,search:`?tenant_id=${l.subdomain}`})}),e.createElement(tt.Item,{key:"order",label:r("navbar.order"),icon:e.createElement(Za,null),activeIcon:e.createElement(Ja,null),linkTo:`/user/order/${l.uuid}`}),e.createElement(tt.Item,{key:"me",label:r("navbar.user"),icon:e.createElement(Xa,null),activeIcon:e.createElement(en,null),linkTo:"/user/profile"}))};function ls(){return e.createElement(e.Fragment,null,e.createElement(Yt,null),e.createElement(cs,null))}function is(){const t=St(),{t:r}=Q("global"),s=ea[Object.keys(ea).find(n=>t==null?void 0:t.pathname.includes(n))];return e.createElement(e.Fragment,null,e.createElement(Wt,{title:r(s)}),e.createElement(a,{style:{marginTop:"45px"}},e.createElement(Yt,null)))}const us={storeManage:"Store management",regStore:"Register store",user:"User profile",companyName:"Company name",enterCompanyName:"Enter company name",createCompany:"Create company",companyManagement:"Company management",scanQr:"Scan QR code",reScanQr:"Rescan QR",choosePicture:"Select image",textWhenNothing:"The QR code you scan will be here",adminDashboard:"Admin dashboard",scanQrDes:"Scan QR code to view menu",stopScan:"Stop Scan",confirmDelete:"Are you sure to delete",confirmCancel:"Are you sure to cancel?",no_permission:"Please allow Zalo access camera",switch_camera:"Switch Camera",not_found:"Menu was not found, please try again",chat_with_user:"Send zalo message to"},ms={storeManagement:"Store management",regStore:"Register",storeName:"Store name",enterStoreName:"Enter store name",storeDescription:"Store description",helperStoreCode:"Only allows letters, numbers, and underscores",suggestStoreCode:"Suggest store code",store:"Store",tables:"Tables",products:"Products",categories:"Categories",voucher:"Vouchers",order:"Orders",storeDetail:"Store details",activationCode:"Activation Code",enterActivationCode:"Enter Activation Code",enterMetadata:"Enter store info",days:"Days",getPhoneSupport:"Link your phone number to get advice on how to use.",user:"User management",sale_report:"Simple sale report",editStore:"Update store information",follow_oa:"Follow OA",send_message:"Send message"},ds={tableManagement:"Table management",enterTableName:"Enter table name",table:"Table",print:"Print",tableName:"Table name",updateTable:"Update table",scanQrTable:"Scan code to view",menu:"MENU",saveAllQr:"Save all QR code",saveQrFail:"Failed to save QR code",saveQrNoti:"Save QR code successfully!",qrPowerBy:"Powered by",scanQr:"Scan QR",viewMenu:"View menu",order:"Order",pay:"Payment"},ps={productManagement:"Product management",price:"Price",updateProduct:"Update product",createProduct:{createProduct:"Create product",productName:"Product name",productNameEnter:"Enter product name",productDescription:"Product description",productDescriptionEnter:"Enter product description",productPrice:"Product price",productPriceEnter:"Enter product price",store:"Store",storeSelect:"Select store",storeInfo:"Can select a store",category:"Category",categorySelect:"Select category",categoryInfo:"Can select multiple categories",uploadImage:"Upload image",display:"Display",submit:"Submit",messageErrorProductName:"Please enter a product name",messageErrorProductDescription:"Please enter a product description",messageErrorProductPrice:"Please enter a product price",messageErrorProductImage:"Please select at least a product image",messageErrorProductCategory:"Please select at least a product category"},scanMenu:{button:"Scan Menu",title:"Upload Menu Image to auto import products",description:"Please click the button below to select image of your menu. Once selected, the image will be uploaded and analyzed to auto import your products. Please note that your store can upload maximum 5 menu images for scan.",over_limit:"You have used all your limit for Scan Menu feature",current_count:"You have used",status:"Status",request_date:"Request Date"},status:{display:"Display",hidden:"Hidden"}},gs={categoryManagement:"Category management",categoryNameEnter:"Enter category name",category:"Category",categoryName:"Category name",update:"Update",store:"Store",updateCategory:"Update category",position:"Position",dragDrop:"Drag and drop to change position"},hs={voucherManagement:"Voucher management",createVoucher:{createVoucher:"Create voucher",voucherCode:"Voucher code",enterVoucherCode:"Enter voucher code",description:"Description",enterDescription:"Enter description",voucherType:"Voucher type",typeSelect:{decrease_by_value:"Decrease by value",decrease_by_percent:"Decrease by percent"},voucherValue:"Voucher value",enterVoucherValue:"Enter voucher value",voucherMinOrderValue:"Min order value require",enterVoucherMinOrderValue:"Enter min order value require",experiedAt:"Experied at",active:"Active"},updateVoucher:"Update voucher",minValue:"Minimum order value from",experiedAt:"Experied at",active:"Active",inactive:"Inactive",experied:"Experied"},Es={orderManagement:"Order management",status:"Status",statusSelect:{all:"All",pending:"Pending",confirmed:"Confirmed",delivered:"Delivered",done:"Done",wait_for_pay:"Wait for payment",payed:"Payed",refunded:"Refunded",cancelled:"Cancelled"},statusItemSelect:{pending:"Pending",finished:"Finished"},confirmChangeStatus:"Confirm status change to",date:"Date",search:"Search",createOrder:"Create order",orderTime:"Order time",notes:"Note",viewOrder:"View order details",ago:"ago",orderDetail:{orderDetail:"Order detail",delivered:"Delivered",dish:"Dish(es)",addDish:"Add dishes",total:"Total",reduce:"Reduce",totalPayment:"Total payment",actualPaymentAmount:"Actual payment amount",notePlaceholder:"Note: Less spicy, less ice, more sugar,..."},updateDish:"Update dish",addDishes:"Add dishes to order",selectTable:"Select table",tableMustSelect:"You must select table",orderTable:{user:"User",tableName:"Table name",time:"Time order",status:"Status",notes:"Notes",details:"Details"},cancelOrder:"Cancel Order",orderCancelled:"Order cancelled"},fs={dishes:"Dishes",allDishes:"All dishes",addNewDish:"Add new dish",quantity:"Quantity",total:"Total",payment:"Payment",addToOrder:"Add to order",order:"Order",dish:"Dish(es)",finishOrder:"Finish order",submitOrder:"Submit order",filter:{textAsc:"From A to Z",textDesc:"From Z to A",priceAsc:"Price Low to High",priceDesc:"Price High to Low"},address:"Address",phoneNumber:"Phone number",bankName:"Bank",bankAccount:"Bank account"},ys={profile:"Profile",username:"Username",userId:"User ID",storeId:"Store ID",companyId:"Company ID",role:"Role",zalo_version:"Zalo Version",language:"Language",app_version:"App version",zalo_mini_app_api_version:"Zalo Mini App API Version",keepScreen:"Keep the screen always on at the Order Management page",getLoginToken:"Get login token",loginToken:"Login token",valid1Minute:"Valid in 1 minute",genLoginTokenAgain:"Gen again"},bs={cancel:"Cancel",confirm:"Confirm",save:"Save",use:"Use",delete:"Delete",register:"Register",copy:"Copy",copied:"Copied"},xs={loginFail:"Failed to login",getStoreFail:"Failed get store",getCategoryFail:"Failed get Category list",getProductFail:"Failed get Product list",getTableFail:"Failed get Table list",getOrderFail:"Failed get Order list",catNameEmpty:"catName is empty",userUUIDEmpty:"User UUID is empty",storeNameEmpty:"storeName is empty",updateCatSuccess:"Update category success",updateCatFail:"Failed to update category",addCatSuccess:"Add category success",addCatFail:"Failed to add category",fetchProductDetailFail:"Failed to fetch product details",getCatFail:"Failed send request to get category data",downCatFail:"Failed download category data",statusOrderSuccess:"Status order successfully updated!!!",statusOrderFail:"Failed to update status order",deliveredSuccess:"Delivered quantity successfully updated",deliveredFail:"Failed to update delivered quantity",orderSuccess:"Order successfully updated",orderFail:"Failed to update order",uploadImageSuccess:"Upload images success",uploadImageFail:"Failed to upload images",productCreateSuccess:"Product created successfully!",productCreateFail:"Failed to create product",productUpdateSuccess:"Product updated successfully!",productUpdateFail:"Failed to update product",requestDownStoreListFail:"Failed to send request download StoreList",downStoreListFail:"Failed download StoreList",createStoreSuccess:"Create store successful",createStoreFail:"Failed to create store",createStoreFailExisted:"Store name has already been taken",createCompanySuccess:"Create company successful",createCompanyFail:"Failed to create company",createOrderSuccess:"Create order successfully",createOrderFail:"Error to create order",saved:"Saved",fillRequireInput:"Please enter all required field",getVoucherFail:"Failed to get voucher data",voucherCreateSuccess:"Voucher created successfully!",voucherCreateFail:"Failed to create voucher",voucherUpdateSuccess:"Voucher updated successfully!",voucherUpdateFail:"Failed to update voucher",fetchVoucherDetailFail:"Failed to fetch voucher details",paymentOrderSuccess:"Payment order successfully",paymentOrderFail:"Failed to payment order",deleteFail:"Failed to delete item",deleteSuccess:"Item deleted successfully",addTableSuccess:"Add table successfully",addTableFail:"Failed to add table",addTableFailDueToError:"Adding table failed due to special characters",updateTableSuccess:"Update table successfully",updateTableFail:"Failed to update table",UpdateTableDueToError:"Table name does not contain special characters.",codeValid:"Activation code can be use",codeInvalid:"Invalid activation code",codeNotFound:"Activation code not found!",codeUseOne:"Activation code has been used!",getUserFail:"Failed to get users",userIDIncorrect:"User ID is incorrect",addUserSuccess:"Add user successfully",fetchOrderHistoryFailed:"Fetch order history failed",updateStoreSuccess:"Update store successfully",pleaseLinkPhoneNumber:"Please link your phone number to register store",followedOASuccess:"Followed successfully",followedOAFailed:"Follow OA failed"},vs={menu:"Menu",promotion:{promotion:"Promotion",add:"Add",addVoucherPlaceholder:"Enter voucher code"},order:"Order",user:"User"},Ss={refreshOrder:"Refresh data",currentOrder:"Current Order",orderHistory:"Order History",orderMore:"Order More",voucherEnter:"Voucher Enter",back:"Back",voucherIfHave:"Voucher (if have)",noHaveOrdersYet:"No have orders yet",voucherInvalid:"Voucher invalid",voucherInformation:"Reduce {{voucherValue}} (from {{bill}})"},_s={view_detail:"View Detail",new_order:"New Order",update_order:"Update Order",value:"value",wait_for_pay:"Wait for pay"},Ns={userUUIDEnter:"Enter user UUID",add_user:"Add User",staff:"Staff",admin:"Admin"},Cs={allStore:"All store",filterByStore:"Filter by store"},ks={fromDate:"Start Date",toDate:"End Date",from_date_can_not_greater_to_date:"Start date cannot be greater than end date",from_date_can_not_greater_today:"Start date cannot be greater than today"},ws={description:"Description",enterDescription:"Enter description",address:"Address",enterAddress:"Enter address",phoneNumber:"Phone number",enterPhoneNumber:"Enter phone number",bankName:"Bank",selectBank:"choose bank",bankAccount:"Bank account",enterBankAccount:"Enter bank account",bankExample:"88888888"},Ms={title:"Payment result",successTitle:"Payment success",successSub:"Thank you for your order!",pendingTitle:"Payment is being processed",pendingSub:"The seller has received your payment request and is processing it. Trading code:",failTitle:"Payment failed",failSub:"An error occurred during payment, please try again later! Error code:"};var Ts={main:us,storeManagement:ms,tableManagement:ds,productManagement:ps,categoryManagement:gs,voucherManagement:hs,orderManagement:Es,menu:fs,profile:ys,button:bs,snackbarMessage:xs,navbar:vs,userOrder:Ss,websocket:_s,userManagement:Ns,orderHistory:Cs,saleReport:ks,editStore:ws,payment:Ms};const Ps={storeManage:"Qu\u1EA3n l\xFD c\u1EEDa h\xE0ng",regStore:"\u0110\u0103ng k\xFD c\u1EEDa h\xE0ng",user:"Th\xF4ng tin ng\u01B0\u1EDDi d\xF9ng",companyName:"T\xEAn doanh nghi\u1EC7p",enterCompanyName:"Nh\u1EADp t\xEAn doanh nghi\u1EC7p",createCompany:"T\u1EA1o doanh nghi\u1EC7p",companyManagement:"Qu\u1EA3n l\xFD doanh nghi\u1EC7p",scanQr:"Qu\xE9t m\xE3 QR",reScanQr:"G\u1EA7n \u0111\xE2y",choosePicture:"\u1EA2nh c\xF3 s\u1EB5n",textWhenNothing:"M\xE3 QR b\u1EA1n qu\xE9t s\u1EBD \u1EDF \u0111\xE2y",adminDashboard:"Trang qu\u1EA3n tr\u1ECB vi\xEAn",scanQrDes:"Qu\xE9t m\xE3 QR \u0111\u1EC3 xem th\u1EF1c \u0111\u01A1n",stopScan:"D\u1EEBng qu\xE9t m\xE3 QR",confirmDelete:"B\u1EA1n c\xF3 mu\u1ED1n x\xF3a",confirmCancel:"B\u1EA1n c\xF3 mu\u1ED1n hu\u1EF7?",no_permission:"Vui l\xF2ng c\u1EA5p quy\u1EC1n truy c\u1EADp camera cho Zalo",switch_camera:"Chuy\u1EC3n camera",not_found:"M\xE3 QR code kh\xF4ng \u0111\xFAng, vui l\xF2ng ki\u1EC3m tra l\u1EA1i",chat_with_user:"Nh\u1EAFn tin Zalo cho"},Ds={storeManagement:"Qu\u1EA3n l\xFD c\u1EEDa h\xE0ng",regStore:"\u0110\u0103ng k\xFD",storeName:"T\xEAn c\u1EEDa h\xE0ng",enterStoreName:"Nh\u1EADp t\xEAn c\u1EEDa h\xE0ng",storeDescription:"Th\xF4ng tin c\u1EEDa h\xE0ng",helperStoreCode:"Ch\u1EC9 g\u1ED3m ch\u1EEF, s\u1ED1 v\xE0 d\u1EA5u g\u1EA1ch d\u01B0\u1EDBi",suggestStoreCode:"M\xE3 c\u1EEDa h\xE0ng \u0111\u1EC1 xu\u1EA5t",store:"C\u1EEDa h\xE0ng",tables:"B\xE0n",products:"S\u1EA3n ph\u1EA9m",categories:"Danh m\u1EE5c",voucher:"M\xE3 gi\u1EA3m gi\xE1",order:"\u0110\u01A1n h\xE0ng",storeDetail:"Chi ti\u1EBFt c\u1EEDa h\xE0ng",activationCode:"M\xE3 k\xEDch ho\u1EA1t",enterActivationCode:"M\xE3 k\xEDch ho\u1EA1t",enterMetadata:"Th\xF4ng tin v\u1EC1 c\u1EEDa h\xE0ng",days:"Ng\xE0y",getPhoneSupport:"Li\xEAn k\u1EBFt s\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 \u0111\u01B0\u1EE3c t\u01B0 v\u1EA5n",user:"Qu\u1EA3n l\xFD nh\xE2n vi\xEAn",sale_report:"B\xE1o c\xE1o \u0111\u01A1n gi\u1EA3n",editStore:"C\u1EADp nh\u1EADt c\u1EEDa h\xE0ng",follow_oa:"Theo d\xF5i OA",send_message:"Chat v\u1EDBi V\xE0ng Xanh"},Ls={tableManagement:"Qu\u1EA3n l\xFD b\xE0n",enterTableName:"Nh\u1EADp t\xEAn b\xE0n",table:"B\xE0n",print:"In",tableName:"T\xEAn b\xE0n",updateTable:"C\u1EADp nh\u1EADt b\xE0n",scanQrTable:"Qu\xE9t m\xE3 \u0111\u1EC3 xem",menu:"MENU",saveAllQr:"L\u01B0u t\u1EA5t c\u1EA3 m\xE3 QR",saveQrFail:"L\u01B0u m\xE3 QR th\u1EA5t b\u1EA1i",saveQrNoti:"L\u01B0u m\xE3 QR th\xE0nh c\xF4ng!",qrPowerBy:"Cung c\u1EA5p b\u1EDFi",scanQr:"Qu\xE9t QR",viewMenu:"Xem menu",order:"\u0110\u1EB7t m\xF3n",pay:"Thanh to\xE1n"},Is={productManagement:"Qu\u1EA3n l\xFD s\u1EA3n ph\u1EA9m",price:"Gi\xE1",updateProduct:"C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m",createProduct:{createProduct:"T\u1EA1o s\u1EA3n ph\u1EA9m",productName:"T\xEAn s\u1EA3n ph\u1EA9m",productNameEnter:"Nh\u1EADp t\xEAn s\u1EA3n ph\u1EA9m",productDescription:"M\xF4 t\u1EA3 s\u1EA3n ph\u1EA9m",productDescriptionEnter:"Nh\u1EADp m\xF4 t\u1EA3 s\u1EA3n ph\u1EA9m",productPrice:"Gi\xE1 s\u1EA3n ph\u1EA9m",productPriceEnter:"Nh\u1EADp gi\xE1 s\u1EA3n ph\u1EA9m",store:"C\u1EEDa h\xE0ng",storeSelect:"Ch\u1ECDn c\u1EEDa h\xE0ng",storeInfo:"C\xF3 th\u1EC3 ch\u1ECDn m\u1ED9t c\u1EEDa h\xE0ng",category:"Danh m\u1EE5c",categorySelect:"Ch\u1ECDn danh m\u1EE5c",categoryInfo:"C\xF3 th\u1EC3 ch\u1ECDn nhi\u1EC1u danh m\u1EE5c",uploadImage:"T\u1EA3i l\xEAn h\xECnh \u1EA3nh",display:"Hi\u1EC3n th\u1ECB",submit:"X\xE1c nh\u1EADn",messageErrorProductName:"Vui l\xF2ng nh\u1EADp t\xEAn s\u1EA3n ph\u1EA9m",messageErrorProductDescription:"Vui l\xF2ng nh\u1EADp m\xF4 t\u1EA3 s\u1EA3n ph\u1EA9m",messageErrorProductPrice:"Vui l\xF2ng nh\u1EADp gi\xE1 s\u1EA3n ph\u1EA9m",messageErrorProductImage:"Vui l\xF2ng ch\u1ECDn \xEDt nh\u1EA5t m\u1ED9t \u1EA3nh s\u1EA3n ph\u1EA9m",messageErrorProductCategory:"Vui l\xF2ng ch\u1ECDn \xEDt nh\u1EA5t m\u1ED9t danh m\u1EE5c s\u1EA3n ph\u1EA9m"},scanMenu:{button:"Scan Menu",title:"Upload \u1EA3nh menu c\u1EE7a c\u1EEDa h\xE0ng b\u1EA1n \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng nh\u1EADp s\u1EA3n ph\u1EA9m",description:"Click n\xFAt upload \u0111\u1EC3 ch\u1ECDn \u1EA3nh menu v\xE0 t\u1EF1 \u0111\u1ED9ng nh\u1EADp s\u1EA3n ph\u1EA9m trong menu. Ch\xFA \xFD l\xE0 c\u1EEDa h\xE0ng c\u1EE7a b\u1EA1n ch\u1EC9 c\xF3 th\u1EC3 upload t\u1ED1i \u0111a 5 \u1EA3nh menu.",over_limit:"B\u1EA1n \u0111\xE3 s\u1EED d\u1EE5ng h\u1EBFt gi\u1EDBi h\u1EA1n c\u1EE7a t\xEDnh n\u0103ng t\u1EF1 \u0111\u1ED9ng nh\u1EADp s\u1EA3n ph\u1EA9m",current_count:"B\u1EA1n \u0111\xE3 d\xF9ng",status:"Tr\u1EA1ng th\xE1i y\xEAu c\u1EA7u",request_date:"Th\u1EDDi gian y\xEAu c\u1EA7u"},status:{display:"Hi\u1EC3n th\u1ECB",hidden:"\u1EA8n"}},Os={categoryManagement:"Qu\u1EA3n l\xFD danh m\u1EE5c",categoryNameEnter:"Nh\u1EADp t\xEAn danh m\u1EE5c",category:"Danh m\u1EE5c",categoryName:"T\xEAn danh m\u1EE5c",update:"C\u1EADp nh\u1EADt",store:"C\u1EEDa h\xE0ng",updateCategory:"C\u1EADp nh\u1EADt danh m\u1EE5c",position:"Th\u1EE9 t\u1EF1",dragDrop:"K\xE9o th\u1EA3 \u0111\u1EC3 thay \u0111\u1ED5i th\u1EE9 t\u1EF1"},As={voucherManagement:"Qu\u1EA3n l\xFD m\xE3 gi\u1EA3m gi\xE1",createVoucher:{createVoucher:"T\u1EA1o m\xE3 gi\u1EA3m gi\xE1",voucherCode:"M\xE3",enterVoucherCode:"Nh\u1EADp m\xE3",description:"M\xF4 t\u1EA3",enterDescription:"Nh\u1EADp m\xF4 t\u1EA3",voucherType:"Lo\u1EA1i m\xE3",typeSelect:{decrease_by_value:"Gi\u1EA3m theo gi\xE1 tr\u1ECB",decrease_by_percent:"Gi\u1EA3m theo ph\u1EA7n tr\u0103m"},voucherValue:"Gi\xE1 tr\u1ECB gi\u1EA3m",enterVoucherValue:"Nh\u1EADp gi\xE1 tr\u1ECB",voucherMinOrderValue:"Gi\xE1 tr\u1ECB \u0111\u01A1n h\xE0ng t\u1ED1i thi\u1EC3u",enterVoucherMinOrderValue:"Nh\u1EADp gi\xE1 tr\u1ECB \u0111\u01A1n h\xE0ng t\u1ED1i thi\u1EC3u",experiedAt:"Ng\xE0y h\u1EBFt h\u1EA1n",active:"Ho\u1EA1t \u0111\u1ED9ng"},updateVoucher:"C\u1EADp nh\u1EADt m\xE3 gi\u1EA3m gi\xE1",minValue:"\u0110\u01A1n t\u1ED1i thi\u1EC3u",experiedAt:"H\u1EBFt h\u1EA1n v\xE0o",active:"Ho\u1EA1t \u0111\u1ED9ng",inactive:"Ch\u01B0a k\xEDch ho\u1EA1t",experied:"H\u1EBFt h\u1EA1n"},zs={orderManagement:"Qu\u1EA3n l\xFD \u0111\u01A1n h\xE0ng",status:"Tr\u1EA1ng th\xE1i",statusSelect:{all:"T\u1EA5t c\u1EA3",pending:"\u0110ang ch\u1EDD",confirmed:"\u0110\xE3 x\xE1c nh\u1EADn",delivered:"\u0110\xE3 l\xEAn m\xF3n",done:"Ho\xE0n th\xE0nh",wait_for_pay:"Ch\u1EDD thanh to\xE1n",payed:"\u0110\xE3 thanh to\xE1n",refunded:"\u0110\xE3 ho\xE0n ti\u1EC1n",cancelled:"\u0110\xE3 h\u1EE7y"},statusItemSelect:{pending:"\u0110ang ch\u1EDD",finished:"\u0110\xE3 l\xEAn m\xF3n"},confirmChangeStatus:"X\xE1c nh\u1EADn thay \u0111\u1ED5i tr\u1EA1ng th\xE1i",date:"Ng\xE0y",search:"T\xECm ki\u1EBFm",createOrder:"T\u1EA1o \u0111\u01A1n h\xE0ng",orderTime:"Th\u1EDDi gian \u0111\u1EB7t",notes:"Ghi ch\xFA",viewOrder:"Xem chi ti\u1EBFt",ago:"tr\u01B0\u1EDBc",orderDetail:{orderDetail:"Chi ti\u1EBFt \u0111\u01A1n h\xE0ng",delivered:"\u0110\xE3 l\xEAn",dish:"M\xF3n",addDish:"Th\xEAm m\xF3n",total:"T\u1ED5ng ti\u1EC1n",reduce:"Gi\u1EA3m gi\xE1",totalPayment:"T\u1ED5ng thanh to\xE1n",actualPaymentAmount:"S\u1ED1 ti\u1EC1n thanh to\xE1n th\u1EF1c t\u1EBF",notePlaceholder:"Ghi ch\xFA: \xCDt cay, \xEDt \u0111\xE1, nhi\u1EC1u \u0111\u01B0\u1EDDng,..."},updateDish:"Ch\u1EC9nh s\u1EEDa m\xF3n",addDishes:"Th\xEAm m\xF3n v\xE0o \u0111\u01A1n h\xE0ng",selectTable:"Ch\u1ECDn b\xE0n",tableMustSelect:"B\u1EA1n ph\u1EA3i ch\u1ECDn b\xE0n",orderTable:{user:"Ng\u01B0\u1EDDi \u0111\u1EB7t",tableName:"T\xEAn b\xE0n",time:"Th\u1EDDi gian \u0111\u1EB7t",status:"Tr\u1EA1ng th\xE1i",notes:"Ghi ch\xFA",details:"Chi ti\u1EBFt"},cancelOrder:"Hu\u1EF7 \u0111\u01A1n h\xE0ng",orderCancelled:"\u0110\xE3 hu\u1EF7 \u0111\u01A1n"},Fs={dishes:"M\xF3n \u0103n",allDishes:"T\u1EA5t c\u1EA3 m\xF3n \u0103n",addNewDish:"Th\xEAm m\xF3n m\u1EDBi",quantity:"S\u1ED1 l\u01B0\u1EE3ng",total:"T\u1ED5ng ti\u1EC1n",payment:"T\xEDnh ti\u1EC1n",addToOrder:"Th\xEAm v\xE0o \u0111\u01A1n",order:"\u0110\u01A1n h\xE0ng",dish:"M\xF3n",finishOrder:"Ho\xE0n th\xE0nh \u0111\u1EB7t h\xE0ng",submitOrder:"\u0110\u1EB7t \u0111\u01A1n h\xE0ng",filter:{textAsc:"T\u1EEB A - Z",textDesc:"T\u1EEB Z - A",priceAsc:"Gi\xE1 th\u1EA5p \u0111\u1EBFn cao",priceDesc:"Gi\xE1 cao \u0111\u1EBFn th\u1EA5p"},address:"\u0110\u1ECBa ch\u1EC9",phoneNumber:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",bankName:"Ng\xE2n h\xE0ng",bankAccount:"S\u1ED1 t\xE0i kho\u1EA3n"},Bs={profile:"Th\xF4ng tin c\xE1 nh\xE2n",username:"T\xEAn ng\u01B0\u1EDDi d\xF9ng",userId:"M\xE3 ng\u01B0\u1EDDi d\xF9ng",storeId:"M\xE3 c\u1EEDa h\xE0ng",companyId:"M\xE3 c\xF4ng ty",role:"Vai tr\xF2",zalo_version:"Phi\xEAn b\u1EA3n Zalo",language:"Ng\xF4n ng\u1EEF",app_version:"Phi\xEAn b\u1EA3n app",zalo_mini_app_api_version:"Phi\xEAn b\u1EA3n Zalo Mini App API",zalo_mini_app_version:"Phi\xEAn b\u1EA3n Zalo Mini App",keepScreen:"Gi\u1EEF m\xE0n h\xECnh lu\xF4n b\u1EADt t\u1EA1i trang Qu\u1EA3n l\xFD Order",getLoginToken:"L\u1EA5y m\xE3 \u0111\u0103ng nh\u1EADp",loginToken:"M\xE3 \u0111\u0103ng nh\u1EADp",valid1Minute:"Hi\u1EC7u l\u1EF1c trong 1 ph\xFAt",genLoginTokenAgain:"T\u1EA1o l\u1EA1i"},Vs={cancel:"H\u1EE7y b\u1ECF",confirm:"X\xE1c nh\u1EADn",save:"L\u01B0u",use:"S\u1EED d\u1EE5ng",delete:"X\xF3a",register:"\u0110\u0103ng k\xFD",copy:"Sao ch\xE9p",copied:"\u0110\xE3 sao ch\xE9p"},$s={loginFail:"\u0110\u0103ng nh\u1EADp th\u1EA5t b\u1EA1i",getStoreFail:"L\u1EA5y danh th\xF4ng tin c\u1EEDa h\xE0ng th\u1EA5t b\u1EA1i",getCategoryFail:"L\u1EA5y danh s\xE1ch danh m\u1EE5c th\u1EA5t b\u1EA1i",getProductFail:"L\u1EA5y danh s\xE1ch s\u1EA3n ph\u1EA9m th\u1EA5t b\u1EA1i",getTableFail:"L\u1EA5y danh s\xE1ch b\xE0n th\u1EA5t b\u1EA1i",getOrderFail:"L\u1EA5y danh s\xE1ch \u0111\u01A1n h\xE0ng th\u1EA5t b\u1EA1i",catNameEmpty:"T\xEAn danh m\u1EE5c kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",userUUIDEmpty:"Ch\u01B0a c\xF3 th\xF4ng tin c\u1EE7a UserUUID",storeNameEmpty:"T\xEAn c\u1EEDa h\xE0ng kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",updateCatSuccess:"C\u1EADp nh\u1EADt danh m\u1EE5c th\xE0nh c\xF4ng",updateCatFail:"C\u1EADp nh\u1EADt danh m\u1EE5c th\u1EA5t b\u1EA1i",addCatSuccess:"Th\xEAm danh m\u1EE5c th\xE0nh c\xF4ng",addCatFail:"Th\xEAm danh m\u1EE5c th\u1EA5t b\u1EA1i",fetchProductDetailFail:"L\u1EA5y th\xF4ng tin s\u1EA3n ph\u1EA9m th\u1EA5t b\u1EA1i",getCatFail:"G\u1EEDi y\xEAu c\u1EA7u l\u1EA5y th\xF4ng tin danh m\u1EE5c th\u1EA5t b\u1EA1i",downCatFail:"L\u1EA5y th\xF4ng tin danh m\u1EE5c th\u1EA5t b\u1EA1i",statusOrderSuccess:"C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i \u0111\u01A1n h\xE0ng th\xE0nh c\xF4ng",statusOrderFail:"C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i \u0111\u01A1n h\xE0ng th\u1EA5t b\u1EA1i",deliveredSuccess:"C\u1EADp nh\u1EADt s\u1ED1 l\u01B0\u1EE3ng m\xF3n \u0111\xE3 l\xEAn th\xE0nh c\xF4ng",deliveredFail:"C\u1EADp nh\u1EADt s\u1ED1 l\u01B0\u1EE3ng m\xF3n \u0111\xE3 l\xEAn th\u1EA5t b\u1EA1i",orderSuccess:"C\u1EADp nh\u1EADt \u0111\u01A1n h\xE0ng th\xE0nh c\xF4ng",orderFail:"C\u1EADp nh\u1EADt \u0111\u01A1n h\xE0ng th\u1EA5t b\u1EA1i",uploadImageSuccess:"T\u1EA3i l\xEAn h\xECnh \u1EA3nh th\xE0nh c\xF4ng",uploadImageFail:"T\u1EA3i l\xEAn h\xECnh \u1EA3nh th\u1EA5t b\u1EA1i",productCreateSuccess:"T\u1EA1o s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng",productCreateFail:"T\u1EA1o s\u1EA3n ph\u1EA9m th\u1EA5t b\u1EA1i",productUpdateSuccess:"C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng",productUpdateFail:"C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m th\u1EA5t b\u1EA1i",requestDownStoreListFail:"G\u1EEDi y\xEAu c\u1EA7u l\u1EA5y danh s\xE1ch c\u1EEDa h\xE0ng th\u1EA5t b\u1EA1i",downStoreListFail:"L\u1EA5y danh s\xE1ch c\u1EEDa h\xE0ng th\u1EA5t b\u1EA1i",createStoreSuccess:"T\u1EA1o c\u1EEDa h\xE0ng th\xE0nh c\xF4ng",createStoreFail:"T\u1EA1o c\u1EEDa h\xE0ng th\u1EA5t b\u1EA1i",createStoreFailExisted:"T\xEAn c\u1EEDa h\xE0ng \u0111\xE3 t\u1ED3n t\u1EA1i",createCompanySuccess:"T\u1EA1o doanh nghi\u1EC7p th\xE0nh c\xF4ng",createCompanyFail:"T\u1EA1o doanh nghi\u1EC7p th\u1EA5t b\u1EA1i",createOrderSuccess:"T\u1EA1o \u0111\u01A1n h\xE0ng th\xE0nh c\xF4ng",createOrderFail:"T\u1EA1o \u0111\u01A1n h\xE0ng th\u1EA5t b\u1EA1i",saved:"\u0110\xE3 l\u01B0u",fillRequireInput:"H\xE3y \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 c\xE1c tr\u01B0\u1EDDng y\xEAu c\u1EA7u",getVoucherFail:"L\u1EA5y danh s\xE1ch m\xE3 gi\u1EA3m gi\xE1 th\u1EA5t b\u1EA1i",voucherCreateSuccess:"T\u1EA1o m\xE3 gi\u1EA3m gi\xE1 th\xE0nh c\xF4ng",voucherCreateFail:"T\u1EA1o m\xE3 gi\u1EA3m gi\xE1 th\u1EA5t b\u1EA1i",voucherUpdateSuccess:"C\u1EADp nh\u1EADt m\xE3 th\xE0nh c\xF4ng",voucherUpdateFail:"C\u1EADp nh\u1EADt m\xE3 th\u1EA5t b\u1EA1i",fetchVoucherDetailFail:"L\u1EA5y th\xF4ng tin m\xE3 th\u1EA5t b\u1EA1i",paymentOrderSuccess:"Thanh to\xE1n th\xE0nh c\xF4ng",paymentOrderFail:"Thanh to\xE1n th\u1EA5t b\u1EA1i",deleteFail:"X\xF3a \u0111\u1ED1i t\u01B0\u1EE3ng th\u1EA5t b\u1EA1i",deleteSuccess:"X\xF3a \u0111\u1ED1i t\u01B0\u1EE3ng th\xE0nh c\xF4ng",addTableSuccess:"Th\xEAm b\xE0n th\xE0nh c\xF4ng",addTableFail:"Th\xEAm b\xE0n th\u1EA5t b\u1EA1i",addTableFailDueToError:"Th\xEAm b\xE0n th\u1EA5t b\u1EA1i do c\xF3 k\xED t\u1EF1 \u0111\u1EB7c bi\u1EC7t",updateTableSuccess:"C\u1EADp nh\u1EADt b\xE0n th\xE0nh c\xF4ng",updateTableFail:"C\u1EADp nh\u1EADt b\xE0n th\u1EA5t b\u1EA1i",UpdateTableDueToError:"T\xEAn b\xE0n kh\xF4ng ch\u1EE9a k\xED t\u1EF1 \u0111\u1EB7c bi\u1EC7t",codeValid:"M\xE3 k\xEDch ho\u1EA1t c\xF3 th\u1EC3 s\u1EED d\u1EE5ng",codeInvalid:"M\xE3 k\xEDch ho\u1EA1t kh\xF4ng h\u1EE3p l\u1EC7",codeNotFound:"Kh\xF4ng t\xECm th\u1EA5y m\xE3 k\xEDch ho\u1EA1t!",codeUseOne:"M\xE3 k\xEDch ho\u1EA1t \u0111\xE3 \u0111\u01B0\u1EE3c s\u1EED d\u1EE5ng!",getUserFail:"Kh\xF4ng th\u1EC3 l\u1EA5y \u0111\u01B0\u1EE3c d\u1EEF li\u1EC7u ng\u01B0\u1EDDi d\xF9ng",userIDIncorrect:"ID ng\u01B0\u1EDDi d\xF9ng kh\xF4ng ch\xEDnh x\xE1c",addUserSuccess:"Th\xEAm ng\u01B0\u1EDDi d\xF9ng th\xE0nh c\xF4ng",fetchOrderHistoryFailed:"Kh\xF4ng t\u1EA3i xu\u1ED1ng \u0111\u01B0\u1EE3c l\u1ECBch s\u1EED \u0111\u1EB7t h\xE0ng",updateStoreSuccess:"C\u1EADp nh\u1EADt c\u1EEDa h\xE0ng th\xE0nh c\xF4ng",pleaseLinkPhoneNumber:"H\xE3y li\xEAn k\u1EBFt s\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 \u0111\u0103ng k\xFD c\u1EEDa h\xE0ng",followedOASuccess:"Follow OA th\xE0nh c\xF4ng",followedOAFailed:"Follow OA ch\u01B0a th\xE0nh c\xF4ng"},Rs={menu:"Th\u1EF1c \u0111\u01A1n",promotion:{promotion:"Khuy\u1EBFn m\u1EA1i",add:"Th\xEAm",addVoucherPlaceholder:"Nh\u1EADp m\xE3 khuy\u1EBFn m\u1EA1i"},order:"\u0110\u01A1n h\xE0ng",user:"C\xE1 nh\xE2n"},Us={refreshOrder:"L\xE0m m\u1EDBi d\u1EEF li\u1EC7u",currentOrder:"\u0110\u01A1n hi\u1EC7n t\u1EA1i",orderHistory:"L\u1ECBch s\u1EED \u0111\u01A1n h\xE0ng",orderMore:"G\u1ECDi th\xEAm m\xF3n",voucherEnter:"Nh\u1EADp Voucher...",back:"Quay l\u1EA1i",voucherIfHave:"Voucher (n\u1EBFu c\xF3)",noHaveOrdersYet:"Hi\u1EC7n t\u1EA1i kh\xF4ng c\xF3 \u0111\u01A1n",voucherInvalid:"Voucher kh\xF4ng h\u1EE3p l\u1EC7",voucherInformation:"Gi\u1EA3m {{voucherValue}} (\u0111\u01A1n t\u1EEB {{bill}})"},qs={view_detail:"Xem chi ti\u1EBFt",new_order:"\u0110\u01A1n m\u1EDBi",update_order:"C\u1EADp nh\u1EADt \u0111\u01A1n h\xE0ng",value:"Gi\xE1 tr\u1ECB",wait_for_pay:"Y\xEAu c\u1EA7u thanh to\xE1n"},Hs={userUUIDEnter:"\u0110i\u1EC1n ID ng\u01B0\u1EDDi d\xF9ng",add_user:"Th\xEAm ng\u01B0\u1EDDi d\xF9ng",staff:"Nh\xE2n vi\xEAn",admin:"Qu\u1EA3n l\xFD"},js={allStore:"T\u1EA5t c\u1EA3 c\u1EEDa h\xE0ng",filterByStore:"L\u1ECDc theo c\u1EEDa h\xE0ng"},Qs={fromDate:"Ng\xE0y b\u1EAFt ",toDate:"Ng\xE0y k\u1EBFt th\xFAc",from_date_can_not_greater_to_date:"Ng\xE0y b\u1EAFt \u0111\u1EA7u kh\xF4ng \u0111\u01B0\u1EE3c sau ng\xE0y k\u1EBFt th\xFAc",from_date_can_not_greater_today:"Ng\xE0y b\u1EAFt \u0111\u1EA7u kh\xF4ng \u0111\u01B0\u1EE3c sau ng\xE0y h\xF4m nay"},Gs={description:"M\xF4 t\u1EA3",enterDescription:"Nh\u1EADp m\xF4 t\u1EA3",address:"\u0110\u1ECBa ch\u1EC9",enterAddress:"Nh\u1EADp \u0111\u1ECBa ch\u1EC9",phoneNumber:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",enterPhoneNumber:"Nh\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",bankName:"Ng\xE2n h\xE0ng",selectBank:"Ch\u1ECDn ng\xE2n h\xE0ng",bankAccount:"S\u1ED1 t\xE0i kho\u1EA3n",enterBankAccount:"Nh\u1EADp s\u1ED1 t\xE0i kho\u1EA3n",bankExample:"88888888"};var Ys={main:Ps,storeManagement:Ds,tableManagement:Ls,productManagement:Is,categoryManagement:Os,voucherManagement:As,orderManagement:zs,menu:Fs,profile:Bs,button:Vs,snackbarMessage:$s,navbar:Rs,userOrder:Us,websocket:qs,userManagement:Hs,orderHistory:js,saleReport:Qs,editStore:Gs};const Ws=()=>{const{t}=Q("global"),r=Ee(),[s,n]=$(_e),[c,o]=i.exports.useState(!1),[l,m]=i.exports.useState({}),[h,p]=i.exports.useState([]),{store_uuid:b}=be(),u=le();i.exports.useEffect(()=>{n(T(N({},s),{isLoading:!0})),f()},[b]);const f=()=>y(void 0,null,function*(){const S=yield or(b);(S==null?void 0:S.error)?(console.error("Error:",S.error),u.openSnackbar({duration:3e3,text:typeof S.error=="string"?S.error:t("snackbarMessage.getVoucherFail"),type:"error"})):p([...S.sort((E,x)=>new Date(x.updated_at).getTime()-new Date(E.updated_at).getTime())]),n(T(N({},s),{isLoading:!1}))});return e.createElement(se,{className:"section-container",style:{backgroundColor:"#f3f3f3"}},e.createElement(a,{className:"toolbar_add-btn"},e.createElement(q,{className:"fw-500",style:{width:"100%"},onClick:()=>r(`/admin/voucher/form/${b}`),prefixIcon:e.createElement(Ve,null)},t("voucherManagement.createVoucher.createVoucher"))),e.createElement(pe,{style:{marginTop:"16px"}},h.map(S=>e.createElement(va,{voucher:S,key:S.uuid,onDetails:()=>r(`/admin/voucher/update/${b}/${S.uuid}`)}))),e.createElement(ns,{isShow:c,voucher:l,onClose:()=>{o(!1),m({})},onUse:()=>{}}))},{Option:Ks}=xe,_a=()=>{const{t}=Q("global"),{store_uuid:r,voucher_uuid:s}=be(),[n,c]=i.exports.useState({voucher_code:"",notes:"",voucher_type:De.BY_VALUE,voucher_value:"",expired_at:"",status:"inactive",voucher_min_order_value:""}),o=le();$(ie);const l=Ee(),[m,h]=i.exports.useState(!1),[p,b]=i.exports.useState(!1),u=(d,D)=>{if(d==="voucher_value"||d==="voucher_min_order_value"){const C=He(D);c(T(N({},n),{[d]:C}));return}if(d==="voucher_code"){c(T(N({},n),{[d]:D.toUpperCase()}));return}c(T(N({},n),{[d]:D}))};i.exports.useEffect(()=>{s&&s!=="null"&&S(s)},[]);const f=()=>{h(d=>!d)},S=d=>y(void 0,null,function*(){const D=yield ur(d);(D==null?void 0:D.error)?o.openSnackbar({duration:3e3,text:t("snackbarMessage.fetchVoucherDetailFail"),type:"error"}):(c({store_uuid:r,voucher_code:D.voucher_code,notes:D.notes,voucher_type:D.voucher_type,voucher_value:He(D.voucher_value),expired_at:new Date(D.expired_at),status:D.status,voucher_min_order_value:He(D.voucher_min_order_value)}),D.status=="inactive"?h(!1):h(!0))}),E=()=>{if(!n.voucher_value||!n.notes||!n.voucher_code||!n.expired_at){b(!0),o.openSnackbar({duration:3e3,text:t("snackbarMessage.fillRequireInput"),type:"error"});return}s&&s!=="null"?_():x()},x=()=>y(void 0,null,function*(){const d=k(),D=yield ir(d);(D==null?void 0:D.error)?o.openSnackbar({duration:3e3,text:D.error,type:"error"}):(o.openSnackbar({duration:3e3,text:t("snackbarMessage.voucherCreateSuccess"),type:"success"}),l(-1))}),_=()=>y(void 0,null,function*(){let d=k();console.log(JSON.stringify(d));const D=yield lr(s,d);(D==null?void 0:D.error)?o.openSnackbar({duration:3e3,text:D.error,type:"error"}):(o.openSnackbar({duration:3e3,text:t("snackbarMessage.voucherUpdateSuccess"),type:"success"}),l(-1))}),k=()=>({voucher:{store_uuid:r,voucher_code:n.voucher_code,notes:n.notes,voucher_type:n.voucher_type,voucher_value:parseInt(n.voucher_value.replace(/\D/g,""),10),expired_at:n.expired_at.getTime()/1e3,status:m?"actived":"inactive",voucher_min_order_value:parseInt((n.voucher_min_order_value||"0").replace(/\D/g,""),10)}});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(a,null,e.createElement(ue,{id:"name",label:t("voucherManagement.createVoucher.voucherCode"),type:"text",placeholder:t("voucherManagement.createVoucher.enterVoucherCode"),status:p&&!(n==null?void 0:n.voucher_code)?"error":"",value:n==null?void 0:n.voucher_code,onChange:d=>u("voucher_code",d.target.value)}),e.createElement(ue.TextArea,{id:"describe",label:t("voucherManagement.createVoucher.description"),type:"textarea",placeholder:t("voucherManagement.createVoucher.enterDescription"),status:p&&!(n==null?void 0:n.notes)?"error":"",value:n==null?void 0:n.notes,onChange:d=>u("notes",d.target.value),showCount:!0,maxLength:250}),e.createElement(a,{mt:6},e.createElement(xe,{id:"type",label:t("voucherManagement.createVoucher.voucherType"),placeholder:t("voucherManagement.createVoucher.selectVoucherType"),value:n==null?void 0:n.voucher_type,onChange:d=>u("voucher_type",d)},Object.keys(De).map((d,D)=>e.createElement(Ks,{key:D,value:De[d],title:t("voucherManagement.createVoucher.typeSelect."+De[d])})))),e.createElement(ue,{id:"value",label:t("voucherManagement.createVoucher.voucherValue"),type:"text",placeholder:t("voucherManagement.createVoucher.enterVoucherValue"),status:p&&!(n==null?void 0:n.voucher_value)?"error":"",value:n==null?void 0:n.voucher_value,onChange:d=>u("voucher_value",d.target.value)}),e.createElement(ue,{id:"voucher_min_order_value",label:t("voucherManagement.createVoucher.voucherMinOrderValue"),type:"text",placeholder:t("voucherManagement.createVoucher.enterVoucherMinOrderValue"),value:n==null?void 0:n.voucher_min_order_value,onChange:d=>u("voucher_min_order_value",d.target.value)}),e.createElement(Ge,{mask:!0,maskClosable:!0,label:t("voucherManagement.createVoucher.experiedAt"),value:n==null?void 0:n.expired_at,onChange:d=>{u("expired_at",d)},status:p&&!(n==null?void 0:n.expired_at)?"error":""})),e.createElement(a,{mt:6},e.createElement(a,null,e.createElement(gt,{checked:m,label:t("voucherManagement.createVoucher.active"),onChange:f}))),e.createElement(a,{mt:4},e.createElement(q,{fullWidth:!0,variant:"primary",onClick:E},t("button.save"))))))},Zs=()=>oe(Ye)?e.createElement(se,{className:"section-container",style:{zIndex:1e4,background:"rgba(0, 0, 0, 0.5)",position:"fixed"}},e.createElement(a,{style:{inset:0,margin:"auto",position:"absolute",width:"fit-content",height:"fit-content"}},e.createElement(Et,{visible:!0}))):null,Js=({children:t})=>{const{t:r,i18n:s}=Q("global"),n=le(),c=i.exports.useRef(null),[o,l]=$(ie),[m,h]=i.exports.useState(null),[p,b]=i.exports.useState(!0),[u,f]=$(_e);i.exports.useEffect(()=>{c.current=n},[n]),i.exports.useEffect(()=>{S()},[]);const S=()=>y(void 0,null,function*(){const{language:x}=yield Te({keys:["language"]});x?s.changeLanguage(x):Pe({data:{language:"vi"}})}),E=()=>y(void 0,null,function*(){try{if(o.login)f(T(N({},u),{isLoading:!1}));else{f(T(N({},u),{completedText:"start get access token",completedPercent:60})),console.log("user is not login. login...");let x;if($e.debug?x=zn:x=yield tn(),console.log(`access_token: ${x}`),f(T(N({},u),{completedText:"start login...",completedPercent:70})),x){l({accessToken:x});const _=yield Rn(x);(_==null?void 0:_.error)?(console.error("Error:",_.error),f(T(N({},u),{isLoading:!1}))):(l({zalo_id:_.zalo_id,avatar:_.avatar,name:_.name,uuid:_.uuid,store_uuid:_.store_uuid,company_uuid:_.company_uuid,role:_.role,login:!0,has_phone:_.has_phone,is_oa_follow:_.is_oa_follow,authToken:_.auth_token}),Pe({data:{authToken:_.auth_token}}),f(T(N({},u),{completedText:"done",completedPercent:100})),f(T(N({},u),{isLoading:!1})),console.log(`auth_token: ${_.auth_token}`))}else{h(!0);return}}}catch(x){console.error("Error checking auth:",x),h(!0)}});return i.exports.useEffect(()=>{if(f(T(N({},u),{isLoading:!0})),p){b(!1);return}return E(),()=>{}},[p]),i.exports.useEffect(()=>{m&&n.openSnackbar({duration:1e4,text:r("snackbarMessage.loginFail"),type:"countdown"})},[m,n]),m||!o.login?null:e.createElement(e.Fragment,null,e.createElement(It,null),e.createElement(Zs,null),t)};function Xs(){return e.createElement(se,{className:"section-container"},e.createElement(a,{mb:4},e.createElement(a,{mb:2},e.createElement(g,{size:"xLarge",bold:!0},"Status Order")),e.createElement(a,null,Object.values(Y).map((t,r)=>e.createElement(a,{mb:2},e.createElement(Lt,{status:t,key:r}))))))}const eo=()=>{const{t}=Q("global"),{store_uuid:r,table_uuid:s}=be();oe(ie);const[n,c]=bt(),o=n.get("table_name"),[l,m]=e.useState({uuid:s,name:o}),h=le(),p=Ee(),b=E=>/[^\p{L}\p{M}\p{N}\s]/u.test(E),u=(E,x)=>{m(T(N({},l),{[E]:x}))},f=()=>{if(b(l.name)){h.openSnackbar({duration:3e3,text:t("snackbarMessage.UpdateTableDueToError"),type:"error"});return}l.uuid&&S(l.uuid,l.name)},S=()=>y(void 0,null,function*(){let E={store_uuid:r,table:{name:l.name,uuid:l.uuid}};const x=yield nr(E);(x==null?void 0:x.error)?h.openSnackbar({duration:3e3,text:t("snackbarMessage.updateTableFail"),type:"error"}):(h.openSnackbar({duration:3e3,text:t("snackbarMessage.updateTableSuccess"),type:"success"}),p(-1))});return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(ue,{id:"name",label:t("tableManagement.tableName"),type:"text",placeholder:t("tableManagement.tableName"),value:l==null?void 0:l.name,onChange:E=>u("name",E.target.value),showCount:!0,maxLength:10}),e.createElement(a,{mt:4},e.createElement(q,{fullWidth:!0,variant:"primary",onClick:f},t("categoryManagement.update"))))))},to=({store_uuid:t,onUserAdded:r})=>{const{t:s}=Q("global"),[n,c]=i.exports.useState(""),o=le(),[l,m]=i.exports.useState("staff"),h=()=>y(void 0,null,function*(){if(n){let p={store_uuid:t,user_uuid:n.replace(/\s/g,""),role:l};const b=yield hr(p);(b==null?void 0:b.error)?o.openSnackbar({duration:3e3,text:typeof b.error=="string"?b.error:s("snackbarMessage.userIDIncorrect"),type:"error"}):(r(),c(""),o.openSnackbar({duration:3e3,text:s("snackbarMessage.addUserSuccess"),type:"success"}))}else o.openSnackbar({duration:3e3,text:s("snackbarMessage.userUUIDEmpty"),type:"countdown"})});return e.createElement(e.Fragment,null,e.createElement(g,{size:"large",style:{fontWeight:500}},s("userManagement.add_user")),e.createElement("div",{style:{display:"flex",alignItems:"center"}},e.createElement(a,{mt:6,style:{marginRight:"10px",width:"78%",marginTop:"0px"}},e.createElement(ue,{type:"text",value:n,onChange:p=>c(p.target.value),placeholder:s("userManagement.userUUIDEnter"),style:{marginRight:"10px"}})),e.createElement(a,{mt:6,style:{marginRight:"10px",marginTop:"0px"}},e.createElement(xe,{placeholder:s("categoryManagement.selectRole"),value:l,closeOnSelect:!0,onChange:p=>m(p)},e.createElement(Option,{value:"staff",title:s("userManagement.staff")}),e.createElement(Option,{value:"admin",title:s("userManagement.admin")}))),e.createElement(a,{mt:6,style:{marginTop:"0px"}},e.createElement(q,{onClick:h,icon:e.createElement(Ve,null),style:{width:"100%",padding:"12px 24px",borderRadius:"8px"}}))))};const ao=()=>{const{t}=Q("global"),{store_uuid:r}=be(),s=le(),[n,c]=$(_e),[o,l]=i.exports.useState(!1),[m,h]=i.exports.useState([]),[p,b]=i.exports.useState(null),u=()=>{f()};i.exports.useEffect(()=>{c(T(N({},n),{isLoading:!0})),f()},[r]);const f=()=>y(void 0,null,function*(){const E=yield pr(r);(E==null?void 0:E.error)?(console.error("Error:",E.error),c(T(N({},n),{isLoading:!1})),s.openSnackbar({duration:3e3,text:E.error,type:"error"})):(h(E),c(T(N({},n),{isLoading:!1})))}),S=()=>y(void 0,null,function*(){l(!1);const E=yield gr({store_uuid:r,user_uuid:p==null?void 0:p.uuid});(E==null?void 0:E.error)?(console.error("Error:",E.error),s.openSnackbar({duration:3e3,text:E.error,type:"error"})):(f(),s.openSnackbar({duration:3e3,text:t("snackbarMessage.deleteSuccess"),type:"success"}))});return e.createElement(se,{className:"section-container"},e.createElement(to,{store_uuid:r,onUserAdded:u}),e.createElement(Je,{isShowModal:o,setIsShowModal:l,itemDelete:p==null?void 0:p.name,onConfirm:()=>S()}),e.createElement(pe,null,m.map(E=>e.createElement(a,{key:E.role,className:"category-card-container"},e.createElement("img",{className:"category-img",src:E.user.avatar}),e.createElement(a,null,e.createElement(a,{flex:!0,flexDirection:"column"},e.createElement(g,{size:"xLarge",bold:!0,style:{marginLeft:"10px"}},E.user.name),e.createElement(g,{size:"xLarge",bold:!0,style:{marginLeft:"10px"}},E.role))),e.createElement(q,{icon:e.createElement(ft,null),className:"delete-icon",onClick:x=>{x.stopPropagation(),b(E.user),l(!0)}})))))};function no(t){const{t:r}=Q("global"),s=oe(ie),[n,c]=$(_e),[o,l]=$(Nt),[m,h]=i.exports.useState(r("orderHistory.allStore")),p=i.exports.useMemo(()=>{var S;if(!((S=o.orders)==null?void 0:S.length))return null;const f=o.orders.filter(E=>m===r("orderHistory.allStore")?!0:E.store_name===m).sort((E,x)=>new Date(x.created_at).getTime()-new Date(E.created_at).getTime()).map(E=>T(N({},E),{created_at:Sa(E.created_at)}));return ge.exports.groupBy(f,E=>E.created_at)},[o,m]),b=i.exports.useMemo(()=>{var S;if(!((S=o.orders)==null?void 0:S.length))return null;const f=[];return o.orders.forEach(E=>{f.includes(E.store_name)||f.push(E.store_name)}),f},[o]),u=()=>y(this,null,function*(){const f=yield oa();(f==null?void 0:f.error)?snackbar.openSnackbar({duration:3e3,text:typeof f.error=="string"?f.error:r("snackbarMessage.fetchOrderHistoryFailed"),type:"error"}):l({is_update:!0,orders:f}),c(T(N({},n),{isLoading:!1}))});return i.exports.useEffect(()=>{c(T(N({},n),{isLoading:!0})),!!(s==null?void 0:s.authToken)&&setTimeout(()=>{u()},500)},[s.authToken]),e.createElement(se,{className:"section-container"},e.createElement(It,null),e.createElement(a,{className:"order-history"},ge.exports.isEmpty(p)?e.createElement(a,null,r("userOrder.noHaveOrdersYet")):e.createElement(e.Fragment,null,e.createElement(a,{className:"filter-section",mb:2},e.createElement(a,{className:"filter-section_title"},e.createElement(g,null,r("orderHistory.filterByStore"))),e.createElement(a,{className:"filter-section_filter"},e.createElement(xe,{closeOnSelect:!0,placeholder:r("orderHistory.allStore"),value:m,onChange:f=>{h(f)}},e.createElement("option",{value:r("orderHistory.allStore"),title:r("orderHistory.allStore")}),b==null?void 0:b.map((f,S)=>e.createElement("option",{key:S,value:f,title:f}))))),Object.keys(p).map((f,S)=>e.createElement(a,{key:S},e.createElement(a,{pt:4},e.createElement(g,{className:"grey-color"},e.createElement("i",null,f))),p[f].map((E,x)=>e.createElement(a,{className:"order__main",mt:3,key:x},e.createElement(a,{className:`order__status status-${E.status}`},E.status),e.createElement(a,{className:"products-and-note"},e.createElement(a,{textAlign:"",flex:!0},e.createElement("img",{className:"item-img",src:it}),e.createElement(g,{size:"small",className:"grey-color"},E.store_name)),e.createElement(a,{className:"products"},E.products.length&&E.products.map((_,k)=>e.createElement(a,{flex:!0,justifyContent:"space-between",alignItems:"center",key:k,className:"product-item"},e.createElement(a,{flex:!0,alignItems:"center",className:"product-info"},e.createElement(a,null,e.createElement(g,{size:"large"},e.createElement("span",{className:"fw-500"},_.product_name," (x",_.quantity,")")))),e.createElement(a,null,e.createElement(g,{size:"normal"},ee(_.unit_price*_.quantity),e.createElement("span",{style:{marginLeft:"2px"}},"\u20AB")))))),e.createElement(a,{pt:1},E.notes&&e.createElement(a,{className:"note"},e.createElement(g,{size:"large"},r("orderManagement.notes"),":"," ",e.createElement("i",null,'"',E.notes,'"'))),E.status===Y.PAYED&&e.createElement(a,{flex:!0,mb:1},e.createElement(g,{size:"large"},r("orderManagement.orderDetail.totalPayment"),":"),e.createElement(g,{size:"large"},e.createElement("span",{style:{paddingLeft:"6px"}},ee(E.actual_payment_amount),"\u20AB"," ",(()=>{if(!(E==null?void 0:E.actual_payment_amount))return"";const _=(E==null?void 0:E.value)-(E==null?void 0:E.actual_payment_amount);return _===0?"":e.createElement("span",{className:"red-color",style:{marginLeft:"3px",fontWeight:500}},"(-",ee(_),"\u20AB)")})()))))))))))))}const ro=()=>{const t=f=>f.toISOString().split("T")[0],{t:r}=Q("global"),{store_uuid:s}=be();oe(ie);const[n,c]=i.exports.useState(null),[o,l]=i.exports.useState(!1),[m,h]=i.exports.useState({fromDate:new Date(new Date().setDate(new Date().getDate()-1)),toDate:new Date(new Date().setDate(new Date().getDate()+1))}),p=le(),b=()=>y(void 0,null,function*(){l(!0);try{if(m.fromDate>m.toDate)throw new Error(r("saleReport.from_date_can_not_greater_to_date"));const f=new Date;if(m.fromDate>f)throw new Error(r("saleReport.from_date_can_not_greater_today"));const S=yield Er({store_uuid:s,from_date:t(m.fromDate),to_date:t(m.toDate)});c(S.total_value)}catch(f){console.error("Error fetching sale report:",f.message),p.openSnackbar({duration:3e3,text:f.message,type:"error"})}l(!1)}),u=(f,S)=>{h(E=>T(N({},E),{[f]:S}))};return e.createElement(se,{className:"section-container"},e.createElement(a,{mt:2},e.createElement(g,null,r("saleReport.fromDate")),e.createElement(Ge,{mask:!0,maskClosable:!0,value:m==null?void 0:m.fromDate,onChange:f=>{u("fromDate",f)}})),e.createElement(a,{mt:2},e.createElement(g,null,r("saleReport.toDate")),e.createElement(Ge,{mask:!0,maskClosable:!0,value:m==null?void 0:m.toDate,onChange:f=>{u("toDate",f)}})),e.createElement(a,{mt:2},e.createElement(q,{type:"primary",onClick:b,loading:o},"Search")),n!==null&&e.createElement(a,{mt:2,style:{textAlign:"center",padding:"10px",border:"1px solid green"}},e.createElement(g,{size:"xLarge",bold:!0,style:{marginBottom:"8px"}},He(n)," VND")))},so=()=>{const{t}=Q("global"),{store_uuid:r}=be(),[s,n]=$(ie),[c,o]=i.exports.useState(),[l,m]=i.exports.useState(),[h,p]=i.exports.useState({}),[b,u]=i.exports.useState(""),[f,S]=i.exports.useState(""),E=le(),x=Ee();i.exports.useEffect(()=>{var C,B;try{m(c.name);const z=JSON.parse(c.metadata);p(z||{}),(z==null?void 0:z.avatar)&&(u((C=z.avatar)==null?void 0:C.url),S((B=z.avatar)==null?void 0:B.uuid))}catch(z){}},[c]);const _=()=>y(void 0,null,function*(){const C=yield ra(r);o(C)});i.exports.useEffect(()=>{_()},[]);const k=()=>y(void 0,null,function*(){const C=yield Ue();yt({type:"photo",serverUploadUrl:`${C}/v1/attachment/${r}/${s.uuid}`,success:B=>{const P=JSON.parse(B.data).data;console.log("-----------------"),console.log(`data: ${P}`),u(P.urls[0]),S(P.uuids[0]),E.openSnackbar({duration:3e3,text:t("snackbarMessage.uploadImageSuccess"),type:"success"})},fail:B=>{console.log(B),E.openSnackbar({duration:3e3,text:t("snackbarMessage.uploadImageFail"),type:"error"})}})}),d=()=>y(void 0,null,function*(){const C={avatar:b?{url:b,uuid:f}:{},description:h.description,address:h.address,phoneNumber:h.phoneNumber,bankName:h.bankName,bankAccount:h.bankAccount},B={uuid:r,name:l,metadata:JSON.stringify(C)},z=yield Qn(B);(z==null?void 0:z.error)?E.openSnackbar({duration:3e3,text:z.error,type:"success"}):(E.openSnackbar({duration:3e3,text:t("snackbarMessage.updateStoreSuccess"),type:"success"}),x(-1))}),D=C=>{p(B=>T(N({},B),{bankName:C}))};return e.createElement(se,{className:"page"},e.createElement("div",{className:"section-container"},e.createElement(a,null,e.createElement(a,{flex:!0,justifyContent:"center",alignItems:"center",mb:5},e.createElement(a,{style:{position:"relative"},onClick:k},e.createElement("img",{className:"img-store",style:b?{}:{filter:"grayscale(1) opacity(0.5)"},src:b||Dt}),e.createElement(a,{className:"upload-photo-icon"},e.createElement(an,null)))),e.createElement(a,{mb:2},e.createElement(ue,{id:"name",label:t("storeManagement.storeName"),type:"text",placeholder:t("storeManagement.enterStoreName"),value:l,onChange:C=>m(C.target.value),showCount:!0,maxLength:20})),e.createElement(a,{mb:2},e.createElement(ue.TextArea,{id:"description",label:t("editStore.description"),type:"text",placeholder:t("editStore.enterDescription"),value:h==null?void 0:h.description,onChange:C=>p(T(N({},h),{description:C.target.value})),showCount:!0,maxLength:250})),e.createElement(a,{mb:2},e.createElement(ue,{id:"address",label:t("editStore.address"),type:"text",placeholder:t("editStore.enterAddress"),value:h==null?void 0:h.address,onChange:C=>p(T(N({},h),{address:C.target.value}))})),e.createElement(a,{mb:2},e.createElement(ue,{id:"phone",label:t("editStore.phoneNumber"),type:"text",placeholder:t("editStore.enterPhoneNumber"),value:h==null?void 0:h.phoneNumber,onChange:C=>p(T(N({},h),{phoneNumber:C.target.value}))})),e.createElement(a,{mb:2},e.createElement(xe,{label:t("editStore.bankName"),placeholder:t("editStore.selectBank"),value:h==null?void 0:h.bankName,onChange:D,closeOnSelect:!0},e.createElement(Option,{value:"agribank",title:"Ng\xE2n h\xE0ng N\xF4ng nghi\u1EC7p v\xE0 Ph\xE1t tri\u1EC3n N\xF4ng th\xF4n Vi\u1EC7t Nam (Agribank)"}),e.createElement(Option,{value:"gpbank",title:"Ng\xE2n h\xE0ng TNHH MTV D\u1EA7u kh\xED to\xE0n c\u1EA7u (GPBank)"}),e.createElement(Option,{value:"oceanbank",title:"Ng\xE2n h\xE0ng TNHH MTV \u0110\u1EA1i D\u01B0\u01A1ng (OceanBank)"}),e.createElement(Option,{value:"cbbank",title:"Ng\xE2n h\xE0ng TNHH MTV X\xE2y d\u1EF1ng (CBBank)"}),e.createElement(Option,{value:"vietinbank",title:"Ng\xE2n h\xE0ng TMCP C\xF4ng th\u01B0\u01A1ng Vi\u1EC7t Nam (VietinBank)"}),e.createElement(Option,{value:"bidv",title:"Ng\xE2n h\xE0ng TMCP \u0110\u1EA7u t\u01B0 v\xE0 Ph\xE1t tri\u1EC3n Vi\u1EC7t Nam (BIDV)"}),e.createElement(Option,{value:"vietcombank",title:"Ng\xE2n h\xE0ng TMCP Ngo\u1EA1i Th\u01B0\u01A1ng Vi\u1EC7t Nam (Vietcombank)"}),e.createElement(Option,{value:"acb",title:"Ng\xE2n h\xE0ng TMCP \xC1 Ch\xE2u (ACB)"}),e.createElement(Option,{value:"abbank",title:"Ng\xE2n h\xE0ng TMCP An B\xECnh (ABBANK)"}),e.createElement(Option,{value:"vietcapitalbank",title:"Ng\xE2n h\xE0ng TMCP B\u1EA3n Vi\u1EC7t (Viet Capital Bank)"}),e.createElement(Option,{value:"baovietbank",title:"Ng\xE2n h\xE0ng TMCP B\u1EA3o Vi\u1EC7t (BAOVIET Bank)"}),e.createElement(Option,{value:"bacabank",title:"Ng\xE2n h\xE0ng TMCP B\u1EAFc \xC1 (Bac A Bank)"}),e.createElement(Option,{value:"lienvietpostbank",title:"Ng\xE2n h\xE0ng TMCP B\u01B0u \u0111i\u1EC7n Li\xEAn Vi\u1EC7t (LienVietPostBank)"}),e.createElement(Option,{value:"pvcombank",title:"Ng\xE2n h\xE0ng TMCP \u0110\u1EA1i Ch\xFAng Vi\u1EC7t Nam (PVcomBank)"}),e.createElement(Option,{value:"donga",title:"Ng\xE2n h\xE0ng TMCP \u0110\xF4ng \xC1 (DongA Bank)"}),e.createElement(Option,{value:"seabank",title:"Ng\xE2n h\xE0ng TMCP \u0110\xF4ng Nam \xC1 (SeABank)"}),e.createElement(Option,{value:"msb",title:"Ng\xE2n h\xE0ng TMCP H\xE0ng H\u1EA3i (MSB)"}),e.createElement(Option,{value:"kienlongbank",title:"Ng\xE2n h\xE0ng TMCP Ki\xEAn Long (Kienlongbank)"}),e.createElement(Option,{value:"techcombank",title:"Ng\xE2n h\xE0ng TMCP K\u1EF9 Th\u01B0\u01A1ng (Techcombank)"}),e.createElement(Option,{value:"namabank",title:"Ng\xE2n h\xE0ng TMCP Nam \xC1 (Nam A Bank)"}),e.createElement(Option,{value:"ocb",title:"Ng\xE2n h\xE0ng TMCP Ph\u01B0\u01A1ng \u0110\xF4ng (OCB)"}),e.createElement(Option,{value:"mbbank",title:"Ng\xE2n h\xE0ng TMCP Qu\xE2n \u0110\u1ED9i (MB Bank)"}),e.createElement(Option,{value:"vib",title:"Ng\xE2n h\xE0ng TMCP Qu\u1ED1c T\u1EBF (VIB)"}),e.createElement(Option,{value:"ncb",title:"Ng\xE2n h\xE0ng TMCP Qu\u1ED1c d\xE2n (NCB)"}),e.createElement(Option,{value:"scb",title:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n (SCB)"}),e.createElement(Option,{value:"saigonbank",title:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n C\xF4ng Th\u01B0\u01A1ng (SAIGONBANK)"}),e.createElement(Option,{value:"shb",title:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n \u2013 H\xE0 N\u1ED9i (SHB)"}),e.createElement(Option,{value:"sacombank",title:"Ng\xE2n h\xE0ng TMCP S\xE0i G\xF2n Th\u01B0\u01A1ng T\xEDn (Sacombank)"}),e.createElement(Option,{value:"tpbank",title:"Ng\xE2n h\xE0ng TMCP Ti\xEAn Phong (TPBank)"}),e.createElement(Option,{value:"vietabank",title:"Ng\xE2n h\xE0ng TMCP Vi\u1EC7t \xC1 (VietABank)"}),e.createElement(Option,{value:"vpbank",title:"Ng\xE2n h\xE0ng TMCP Vi\u1EC7t Nam Th\u1ECBnh V\u01B0\u1EE3ng (VPBank)"}),e.createElement(Option,{value:"vietbank",title:"Ng\xE2n h\xE0ng TMCP Vi\u1EC7t Nam Th\u01B0\u01A1ng T\xEDn (Vietbank)"}),e.createElement(Option,{value:"pgbank",title:"Ng\xE2n h\xE0ng TMCP X\u0103ng d\u1EA7u Petrolimex (PG Bank)"}),e.createElement(Option,{value:"eximbank",title:"Ng\xE2n h\xE0ng TMCP Xu\u1EA5t Nh\u1EADp Kh\u1EA9u (Eximbank)"}),e.createElement(Option,{value:"hdbank",title:"Ng\xE2n h\xE0ng TMCP Ph\xE1t tri\u1EC3n Th\xE0nh ph\u1ED1 H\u1ED3 Ch\xED Minh (HDBank)"}),e.createElement(Option,{value:"indovina",title:"Ng\xE2n h\xE0ng TNHH Indovina (IVB)"}),e.createElement(Option,{value:"vrb",title:"Ng\xE2n h\xE0ng Li\xEAn doanh Vi\u1EC7t Nga (VRB)"}),e.createElement(Option,{value:"anzvl",title:"Ng\xE2n h\xE0ng TNHH MTV ANZ Vi\u1EC7t Nam (ANZVL)"}),e.createElement(Option,{value:"hlbvn",title:"Ng\xE2n h\xE0ng TNHH MTV Hong Leong Vi\u1EC7t Nam (HLBVN)"}),e.createElement(Option,{value:"hsbc",title:"Ng\xE2n h\xE0ng TNHH MTV HSBC Vi\u1EC7t Nam (HSBC)"}),e.createElement(Option,{value:"shbvn",title:"Ng\xE2n h\xE0ng TNHH MTV Shinhan Vi\u1EC7t Nam (SHBVN)"}),e.createElement(Option,{value:"scbvl",title:"Ng\xE2n h\xE0ng TNHH MTV Standard Chartered Vi\u1EC7t Nam (SCBVL)"}),e.createElement(Option,{value:"pbvn",title:"Ng\xE2n h\xE0ng TNHH MTV Public Bank Vi\u1EC7t Nam (PBVN)"}),e.createElement(Option,{value:"cimb",title:"Ng\xE2n h\xE0ng TNHH MTV CIMB Vi\u1EC7t Nam (CIMB)"}),e.createElement(Option,{value:"woori",title:"Ng\xE2n h\xE0ng TNHH MTV Woori Vi\u1EC7t Nam (Woori)"}),e.createElement(Option,{value:"uob",title:"Ng\xE2n h\xE0ng TNHH MTV UOB Vi\u1EC7t Nam (UOB)"}),e.createElement(Option,{value:"vbsp",title:"Ng\xE2n h\xE0ng Ch\xEDnh s\xE1ch x\xE3 h\u1ED9i Vi\u1EC7t Nam (VBSP)"}),e.createElement(Option,{value:"vdb",title:"Ng\xE2n h\xE0ng Ph\xE1t tri\u1EC3n Vi\u1EC7t Nam (VDB)"}),e.createElement(Option,{value:"coopbank",title:"Ng\xE2n h\xE0ng H\u1EE3p t\xE1c x\xE3 Vi\u1EC7t Nam (Co-opBank)"}))),e.createElement(a,{mb:2},e.createElement(ue,{id:"bank",label:t("editStore.bankAccount"),type:"text",placeholder:t("editStore.enterBankAccount"),helperText:t("editStore.bankExample"),value:h==null?void 0:h.bankAccount,onChange:C=>p(T(N({},h),{bankAccount:C.target.value}))})),e.createElement(a,{mt:5},e.createElement(q,{fullWidth:!0,variant:"primary",onClick:d},t("button.save"))))))};var oo="//h5.zdn.vn/zapps/1139875216161917703/zdev-0b3039b4/assets/subscription-decor.21dba091.svg";const co=()=>{const{t}=Q("global"),{state:r}=St(),[s,n]=i.exports.useState();return i.exports.useEffect(()=>{let c;const o=()=>{let l=r;l?"path"in l?l=l.path:"data"in l&&(l=l.data):l=new URL(window.location.href).searchParams.toString(),Qt.checkTransaction({data:l,success:m=>{console.log("rs",m),n(m),m.resultCode===0&&(c=setTimeout(o,3e3))},fail:m=>{n(m)}})};return o(),()=>{clearTimeout(c)}},[]),s?e.createElement(se,{className:"flex flex-col"},e.createElement(Wt,{title:t("payment.title")}),function(c){if("resultCode"in s){if(s.resultCode===1)return c({title:t("payment.successTitle"),message:t("payment.successSub"),color:"#288F4E"});if(s.resultCode===0)return c({title:t("payment.pendingTitle"),message:`${t("payment.pendingSub")} ${s.orderId}-${s.transId}`,color:"#F4AA39"})}return c({title:t("payment.failTitle"),message:`${t("payment.failSub")} ${JSON.stringify(s.code)}`,color:"#DC1F18"})}(({title:c,message:o,color:l})=>e.createElement(a,{className:"p-4 space-y-4 flex-1 flex flex-col justify-center items-center text-center"},e.createElement("div",{key:+new Date,className:"w-28 h-28 flex items-center justify-center rounded-full animate-spin",style:{backgroundColor:l,animationIterationCount:1}},e.createElement("img",{src:oo})),e.createElement(g.Title,{className:"font-bold",style:{color:l}},c),e.createElement(g,null,o)))):e.createElement(e.Fragment,null)};const lo=()=>{const t=pt(),r=JSON.parse(localStorage.getItem("scanList"))||[],[s,n]=i.exports.useState([]),[c,o]=i.exports.useState(!1),{t:l}=Q("global"),m=le(),h=E=>{n(x=>x.includes(E)?x.filter(_=>_!==E):[...x,E])},p=()=>{o(!c),c&&n([])},b=()=>{const E=r.filter((x,_)=>!s.includes(_));localStorage.setItem("scanList",JSON.stringify(E)),n([])},u=E=>{try{const x=new URL(E),_=x.searchParams.get("storeId"),k=x.searchParams.get("tableId"),d=x.searchParams.get("tenant_id");_&&k&&d?S(_,k,d):f()}catch(x){f()}},f=()=>{m.openSnackbar({text:l("main.not_found"),type:"error"})},S=(E,x,_)=>{t({pathname:`/menu/${E}/${x}`,search:`?tenant_id=${_}`})};return e.createElement("div",{className:"recent-scans"},e.createElement("div",{className:"headerr"},e.createElement("button",{className:"back-button",onClick:()=>t("/")},e.createElement(ce,{icon:"zi-arrow-left"})),e.createElement(g.Title,{className:"title-text"},"\u0110\xE3 qu\xE9t g\u1EA7n \u0111\xE2y")),e.createElement("button",{className:"edit-button",hidden:r.length===0,onClick:p,style:{color:"#0078ff",paddingTop:"10px"}},e.createElement(ce,{icon:"zi-delete"})),e.createElement("ul",{className:"link-list"},r.length>0?r.map((E,x)=>e.createElement("li",{key:x,className:"link-recent"},c&&e.createElement(nn,{checked:s.includes(x),onChange:()=>h(x)}),e.createElement("div",{className:"link-content"},e.createElement("div",{className:"link-icon"},e.createElement(ce,{icon:"zi-link"})),e.createElement("div",{className:"link-details"},e.createElement("a",{className:"link-text-recent",href:"#",onClick:()=>u(E)},E))))):e.createElement("div",{className:"no-links",style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100vh"}},e.createElement(rn,{style:{fontSize:"80px",color:"black",opacity:.4,marginTop:"100px"}}),e.createElement(g.Title,{className:"title-text",style:{color:"gray"}},l("main.textWhenNothing")))),c&&r.length>0&&e.createElement("div",{className:"edit-actions"},e.createElement(g.Title,{className:"title-text",onClick:()=>n(r.map((E,x)=>x))},"Ch\u1ECDn t\u1EA5t c\u1EA3"),e.createElement("button",{disabled:s.length===0,className:s.length===0?"disable-btn":"remove-btn",onClick:b},e.createElement(ce,{icon:"zi-delete"}))))},{language:io}=zt();Kt.init({interpolation:{escapeValue:!1},lng:io.split("-")[0],fallbackLng:"en",resources:{en:{global:Ts},vi:{global:Ys}}});const uo=sn({typography:{fontFamily:"Montserrat"},palette:{primary:{main:"#e71826"}}}),mo=()=>e.createElement(on,null,e.createElement(cn,{i18n:Kt},e.createElement(ln,{theme:uo},e.createElement(un,null,e.createElement(mn,null,e.createElement(dn,null,e.createElement(Js,null,e.createElement(Zt,null,e.createElement(X,{element:e.createElement(ls,null)},e.createElement(X,{path:"/menu/:store_uuid/:table_uuid",element:e.createElement(fa,null)}),e.createElement(X,{path:"/user/promotion",element:e.createElement(rs,null)}),e.createElement(X,{path:"/user/order/:store_uuid",element:e.createElement(os,null)}),e.createElement(X,{path:"/user/profile",element:e.createElement(da,null)}))),e.createElement(pn,null,e.createElement(X,{path:"/",element:e.createElement(es,null)}),e.createElement(X,{path:"/about",element:e.createElement(En,null)}),e.createElement(X,{path:"/result",element:e.createElement(co,null)}),e.createElement(X,{path:"/recent-scan",element:e.createElement(lo,null)}),e.createElement(X,{path:"/user/form",element:e.createElement(vr,null)}),e.createElement(X,{element:e.createElement(is,null)},e.createElement(X,{path:"/admin/home",element:e.createElement(as,null)}),e.createElement(X,{path:"/order-history",element:e.createElement(no,null)}),e.createElement(X,{path:"/admin/profile",element:e.createElement(da,null)}),e.createElement(X,{path:"/admin/company/index",element:e.createElement(Sr,null)}),e.createElement(X,{path:"/admin/company/form",element:e.createElement(_r,null)}),e.createElement(X,{path:"/admin/store/form",element:e.createElement(Dr,null)}),e.createElement(X,{path:"/admin/store/index",element:e.createElement(Tr,null)}),e.createElement(X,{path:"/admin/product/index/:store_uuid",element:e.createElement(Ir,null)}),e.createElement(X,{path:"/admin/product/form/:store_uuid/:product_uuid",element:e.createElement(ha,null)}),e.createElement(X,{path:"/admin/product/scanmenu/:store_uuid",element:e.createElement(Ar,null)}),e.createElement(X,{path:"/admin/product/update/:store_uuid/:product_uuid",element:e.createElement(ha,null)}),e.createElement(X,{path:"/admin/category/form/:store_uuid/:category_uuid",element:e.createElement(Fr,null)}),e.createElement(X,{path:"/admin/category/index/:store_uuid",element:e.createElement(Vr,null)}),e.createElement(X,{path:"/admin/table/index/:store_uuid",element:e.createElement(qr,null)}),e.createElement(X,{path:"/admin/table/form/:store_uuid/:table_uuid",element:e.createElement(eo,null)}),e.createElement(X,{path:"/admin/voucher/index/:store_uuid",element:e.createElement(Ws,null)}),e.createElement(X,{path:"/admin/voucher/form/:store_uuid",element:e.createElement(_a,null)}),e.createElement(X,{path:"/admin/voucher/update/:store_uuid/:voucher_uuid",element:e.createElement(_a,null)}),e.createElement(X,{path:"/admin/order-management/index/:store_uuid",element:e.createElement(Zr,null)}),e.createElement(X,{path:"/admin/order-management/details/index/:order_uuid/:store_uuid",element:e.createElement(Xr,null)}),e.createElement(X,{path:"/admin/order-management/create/index/:store_uuid",element:e.createElement(fa,null)}),e.createElement(X,{path:"/admin/user/index/:store_uuid",element:e.createElement(ao,null)}),e.createElement(X,{path:"/admin/sale-report/:store_uuid",element:e.createElement(ro,null)}),e.createElement(X,{path:"/admin/store/edit/:store_uuid",element:e.createElement(so,null)})))),e.createElement(Zt,null,e.createElement(X,{path:"/ui-component",element:e.createElement(Xs,null)}))))))));window.APP_CONFIG||(window.APP_CONFIG=$e);const po=gn(document.getElementById("app"));po.render(e.createElement(mo));
